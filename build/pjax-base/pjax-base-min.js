YUI.add("pjax-base",function(f,d){var c=f.config.win,e=f.ClassNameManager.getClassName("pjax"),a="navigate";function b(){}b.prototype={_regexURL:/^((?:[^\/#?:]+:\/\/|\/\/)[^\/]*)?([^?#]*)(\?[^#]*)?(#.*)?$/,initializer:function(){this.publish(a,{defaultFn:this._defNavigateFn});if(this.get("html5")){this._pjaxBindUI();}},destructor:function(){this._pjaxEvents&&this._pjaxEvents.detach();},navigate:function(h,g){h=this._resolveURL(h);if(this._navigate(h,g)){return true;}if(!this._hasSameOrigin(h)){f.error("Security error: The new URL must be of the same origin as the current URL.");}return false;},_isLinkSameOrigin:function(j){var g=f.getLocation(),l=g.protocol,i=g.hostname,h=parseInt(g.port,10)||null,k;if(j.get("protocol")!==l||j.get("hostname")!==i){return false;}k=parseInt(j.get("port"),10)||null;if(l==="http:"){h||(h=80);k||(k=80);}else{if(l==="https:"){h||(h=443);k||(k=443);}}return k===h;},_navigate:function(i,h){i=this._upgradeURL(i);if(!this.hasRoute(i)){return false;}h=f.merge(h,{url:i});var k=this._getURL(),j,g;g=i.replace(/(#.*)$/,function(l,n,m){j=n;return l.substring(m);});if(j&&g===k.replace(/#.*$/,"")){if(!this.get("navigateOnHash")){return false;}h.hash=j;}"replace" in h||(h.replace=i===k);if(this.get("html5")||h.force){this.fire(a,h);}else{if(h.replace){c&&c.location.replace(i);}else{c&&(c.location=i);}}return true;},_pjaxBindUI:function(){if(!this._pjaxEvents){this._pjaxEvents=f.one("body").delegate("click",this._onLinkClick,this.get("linkSelector"),this);}},_defNavigateFn:function(g){this[g.replace?"replace":"save"](g.url);if(c&&this.get("scrollToTop")){setTimeout(function(){c.scroll(0,0);},1);}},_onLinkClick:function(i){var h,g;if(i.button!==1||i.ctrlKey||i.metaKey){return;}h=i.currentTarget;if(h.get("tagName").toUpperCase()!=="A"){return;}if(!this._isLinkSameOrigin(h)){return;}g=h.get("href");g&&this._navigate(g,{originEvent:i})&&i.preventDefault();}};b.ATTRS={linkSelector:{value:"a."+e,writeOnce:"initOnly"},navigateOnHash:{value:false},scrollToTop:{value:true}};f.PjaxBase=b;},"@VERSION@",{"requires":["classnamemanager","node-event-delegate","router"]});