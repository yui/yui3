YUI.add("scrollview-paginator",function(c,e){var g=c.ClassNameManager.getClassName,s="scrollview",n=g(s,"hidden"),d=g(s,"paged"),h=(c.ScrollView)?c.ScrollView.UI_SRC:"ui",r="index",m="scrollX",l="scrollY",k="total",q="host",t="boundingBox",j="contentBox",f="selector",a="flick",b="drag",p="x",o="y";function i(){i.superclass.constructor.apply(this,arguments);}c.extend(i,c.Plugin.Base,{initializer:function(v){var z=this,x=z.get(q),y=x._bb,u=x._cb,w="auto";v=v||{};if(v.axis){switch(v.axis.toLowerCase()){case"x":w={x:true,y:false};break;case"y":w={x:false,y:true};break;}}z.axis=w;z.optimizeMemory=v.optimizeMemory||false;z.padding=v.padding||1;z.cards=[];z._bb=y;z._cb=u;z._host=x;z._cIndex=v.index||0;z._prevent=new c.Do.Prevent();z.after("indexChange",z._afterIndexChange);z.beforeHostMethod("scrollTo",z._beforeHostScrollTo);z.beforeHostMethod("_mousewheel",z._beforeHostMousewheel);z.afterHostMethod("_onGestureMoveEnd",z._afterHostGestureMoveEnd);z.afterHostMethod("_uiDimensionsChange",z._afterHostUIDimensionsChange);z.afterHostEvent("render",z._afterHostRender);z.afterHostEvent("scrollEnd",z._afterHostScrollEnded);z.afterHostMethod("syncUI",z._afterHostSyncUI);},_afterHostRender:function(w){var B=this,x=B._bb,C=B._host,v=B._cIndex,u=B.axis,z=B._getPageNodes(),D=z.size(),A=B.cards[v].maxScrollX,y=B.cards[v].maxScrollY;if(u[o]){C._maxScrollX=A;}else{if(u[p]){C._maxScrollY=y;}}B.set(k,D);if(v!==0){B.scrollToIndex(v,0);}x.addClass(d);},_afterHostSyncUI:function(w){var x=this,u=x._host,v=u.get(a);if(x.axis==="auto"){x.axis=u.axis;}if(x.axis[p]){v.axis=o;u.set(a,v);}else{if(x.axis[o]){v.axis=p;u.set(a,v);}}},_afterHostUIDimensionsChange:function(y){var B=this,w=B._host,z=B._bb,x=z.get("offsetWidth"),v=z.get("offsetHeight"),A=B._getPageNodes(),u=A.size();A.each(function(G,D){var C=G.get("scrollWidth"),E=G.get("scrollHeight"),H=Math.max(0,C-x),F=Math.max(0,E-v);if(!B.cards[D]){B.cards[D]={maxScrollX:H,maxScrollY:F,node:G,scrollX:0,scrollY:0};}else{B.cards[D].maxScrollX=H;B.cards[D].maxScrollY=F;}});},_beforeHostScrollTo:function(D,C,v,B,u){var F=this,G=F._host,E=G._gesture,z=F._cIndex,w=F.axis,A;if(E){A=E.axis;if(A===o){D=null;}else{C=null;}if(w[A]===false){u=F.cards[z].node;}}return new c.Do.AlterArgs("new args",[D,C,v,B,u]);},_afterHostGestureMoveEnd:function(x){var z=this,v=z._host,u=v._gesture,y=z.axis,w=u&&u.axis;if(y[w]){if(u[(w===p?"deltaX":"deltaY")]>0){z[v.rtl?"prev":"next"]();}else{z[v.rtl?"next":"prev"]();}}},_beforeHostMousewheel:function(w){var z=this,u=z._host,x=u._bb,v=w.wheelDelta<0,y=z.axis;u._gesture={axis:o};if(x.contains(w.target)&&y[o]){if(v){z.next();}else{z.prev();}w.preventDefault();return z._prevent;}},_afterHostScrollEnded:function(x){var A=this,v=this._host,u=A._cIndex,y=v.get(m),w=v.get(l),z=A.axis;if(z[o]){A.cards[u].scrollX=y;}else{A.cards[u].scrollY=w;}A._optimize();},_afterIndexChange:function(A){var B=this,x=this._host,u=A.newVal,z=B.cards[u].maxScrollX,w=B.cards[u].maxScrollY,v=x._gesture,y=v&&v.axis;if(y===o){x._maxScrollX=z;x.set(m,B.cards[u].scrollX,{src:h});}else{if(y===p){x._maxScrollY=w;x.set(l,B.cards[u].scrollY,{src:h});}}B._cIndex=u;if(A.src!==h){B.scrollToIndex(u);}},_optimize:function(){if(!this.optimizeMemory){return false;}var y=this,w=y._host,v=y.optimizeMemory,u=y._cIndex,x;x=y._getStage(u);y._showNodes(x.visible);y._hideNodes(x.hidden);},_getStage:function(w){var x=this.padding,z=this._getPageNodes(),v=this.get(k),y=Math.max(0,w-x),u=Math.min(v,w+1+x);return{visible:z.splice(y,u-y),hidden:z};},_showNodes:function(u){if(u){u.removeClass(n).setStyle("visibility","");}},_hideNodes:function(u){if(u){u.addClass(n).setStyle("visibility","hidden");}},_getPageNodes:function(){var y=this,v=y._host,u=v._cb,w=y.get(f),x=w?u.all(w):u.get("children");return x;},next:function(){var x=this,u=x._cIndex,w=u+1,v=this.get(k);if(w>=v){return;}x.set(r,w);},prev:function(){var w=this,u=w._cIndex,v=u-1;if(v<0){return;}w.set(r,v);},scrollTo:function(){return this.scrollToIndex.apply(this,arguments);},scrollToIndex:function(w,z,B){var A=this,y=A._host,v=A._getPageNodes().item(w),x=(A.axis[p]?m:l),u=v.get(x===m?"offsetLeft":"offsetTop");z=(z!==undefined)?z:i.TRANSITION.duration;B=(B!==undefined)?z:i.TRANSITION.easing;A.set(r,w);A._showNodes(v);y.set(x,u,{duration:z,easing:B});}},{NAME:"pluginScrollViewPaginator",NS:"pages",ATTRS:{selector:{value:null},index:{value:0,validator:function(u){return true;}},total:{value:0}},TRANSITION:{duration:300,easing:"ease-out"}});c.namespace("Plugin").ScrollViewPaginator=i;},"@VERSION@",{"requires":["plugin","classnamemanager"]});