YUI.add("substitute",function(h){var b=h.Lang,e="dump",g=" ",d="{",f="}",c=/(~-(\d+)-~)/g,a=function(B,m,u,l){var r,q,p,z,y,A,x=[],n,t,w=B.length;m=h.merge({LBRACE:d,RBRACE:f},m);for(;;){r=B.lastIndexOf(d,w);if(r<0){break;}q=B.indexOf(f,r);if(r+1>=q){break;}n=B.substring(r+1,q);z=n;A=null;p=z.indexOf(g);if(p>-1){A=z.substring(p+1);z=z.substring(0,p);}y=m[z];if(u){y=u(z,y,A);}if(b.isObject(y)){if(!h.dump){y=y.toString();}else{if(b.isArray(y)){y=h.dump(y,parseInt(A,10));}else{A=A||"";t=A.indexOf(e);if(t>-1){A=A.substring(4);}if(y.toString===Object.prototype.toString||t>-1){y=h.dump(y,parseInt(A,10));}else{y=y.toString();}}}}else{if(b.isUndefined(y)){y="~-"+x.length+"-~";x.push(n);}}B=B.substring(0,r)+y+B.substring(q+1);if(!l){w=r-1;}}B=B.replace(c,function(k,j,i){return d+x[parseInt(i,10)]+f;});return B;};h.substitute=a;b.substitute=a;},"@VERSION@",{optional:["dump"],requires:["yui-base"]});