YUI.add("event-tap",function(e,d){var b=("createTouch" in document),a={START:b?"touchstart":"mousedown",MOVE:b?"touchmove":"mousemove",END:b?"touchend":"mouseup",CANCEL:b?"touchcancel":"mousecancel",TAP:"tap"},f={ON:{START:"Y_TAP_ON_START_HANDLE",MOVE:"Y_TAP_ON_MOVE_HANDLE",END:"Y_TAP_ON_END_HANDLE",CANCEL:"Y_TAP_ON_CANCEL_HANDLE"},DELEGATE:{START:"Y_TAP_DELEGATE_START_HANDLE",MOVE:"Y_TAP_DELEGATE_MOVE_HANDLE",END:"Y_TAP_DELEGATE_END_HANDLE",CANCEL:"Y_TAP_DELEGATE_CANCEL_HANDLE"}};function c(i,h,j,g){h=j?h:[h.START,h.MOVE,h.END,h.CANCEL];e.each(h,function(k){var l=i[k];if(l){l.detach();i[k]=null;}});}e.Event.define(a.TAP,{on:function(i,h,g){h[f.ON.START]=i.on(a.START,this.touchStart,this,i,h,g);},detach:function(i,h,g){c(h,f.ON);},delegate:function(j,i,h,g){i[f.DELEGATE.START]=j.delegate(a.START,function(k){this.touchStart(k,j,i,h,true);},g,this);},detachDelegate:function(i,h,g){c(h,f.DELEGATE);},touchStart:function(m,l,k,j,i){var g=i?f.DELEGATE:f.ON,h={cancelled:false};if(m.button&&m.button===3){return;}h.node=i?m.currentTarget:l;if(b&&m.touches){h.startXY=[m.touches[0].pageX,m.touches[0].pageY];}else{h.startXY=[m.pageX,m.pageY];}if(m.touches&&m.touches.length!==1){return;}k[g.MOVE]=l.once(a.MOVE,this.touchMove,this,l,k,j,i,h);k[g.END]=l.once(a.END,this.touchEnd,this,l,k,j,i,h);k[g.CANCEL]=l.once(a.CANCEL,this.touchMove,this,l,k,j,i,h);},touchMove:function(m,l,k,j,i,h){var g=i?f.DELEGATE:f.ON;c(k,[g.MOVE,g.END,g.CANCEL],true,h);h.cancelled=true;},touchEnd:function(g,i,o,p,l,h){var k=h.startXY,m,j,n=l?f.DELEGATE:f.ON;if(b&&g.changedTouches){m=[g.changedTouches[0].pageX,g.changedTouches[0].pageY];j=[g.changedTouches[0].clientX,g.changedTouches[0].clientY];}else{m=[g.pageX,g.pageY];j=[g.clientX,g.clientY];}c(o,[n.MOVE,n.END,n.CANCEL],true,h);if(Math.abs(m[0]-k[0])===0&&Math.abs(m[1]-k[1])===0){g.type=a.TAP;g.pageX=m[0];g.pageY=m[1];g.clientX=j[0];g.clientY=j[1];g.currentTarget=h.node;p.fire(g);}}});},"@VERSION@",{"requires":["node-base","event-base","event-touch"]});