YUI.add("dd-scroll",function(b,m){var h=function(){h.superclass.constructor.apply(this,arguments);},c,d,l="host",a="buffer",j="parentScroll",g="windowScroll",i="scrollTop",f="scrollLeft",e="offsetWidth",k="offsetHeight";h.ATTRS={parentScroll:{value:false,setter:function(n){if(n){return n;}return false;}},buffer:{value:30,validator:b.Lang.isNumber},scrollDelay:{value:235,validator:b.Lang.isNumber},host:{value:null},windowScroll:{value:false,validator:b.Lang.isBoolean},vertical:{value:true,validator:b.Lang.isBoolean},horizontal:{value:true,validator:b.Lang.isBoolean}};b.extend(h,b.Base,{_scrolling:null,_vpRegionCache:null,_dimCache:null,_scrollTimer:null,_getVPRegion:function(){var o={},p=this.get(j),v=this.get(a),u=this.get(g),z=((u)?[]:p.getXY()),x=((u)?"winWidth":e),s=((u)?"winHeight":k),y=((u)?p.get(i):z[1]),q=((u)?p.get(f):z[0]);o={top:y+v,right:(p.get(x)+q)-v,bottom:(p.get(s)+y)-v,left:q+v};this._vpRegionCache=o;return o;},initializer:function(){var n=this.get(l);n.after("drag:start",b.bind(this.start,this));n.after("drag:end",b.bind(this.end,this));n.on("drag:align",b.bind(this.align,this));b.one("win").on("scroll",b.bind(function(){this._vpRegionCache=null;},this));},_checkWinScroll:function(B){var A=this._getVPRegion(),n=this.get(l),p=this.get(g),u=n.lastXY,o=false,G=this.get(a),t=this.get(j),I=t.get(i),x=t.get(f),y=this._dimCache.w,D=this._dimCache.h,v=u[1]+D,z=u[1],F=u[0]+y,s=u[0],H=z,q=s,C=I,E=x;if(this.get("horizontal")){if(s<=A.left){o=true;q=u[0]-((p)?G:0);E=x-G;}if(F>=A.right){o=true;q=u[0]+((p)?G:0);E=x+G;}}if(this.get("vertical")){if(v>=A.bottom){o=true;H=u[1]+((p)?G:0);C=I+G;}if(z<=A.top){o=true;H=u[1]-((p)?G:0);C=I-G;}}if(C<0){C=0;H=u[1];}if(E<0){E=0;q=u[0];}if(H<0){H=u[1];}if(q<0){q=u[0];}if(n.con){if(!n.con.inRegion([q+E,H+C])){B=false;}}if(B){n.actXY=[q,H];n._alignNode([q,H],true);u=n.actXY;n.actXY=[q,H];n._moveNode({node:t,top:C,left:E});if(!C&&!E){this._cancelScroll();}}else{if(o){this._initScroll();}else{this._cancelScroll();}}},_initScroll:function(){this._cancelScroll();this._scrollTimer=b.Lang.later(this.get("scrollDelay"),this,this._checkWinScroll,[true],true);},_cancelScroll:function(){this._scrolling=false;if(this._scrollTimer){this._scrollTimer.cancel();delete this._scrollTimer;}},align:function(n){if(this._scrolling){this._cancelScroll();n.preventDefault();}if(!this._scrolling){this._checkWinScroll();}},_setDimCache:function(){var n=this.get(l).get("dragNode");this._dimCache={h:n.get(k),w:n.get(e)};},start:function(){this._setDimCache();},end:function(n){this._dimCache=null;this._cancelScroll();}});b.namespace("Plugin");c=function(){c.superclass.constructor.apply(this,arguments);};c.ATTRS=b.merge(h.ATTRS,{windowScroll:{value:true,setter:function(n){if(n){this.set(j,b.one("win"));}return n;}}});b.extend(c,h,{initializer:function(){this.set("windowScroll",this.get("windowScroll"));}});c.NAME=c.NS="winscroll";b.Plugin.DDWinScroll=c;d=function(){d.superclass.constructor.apply(this,arguments);};d.ATTRS=b.merge(h.ATTRS,{node:{value:false,setter:function(o){var p=b.one(o);if(!p){if(o!==false){b.error("DDNodeScroll: Invalid Node Given: "+o);}}else{this.set(j,p);}return p;}}});b.extend(d,h,{initializer:function(){this.set("node",this.get("node"));}});d.NAME=d.NS="nodescroll";b.Plugin.DDNodeScroll=d;b.DD.Scroll=h;},"@VERSION@",{"requires":["dd-drag"]});