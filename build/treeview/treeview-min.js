YUI.add("treeview",function(D){var U="treenode",W="contentBox",o="boundingBox",q=0,V=1,p=2,t=0,s=1,i=2,C=3,l="parent",d="previousSibling",S="nextSibling",n="root",J=D.ClassNameManager.getClassName,H="toggle",L="leaf",T="plus",K="minus",O="first",N="middle",b="last",e="content",a="magnet",P="children",Z=J(U,H),k=J(U,H,O,L),j=J(U,H,O,T),m=J(U,H,O,K),A=J(U,H,N,L),u=J(U,H,N,T),B=J(U,H,N,K),G=J(U,H,b,L),E=J(U,H,b,T),I=J(U,H,b,K),f=new RegExp("\\b"+J(U,H,"("+O+"|"+N+"|"+b+")","("+L+"|"+T+"|"+K+")")+"\\b","gi"),c=J(U,e),F=J(U,a),g=J(U,P),R='<div class ="'+Z+'"><span class ="'+c+'"></span><a class ="'+F+'" href ="#">&nbsp;</a></div>',Q='<div class ="'+g+'"></div>',X="<div></div>";var h=function(){h.superclass.constructor.apply(this,arguments);};D.mix(h,{NAME:U,HTML_PARSER:{},ATTRS:{children:{readOnly:true,get:function(){return this._children;},clone:D.Attribute.CLONE.DEEP},dataLoader:{value:null},depth:{value:undefined},editable:{value:false},enableHighlight:{value:false},expanded:{value:false},highlightState:{value:q},isLeaf:{value:false},multiExpand:{value:true},nextSibling:{value:null,validator:function(Y){return this._nextSiblingValidator(Y);}},previousSibling:{value:null,validator:function(Y){return this._previousSiblingValidator(Y);}},parent:{value:null,validator:function(Y){return this._parentValidator(Y);}},propagateHighlight:{value:t},root:{value:null,readOnly:true},content:{value:null,validator:function(Y){return this._contentValidator(Y);},set:function(Y){return this._contentSetter(Y);}},container:{writeOnce:true}}});D.extend(h,D.Widget,{_children:null,_childContainerEl:null,_dontPropagate:false,initializer:function(Y){var x,z,y,w,v;this._children=[];Y=Y||{};if(l in Y){x=Y[l];z=x._children;if(z.length){y=z[z.length-1];y._dontPropagate=true;y.set(S,this);y._dontPropagate=false;this.set(d,y);}z.push(this);this.set(l,x);}if(S in Y){w=Y[S];this.set(S,w);if(x){if(w.get(l)){if(w.get(l)!==x){D.error("Next Sibling has a diferent parent");return false;}}else{w._dontPropagate=true;w.set(l,x);w._dontPropagate=false;z.push(w);}}else{if(w.get(l)){x=w.get(l);z=x._children;for(v=0;v<z.length;v++){if(w===z[v]){z.splice(v,0,this);break;}}if(v===z.length){D.error("Position of nextSibling amongst parent children not found");}this.set(l,x);}}y=w.get(d);if(y){this.set(d,y);y._dontPropagate=true;y.set(S,this);y._dontPropagate=false;}w._dontPropagate=true;w.set(d,this);w._dontPropagate=false;}if(d in Y){if(y){if(y!==Y[d]){D.error("Inconsistent siblings for node");}}else{y=Y[d];this.set(d,y);if(x){if(x!==y.get(l)){D.error("Previous Sibling has a diferent parent");}}else{x=y.get(l);z=x._children;for(v=0;v<z.length;v++){if(y===z[v]){z.splice(v+1,0,this);break;}}if(v===z.length){D.error("Position of previousSibling amongst parent children not found");}this.set(l,x);}if(w){if(w!==y.get(S)){D.error("Inconsistent siblings for node");}}else{w=y.get(S);if(w){w._dontPropagate=true;w.set(d,this);w._dontPropagate=false;this.set(S,w);}}y._dontPropagate=true;y.set(S,this);y._dontPropagate=false;}}this._findRoot();this.after("parentChange",this._afterParentChange);this.after("nextSiblingChange",this._afterNextSiblingChange);this.after("previousSiblingChange",this._afterPreviousSiblingChange);this.after("contentChange",this._afterContentChange);},destructor:function(){for(var v=0;v<this._children.length;v++){this._children[v].destructor();}var Y=this.get(W);Y.set("innerHTML","");Y.set("className",Y.get("className").replace(f,""));},renderUI:function(){if(!this.get(n)){this._findRoot();}this._renderUIContainer();this._renderUIChildren();},_findRoot:function(){var Y=function(x){var v,w=x.get(l);if(w){v=Y(w);}else{v=x;}x._set(n,v);return v;};this._set(n,Y(this));},_renderUIContainer:function(){var Y=this.get(W);Y.appendChild(D.Node.create(R));Y.addClass(k);var w=this.get(W).query("."+c);this.set("container",w);var v=this.get("content");if(v instanceof D.Node){w.appendChild(v);}},_renderUIChildren:function(){var Y=this.get(W);Y.appendChild(D.Node.create(Q));this._childContainerEl=Y.query("."+g);for(var v=0;v<this._children.length;v++){this._children[v].render(this._childContainerEl);}},bindUI:function(){},syncUI:function(){},_genericNodeValidator:function(w,v){var Y=this.get(v);return(w===null&&Y!==null)||(w instanceof h&&w!==Y);},_parentValidator:function(Y){return this._genericNodeValidator(Y,l);},_nextSiblingValidator:function(Y){return this._genericNodeValidator(Y,S);},_previousSiblingValidator:function(Y){return this._genericNodeValidator(Y,d);},_contentValidator:function(Y){return !D.Lang.isUndefined(Y);},_contentSetter:function(Y){switch(true){case D.Lang.isNull(Y):return null;case Y instanceof D.Node:return Y;case Y.nodeType&&Y.nodeType==1:return D.get(Y);case D.Lang.isString(Y):return D.Node.create(Y);default:return undefined;}},_afterContentChange:function(w){var v=w.newVal;var Y=this.get("container");if(Y){Y.set("innerHTML","");Y.appendChild(v);}},_afterParentChange:function(w){if(this._dontPropagate){return;}this._dontPropagate=true;var v=w.newVal;var Y=this.get("parent");if(Y){Y.removeChild(v);}if(v){v.insertChild(this);}this._dontPropagate=false;},_afterNextSiblingChange:function(x){if(this._dontPropagate){return;}this._dontPropagate=true;var w=x.newVal;var Y=this.get(l);var v=w&&w.get(l);if(Y){Y.removeChild(w);}if(v){v.insertChild(this,w);}else{}this._dontPropagate=false;},_afterPreviousSiblingChange:function(x){if(this._dontPropagate){return;}this._dontPropagate=true;var w=x.newVal;var Y=this.get(l);if(Y){Y.removeChild(w);}var v=w&&w.get(l);if(v){v.insertChild(this,w.get(S));}else{}this._dontPropagate=false;},removeChild:function(v){if(v.get(d)){v.get(d).set(S,v.get(S));}if(v.get(S)){v.get(S).set(d,v.get(d));}for(var Y=0;Y<this._children.length;Y++){if(this._children[Y]===v){this._children.splice(Y,1);break;}}v.set(l,null);v.set(S,null);v.set(d,null);v._set(n,v);if(v.get("rendered")){var w=v.get(o);w.get("parentNode").removeChild(w);}return v;},appendChild:function(Y){return this.insertNode(Y);},insertChild:function(y,Y){var w,x,AA,z,v;
if(y.get(d)||y.get(d)||y.get(l)){D.error("Cannot insert a node attached elsewhere ["+y+"]");return false;}if(D.Lang.isNumber(Y)){if(Y>=0&&Y<this._children.length){w=this._children[w];}else{D.error("Tried to insert child ["+y+"] out of bounds at next "+w+" in ["+this+"]");return false;}}else{w=Y;}if(w instanceof h){if(w.get(l)!==this){D.error("Cannot insert node ["+y+"] before a node ["+w+"] that is not a children of this node ["+this+"]");return false;}}else{if(D.Lang.isUndefined(w)){w=null;}else{D.error("Argument next in method insertNode should be an integer, a TreeNode reference or undefined "+w);return false;}}AA=this._children;if(w){y.set(S,w);x=w.get(d);if(x){x.set(S,y);}y.set(d,x);w.set(d,y);for(v=0;v<AA.length;v++){if(AA[v]===w){AA.splice(v,0,y);break;}}if(v===AA.length){D.error("Position of nextSibling amongst parent children not found");}}else{x=AA[AA.length-1];if(x){x.set(S,y);y.set(d,x);}AA.push(y);}if(y.get("rendered")){z=y.get(o);if(w){this._childContainerEl.insertBefore(z,w.get(o));}else{this._childContainerEl.appendChild(z);}}else{if(w){this.set(W,this._childContainerEl.insertBefore(D.Node.create(X),w.get(o)));}else{this.set(W,this._childContainerEl.appendChild(D.Node.create(X)));}y.render();}if(y.get(n)!==this.get(n)){this._findRoot();}return y;}});D.TreeNode=h;var r="treeview";var M=function(){M.superclass.constructor.apply(this,arguments);};D.mix(M,{NAME:r,HTML_PARSER:{},ATTRS:{}});D.extend(M,D.TreeNode,{});D.TreeView=M;},"@VERSION@",{requires:["widget"]});