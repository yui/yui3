YUI.add("test-console",function(b){function a(){a.superclass.constructor.apply(this,arguments);}b.namespace("Test").Console=b.extend(a,b.Console,{initializer:function(c){this.on("entry",this._onEntry);this.plug(b.Plugin.ConsoleFilters,{category:b.merge({info:true,pass:false,fail:true,status:false},(c&&c.filters)||{}),defaultVisibility:false,source:{TestRunner:true}});b.Test.Runner.on("complete",b.bind(this._parseCoverage,this));},_parseCoverage:function(){var d=b.Test.Runner.getCoverage();if(!d){return;}var c={lines:{hit:0,miss:0,total:0,percent:0},functions:{hit:0,miss:0,total:0,percent:0}};b.Object.each(d,function(f){c.lines.total+=f.coveredLines;c.lines.hit+=f.calledLines;c.lines.miss+=(f.coveredLines-f.calledLines);c.lines.percent=Math.floor((c.lines.hit/c.lines.total)*100);c.functions.total+=f.coveredFunctions;c.functions.hit+=f.calledFunctions;c.functions.miss+=(f.coveredFunctions-f.calledFunctions);c.functions.percent=Math.floor((c.functions.hit/c.functions.total)*100);});var e="Lines: Hit:"+c.lines.hit+" Missed:"+c.lines.miss+" Total:"+c.lines.total+" Percent:"+c.lines.percent+"%\n";e+="Functions: Hit:"+c.functions.hit+" Missed:"+c.functions.miss+" Total:"+c.functions.total+" Percent:"+c.functions.percent+"%";this.log("Coverage: "+e,"info","TestRunner");},_onEntry:function(c){var d=c.message;if(d.category==="info"&&/\s(?:case|suite)\s|yuitests\d+|began/.test(d.message)){d.category="status";}else{if(d.category==="fail"){this.printBuffer();}}}},{NAME:"testConsole",ATTRS:{entryTemplate:{value:'<div class="{entry_class} {cat_class} {src_class}">'+'<div class="{entry_content_class}">{message}</div>'+"</div>"},height:{value:"350px"},newestOnTop:{value:false},style:{value:"block"},width:{value:b.UA.ie&&b.UA.ie<9?"100%":"inherit"}}});},"@VERSION@",{requires:["console-filters","test"],skinnable:true});