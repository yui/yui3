YUI.add("progressbar",function(D){var K="progressbar",M="mask",O="bar",i="tl",g="tr",f="bl",Z="br",m="boundingBox",U="contentBox",F="width",e="height",c="minValue",A="maxValue",l="value",B="anim",V="direction",j="ltr",H="rtl",C="ttb",o="btt",a="barEl",S="maskEl",k="ariaTextTemplate",X="start",T="progress",Q="complete",G=D.ClassNameManager.getClassName,h=G(K,M),p=G(K,O),P=G(K,i),N=G(K,g),I=G(K,f),E=G(K,Z),W=G(K,B),R='<div class="'+p+'"></div>',n=['<div class="',h,'"><div class="',P,'"></div><div class="',N,'"></div><div class="',I,'"></div><div class="',E,'"></div></div>'].join(""),J=D.Lang,r="px";var d=function(){d.superclass.constructor.apply(this,arguments);};D.mix(d,{NAME:"progressbar",ATTRS:{barEl:{writeOnce:true},maskEl:{writeOnce:true},direction:{value:j,lazyAdd:false,setter:function(L){return this._setDirectionAtt(L);},validator:function(L){return this._validateDirectionAtt(L);}},maxValue:{value:100,validator:function(L){return this._validateMaxValueAtt(L);}},minValue:{value:0,validator:function(L){return this._validateMinValueAtt(L);}},width:{setter:function(L){return this._setWidthAtt(L);}},height:{setter:function(L){return this._setHeightAtt(L);}},ariaTextTemplate:{value:"{value}"},value:{value:0,validator:function(L){return this._validateValueAtt(L);}},anim:{value:null,lazyAdd:false,setter:function(L){return this._setAnimAtt(L);}}}});D.extend(d,D.Widget,{_previousValue:50,_tweenFactor:1,_barFactor:1,_barSpace:0,_rendered:false,initializer:function(L){this.publish(X);this.publish(T);this.publish(Q);},renderer:function(){d.superclass.renderer.apply(this,arguments);},renderUI:function(){if(this._rendered){return;}this._rendered=true;var L=this.get(U),Y=this.get(m);L.addClass(G(K,this.get(V)));this.set(a,L.appendChild(D.Node.create(R)));this.set(S,L.appendChild(D.Node.create(n)));if(this.get(F)===""){this.set(F,Y.getStyle(F));}if(this.get(e)===""){this.set(e,Y.getStyle(e));}Y.setAttrs({role:"progressbar","aria-valuemin":this.get(c),"aria-valuemax":this.get(A)});this._barSizeFunction=this._barSizeFunctions[0][this.get(V)];this._previousValue=this.get(l);this._animChange();},bindUI:function(){this.after("valueChange",this._afterValueChange);this.after("minValueChange",this._afterMinValueChange);this.after("maxValueChange",this._afterMaxValueChange);this.after("widthChange",this._afterWidthChange);this.after("heightChange",this._afterHeightChange);this.on("animChange",this._onAnimChange);},syncUI:function(){this._fixEdges();this._recalculateConstants();this._valueChange(this.get(l));},_afterMinValueChange:function(L){var Y=L.newVal;if(this.get(l)<Y){this.set(l,Y);}this.get(m).setAttribute("aria-valuemin",Y);this.syncUI();},_afterMaxValueChange:function(L){var Y=L.newVal;if(this.get(l)>Y){this.set(l,Y);}this.get(m).setAttribute("aria-valuemax",Y);this.syncUI();},_afterValueChange:function(L){this._valueChange(L.newVal);},_valueChange:function(b){this._setAriaText(b);var L=Math.floor((b-this.get(c))*this._barFactor),Y=this.get(B);if(Y){Y.stop();}this.fire(X,{newVal:this._previousValue});this._barSizeFunction(b,L,this.get(a),Y);},destructor:function(){this.set(B,false);this.unsubscribeAll();var Y=this.get(m),L=Y.get("parentNode");if(L){L.removeChild(Y);}},_recalculateConstants:function(){var L=this.get(a);switch(this.get(V)){case j:case H:this._barSpace=parseInt(this.get(F),10)-(parseInt(L.getStyle("marginLeft"),10)||0)-(parseInt(L.getStyle("marginRight"),10)||0);break;case C:case o:this._barSpace=parseInt(this.get(e),10)-(parseInt(L.getStyle("marginTop"),10)||0)-(parseInt(L.getStyle("marginBottom"),10)||0);break;}this._barFactor=this._barSpace/(this.get(A)-(this.get(c)||0))||1;},_fixEdges:function(){if(!this._rendered||D.UA.ie||D.UA.gecko){return;}var s=this.get(S),u=s.one("."+P)[0],b=s.one("."+N)[0],t=s.one("."+I)[0],Y=s.one("."+E)[0],L=(parseInt(s.getStyle(e),10)-parseInt(u.getStyle(e),10))+r;t.setStyle(e,L);Y.setStyle(e,L);L=(parseInt(s.getStyle(F),10)-parseInt(u.getStyle(F),10))+r;b.setStyle(F,L);Y.setStyle(F,L);},_afterWidthChange:function(L){this.syncUI();},_afterHeightChange:function(L){this.syncUI();},_setDirectionAtt:function(L){this._barSizeFunction=this._barSizeFunctions[this.get(B)?1:0][L];return L;},_validateDirectionAtt:function(L){if(this._rendered){return false;}switch(L){case j:case H:case C:case o:return true;default:return false;}},_validateMaxValueAtt:J.isNumber,_validateMinValueAtt:J.isNumber,_setWidthAtt:function(L){if(J.isNumber(L)){L+=r;}return L;},_setHeightAtt:function(L){if(J.isNumber(L)){L+=r;}return L;},_validateValueAtt:function(L){return J.isNumber(L)&&L>=this.get(c)&&L<=this.get(A);},_setAnimAtt:function(L){if(L&&!(L instanceof D.Anim)){return new D.Anim();}},_onAnimChange:function(L){this._animChange(L.newVal);},_animChange:function(L){if(L){L.set("node",this.get(a));L.after("tween",D.bind(this._animOnTween,this));L.after("complete",D.bind(this._animComplete,this));}else{L=this.get(B);if(L){L.detachAll();}L=null;}this._barSizeFunction=this._barSizeFunctions[L?1:0][this.get(V)];return L;},_animComplete:function(){var L=this.get(l);this._previousValue=L;this.fire(T,{newVal:L});this.fire(Q,{newVal:L});this.get(a).removeClass(W);},_animOnTween:function(L,Y){var b=Math.floor(this._tweenFactor*Y[0].currentFrame+this._previousValue);this.fire(T,{newVal:b});},_setAriaText:function(L){this.get(m).setAttrs({"aria-valuenow":L,"aria-valuetext":D.Lang.substitute(this.get(k),{value:L,minValue:this.get(c),maxValue:this.get(A)})});}});var q=[{},{}];d.prototype._barSizeFunctions=q;q[0][j]=function(s,L,Y,b){Y.setStyle(F,L+r);this.fire(T,{newVal:s});this.fire(Q,{newVal:s});};q[0][H]=function(s,L,Y,b){Y.setStyle(F,L+r);Y.setStyle("left",(this._barSpace-L)+r);this.fire(T,{newVal:s});this.fire(Q,{newVal:s});};q[0][C]=function(s,L,Y,b){Y.setStyle(e,L+r);this.fire(T,{newVal:s});this.fire(Q,{newVal:s});};q[0][o]=function(s,L,Y,b){Y.setStyle(e,L+r);Y.setStyle("top",(this._barSpace-L)+r);this.fire(T,{newVal:s});this.fire(Q,{newVal:s});};q[1][j]=function(s,L,Y,b){Y.addClass(W);this._tweenFactor=(s-this._previousValue)/b.get("elapsedTime")/b.get("duration");
b.set("to",{width:L});b.run();};q[1][H]=q[1][j];q[1][C]=function(s,L,Y,b){Y.addClass(W);this._tweenFactor=(s-this._previousValue)/b.get("elapsedTime")/b.get("duration");b.set("to",{height:L});b.run();};q[1][o]=q[1][C];D.ProgressBar=d;},"@VERSION@",{requires:["widget","substitute"]});