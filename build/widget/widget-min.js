YUI.add("widget",function(E){var S=E.Lang,N=E.Object,h=E.Node,P=E.ClassNameManager,b="widget",M="content",d="visible",f="hidden",g="disabled",G="focus",A="hasFocus",I="width",Z="height",j="",a="-",i="boundingBox",V="contentBox",R="parentNode",C="firstChild",c="ownerDocument",e="body",D="tabIndex",H="locale",J="initValue",T="id",U="render",B="rendered",X="destroyed",K="contentUpdate",W={};function F(L){this._yuid=E.guid(b);this._strings={};F.superclass.constructor.apply(this,arguments);}F._buildCfg={aggregates:["HTML_PARSER"]};F.NAME=b;F.UI_SRC="ui";var Q=F.UI_SRC;F.ATTRS={rendered:{value:false,readOnly:true},boundingBox:{value:null,setter:function(L){return this._setBoundingBox(L);},writeOnce:true},contentBox:{value:null,setter:function(L){return this._setContentBox(L);},writeOnce:true},tabIndex:{value:null,validator:function(L){return(S.isNumber(L)||S.isNull(L));}},hasFocus:{value:false,readOnly:true},disabled:{value:false},visible:{value:true},height:{value:j},width:{value:j},moveStyles:{value:false},locale:{value:"en"},strings:{setter:function(L){return this._setStrings(L,this.get(H));},getter:function(){return this.getStrings(this.get(H));}}};F._NAME_LOWERCASE=F.NAME.toLowerCase();F.getClassName=function(){var L=E.Array(arguments,0,true);L.splice(0,0,this._NAME_LOWERCASE);return P.getClassName.apply(P,L);};F.getByNode=function(L){var O,Y=F.getClassName();L=h.get(L);if(L){L=(L.hasClass(Y))?L:L.ancestor("."+Y);if(L){O=W[L.get(T)];}}return O||null;};F.HTML_PARSER={};E.extend(F,E.Base,{getClassName:function(){var L=E.Array(arguments,0,true);L.splice(0,0,this._name);return P.getClassName.apply(P,L);},initializer:function(L){this.publish(K,{preventable:false});this._name=this.constructor.NAME.toLowerCase();var Y=this.get(i).get(T);if(Y){W[Y]=this;}var O=this._parseHTML(this.get(V));if(O){E.aggregate(L,O,false);}},destructor:function(){var L=this.get(i);E.Event.purgeElement(L,true);var O=L.get(T);if(O&&O in W){delete W[O];}},render:function(L){if(this.get(X)){return;}if(!this.get(B)){this.publish(U,{queuable:false,defaultFn:this._defRenderFn});L=(L)?h.get(L):null;if(L&&!L.inDoc()){L=null;}this.fire(U,{parentNode:L});}return this;},_defRenderFn:function(L){this._renderUI(L.parentNode);this._bindUI();this._syncUI();this.renderer();this._set(B,true);},renderer:function(){this.renderUI();this.bindUI();this.syncUI();},bindUI:function(){},renderUI:function(){},syncUI:function(){},hide:function(){return this.set(d,false);},show:function(){return this.set(d,true);},focus:function(){return this._set(A,true);},blur:function(){return this._set(A,false);},enable:function(){return this.set(g,false);},disable:function(){return this.set(g,true);},_parseHTML:function(O){var L=this._getHtmlParser(),Y,k;if(L&&O&&O.hasChildNodes()){N.each(L,function(m,l,n){k=null;if(S.isFunction(m)){k=m.call(this,O);}else{if(S.isArray(m)){k=O.queryAll(m[0]);}else{k=O.query(m);}}if(k!==null&&k!==undefined){Y=Y||{};Y[l]=k;}},this);}return Y;},_moveStyles:function(l,n){var k=this.WRAP_STYLES,o=l.getStyle("position"),O=this.get(V),m=[0,0],Y,L;if(!this.get("height")){Y=O.get("offsetHeight");}if(!this.get("width")){L=O.get("offsetWidth");}if(o==="absolute"){m=l.getXY();n.setStyles({right:"auto",bottom:"auto"});l.setStyles({right:"auto",bottom:"auto"});}E.each(k,function(q,p){var r=l.getStyle(p);n.setStyle(p,r);if(q===false){l.setStyle(p,"");}else{l.setStyle(p,q);}});if(o==="absolute"){n.setXY(m);}if(Y){this.set("height",Y);}if(L){this.set("width",L);}},_renderBox:function(O){var Y=this.get(V),k=this.get(i),l=k.get(c)||Y.get(c),L;if(!k.compareTo(Y.get(R))){if(this.get("moveStyles")){this._moveStyles(Y,k);}if(Y.inDoc(l)){Y.get(R).replaceChild(k,Y);}k.appendChild(Y);}if(!k.inDoc(l)&&!O){L=h.get(e);if(L.get(C)){L.insertBefore(k,L.get(C));}else{L.appendChild(k);}}else{if(O&&!O.compareTo(k.get(R))){O.appendChild(k);}}},_setBoundingBox:function(L){return this._setBox(L,this.BOUNDING_TEMPLATE);},_setContentBox:function(L){return this._setBox(L,this.CONTENT_TEMPLATE);},_setBox:function(Y,O){Y=h.get(Y)||h.create(O);var L=E.stamp(Y);if(!Y.get(T)){Y.set(T,L);}return Y;},_renderUI:function(L){this._renderBoxClassNames();this._renderBox(L);},_renderBoxClassNames:function(){var l=this._getClasses(),Y=this.get(i),L=this.get(V),O,k;Y.addClass(F.getClassName());for(k=l.length-3;k>=0;k--){O=l[k].NAME;if(O){Y.addClass(P.getClassName(O.toLowerCase()));}}L.addClass(this.getClassName(M));},_bindUI:function(){this.after("visibleChange",this._afterVisibleChange);this.after("disabledChange",this._afterDisabledChange);this.after("heightChange",this._afterHeightChange);this.after("widthChange",this._afterWidthChange);this.after("hasFocusChange",this._afterHasFocusChange);this._bindDOMListeners();},_bindDOMListeners:function(){var L=this.get(i).get("ownerDocument");E.on(G,E.bind(this._onFocus,this),L);if(E.UA.webkit){E.on("mousedown",E.bind(this._onDocMouseDown,this),L);}},_syncUI:function(){this._uiSetVisible(this.get(d));this._uiSetDisabled(this.get(g));this._uiSetHeight(this.get(Z));this._uiSetWidth(this.get(I));this._uiSetHasFocus(this.get(A));this._uiSetTabIndex(this.get(D));},_uiSetHeight:function(L){if(S.isNumber(L)){L=L+this.DEF_UNIT;}this.get(i).setStyle(Z,L);},_uiSetWidth:function(L){if(S.isNumber(L)){L=L+this.DEF_UNIT;}this.get(i).setStyle(I,L);},_uiSetVisible:function(Y){var O=this.get(i),L=this.getClassName(f);if(Y===true){O.removeClass(L);}else{O.addClass(L);}},_uiSetDisabled:function(Y){var O=this.get(i),L=this.getClassName(g);if(Y===true){O.addClass(L);}else{O.removeClass(L);}},_uiSetTabIndex:function(O){var L=this.get(i);if(S.isNumber(O)){L.set(D,O);}else{L.removeAttribute(D);}},_uiSetHasFocus:function(k,Y){var O=this.get(i),L=this.getClassName(G);if(k===true){O.addClass(L);if(Y!==Q){O.focus();}}else{O.removeClass(L);if(Y!==Q){O.blur();}}},_afterVisibleChange:function(L){this._uiSetVisible(L.newVal);},_afterDisabledChange:function(L){this._uiSetDisabled(L.newVal);},_afterHeightChange:function(L){this._uiSetHeight(L.newVal);},_afterWidthChange:function(L){this._uiSetWidth(L.newVal);
},_afterHasFocusChange:function(L){this._uiSetHasFocus(L.newVal,L.src);},_onDocMouseDown:function(L){if(this._hasDOMFocus){this._onFocus(L);}},_onFocus:function(L){var k=L.target,O=this.get(i),Y=(O.compareTo(k)||O.contains(k));this._hasDOMFocus=Y;this._set(A,Y,{src:Q});},toString:function(){return this.constructor.NAME+"["+this._yuid+"]";},DEF_UNIT:"px",CONTENT_TEMPLATE:"<div></div>",BOUNDING_TEMPLATE:"<div></div>",WRAP_STYLES:{height:"100%",width:"100%",zIndex:false,position:"static",top:"0",left:"0",bottom:"",right:"",padding:"",margin:""},_setStrings:function(O,L){var Y=this._strings;L=L.toLowerCase();if(!Y[L]){Y[L]={};}E.aggregate(Y[L],O,true);return Y[L];},_getStrings:function(L){return this._strings[L.toLowerCase()];},getStrings:function(q){q=(q||this.get(H)).toLowerCase();var o=this.getDefaultLocale().toLowerCase(),O=this._getStrings(o),p=(O)?E.merge(O):{},n=q.split(a);if(q!==o||n.length>1){var L="";for(var k=0,Y=n.length;k<Y;++k){L+=n[k];var m=this._getStrings(L);if(m){E.aggregate(p,m,true);}L+=a;}}return p;},getString:function(Y,O){O=(O||this.get(H)).toLowerCase();var k=(this.getDefaultLocale()).toLowerCase(),l=this._getStrings(k)||{},m=l[Y],L=O.lastIndexOf(a);if(O!==k||L!=-1){do{l=this._getStrings(O);if(l&&Y in l){m=l[Y];break;}L=O.lastIndexOf(a);if(L!=-1){O=O.substring(0,L);}}while(L!=-1);}return m;},getDefaultLocale:function(){return this._conf.get(H,J);},_strings:null,_getHtmlParser:function(){if(!this._HTML_PARSER){var O=this._getClasses(),k={},L,Y;for(L=O.length-1;L>=0;L--){Y=O[L].HTML_PARSER;if(Y){E.mix(k,Y,true);}}this._HTML_PARSER=k;}return this._HTML_PARSER;}});F.PLUGINS=[];E.Widget=F;},"@VERSION@",{requires:["base","node","classnamemanager"]});