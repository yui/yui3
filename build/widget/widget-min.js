YUI.add("widget",function(C){var R=C.Lang,K=C.Object,j=C.Node,M=C.ClassNameManager,J="content",e="visible",h="hidden",i="disabled",U="focused",F="width",b="height",l="",c="-",k="boundingBox",X="contentBox",Q="parentNode",d="ownerDocument",g="srcNode",f="body",B="tabIndex",E="locale",G="initValue",S="id",T="render",A="rendered",a="destroyed",W="Change",I="_after",V="_uiSet",H="contentUpdate",Z={},N={};function D(O){this._strings={};D.superclass.constructor.apply(this,arguments);var Y=this.get(T),L;if(Y){if(Y!==true){L=Y;}this.render(L);}}D._buildCfg={aggregates:["HTML_PARSER"]};D.NAME="widget";D.UI_SRC="ui";var P=D.UI_SRC;D.ATTRS={id:{valueFn:"_guid",writeOnce:true},rendered:{value:false,readOnly:true},boundingBox:{value:null,setter:"_setBoundingBox",writeOnce:true},contentBox:{value:null,setter:"_setContentBox",writeOnce:true},tabIndex:{value:0,validator:"_validTabIndex"},focused:{value:false,readOnly:true},disabled:{value:false},visible:{value:true},height:{value:l},width:{value:l},moveStyles:{value:false},locale:{value:"en"},strings:{setter:function(L){return this._setStrings(L,this.get(E));},getter:function(){return this.getStrings(this.get(E));}},render:{value:false,writeOnce:true},srcNode:{value:null,setter:C.Node.one,writeOnce:true}};D._NAME=D.NAME.toLowerCase();D.getClassName=function(){var L=C.Array(arguments,0,true);L.splice(0,0,this._NAME);return M.getClassName.apply(M,L);};D.getByNode=function(L){var Y,O=D.getClassName();L=j.one(L);if(L){L=(L.hasClass(O))?L:L.ancestor("."+O);if(L){Y=Z[C.stamp(L,true)];}}return Y||null;};D.HTML_PARSER={};C.extend(D,C.Base,{DOM_EVENTS:{click:true,contextmenu:true,dblclick:true,keydown:true,keypress:true,keyup:true,mousedown:true,mousemove:true,mouseout:true,mouseover:true,mouseup:true,mouseenter:true,mouseleave:true},_getRootNode:function(){return this.get(k);},_createDelegate:function(m){var L=this._getRootNode(),Y,O;if(L){O=C.stamp(L,true);if(!N[O]){N[O]={};}Y=N[O];if(!Y[m]){Y[m]=L.delegate(m,function(n){var o=C.Widget.getByNode(this);if(o){o.publish(n.type);o.fire(n.type,n);}},("."+D.getClassName()));}}},on:function(L){var O;if(R.isString(L)){O=L.replace(/(\w+):(\w+)/,"$2");if(this.DOM_EVENTS[O]){if(this.get(A)){this._createDelegate(O);}else{this.after(T,function(){this._createDelegate(O);},this);}}}return D.superclass.on.apply(this,arguments);},getClassName:function(){var L=C.Array(arguments,0,true);L.splice(0,0,this._name);return M.getClassName.apply(M,L);},initializer:function(L){var O,Y;this._name=this.constructor.NAME.toLowerCase();Z[C.stamp(this.get(k))]=this;this.publish(H,{preventable:false});O=this._getSrcNode();Y=this._parseNode(O);L=this._applyParsedConfig(O,L,Y);},destructor:function(){var Y=this.get(k);var O=C.stamp(Y,true);if(O&&O in Z){delete Z[O];}Y.remove(true);var L=this._getRootNode();O=C.stamp(L,true);if(N[O]&&L==Y){delete N[O];}},render:function(L){if(this.get(a)){return;}if(!this.get(A)){this.publish(T,{queuable:false,defaultFn:this._defRenderFn});L=(L)?j.one(L):null;if(L&&!L.inDoc()){L=null;}this.fire(T,{parentNode:L});}return this;},_defRenderFn:function(L){if(L.target===this){this._renderUI(L.parentNode);this._bindUI();this._syncUI();this.renderer();this._set(A,true);}},renderer:function(){this.renderUI();this.bindUI();this.syncUI();},bindUI:function(){},renderUI:function(){},syncUI:function(){},hide:function(){return this.set(e,false);},show:function(){return this.set(e,true);},focus:function(){return this._set(U,true);},blur:function(){return this._set(U,false);},enable:function(){return this.set(i,false);},disable:function(){return this.set(i,true);},_parseNode:function(O){var L=this._getHtmlParser(),Y,m;if(L&&O){K.each(L,function(p,n,q){m=null;if(R.isFunction(p)){m=p.call(this,O);}else{if(R.isArray(p)){m=O.all(p[0]);}else{m=O.one(p);}}if(m!==null&&m!==undefined){Y=Y||{};Y[n]=m;}},this);}return Y;},_getSrcNode:function(){return this.get(g)||this.get(X);},_applyParsedConfig:function(Y,L,O){return(O)?C.aggregate(L,O,false):L;},_moveStyles:function(n,p){var m=this.WRAP_STYLES,q=n.getStyle("position"),O=this.get(X),o=[0,0],Y,L;if(!this.get("height")){Y=O.get("offsetHeight");}if(!this.get("width")){L=O.get("offsetWidth");}if(q==="absolute"){o=n.getXY();p.setStyles({right:"auto",bottom:"auto"});n.setStyles({right:"auto",bottom:"auto"});}C.each(m,function(t,r){var u=n.getStyle(r);p.setStyle(r,u);if(t===false){n.setStyle(r,"");}else{n.setStyle(r,t);}});if(q==="absolute"){p.setXY(o);}if(Y){this.set("height",Y);}if(L){this.set("width",L);}},_uiExpandContentBox:function(m){var o=this.get(k),O=this.get(X),Y=D.getClassName("content","expanded"),L=D.getClassName("tmp","forcesize"),n=this._bbs,p=C.UA.ie&&C.UA.ie<7;if(m){if(n){O.addClass(Y);}else{if(p){o.addClass(L);}O.set("offsetHeight",o.get("offsetHeight"));if(p){o.removeClass(L);}}}else{if(!n){O.removeClass(Y);}else{O.setStyle("height","");}}},_renderBox:function(O){var Y=this.get(X),m=this.get(k),o=this.get(g),n=(o&&o.get(d))||m.get(d)||Y.get(d),L;if(o&&!o.compareTo(Y)&&!Y.inDoc(n)){o.replace(Y);}if(!m.compareTo(Y.get(Q))&&!m.compareTo(Y)){if(this.get("moveStyles")){this._moveStyles(Y,m);}if(Y.inDoc(n)){Y.replace(m);}m.appendChild(Y);}if(!m.inDoc(n)&&!O){L=j.one(f).insert(m,0);}else{if(O&&!O.compareTo(m.get(Q))){O.appendChild(m);}}this._bbs=!(C.UA.ie&&C.UA.ie<8&&n.compatMode!="BackCompat");},_setBoundingBox:function(L){return this._setBox(this.get(S),L,this.BOUNDING_TEMPLATE);},_setContentBox:function(L){if(this.CONTENT_TEMPLATE===null){return this.get(k);}else{return this._setBox(null,L,this.CONTENT_TEMPLATE);}},_setBox:function(Y,O,L){O=j.one(O)||j.create(L);if(!O.get(S)){Y=Y||C.guid();O.set(S,Y);}return O;},_renderUI:function(L){this._renderBoxClassNames();this._renderBox(L);},_renderBoxClassNames:function(){var n=this._getClasses(),Y=this.get(k),L=this.get(X),O,m;Y.addClass(D.getClassName());for(m=n.length-3;m>=0;m--){O=n[m].NAME;if(O){Y.addClass(M.getClassName(O.toLowerCase()));}}L.addClass(this.getClassName(J));},_bindUI:function(){this._bindAttrUI([e,i,b,F,U]);this._bindDOMListeners();
},_bindDOMListeners:function(){var L=this.get(k).get(d);L.on("focus",this._onFocus,this);if(C.UA.webkit){L.on("mousedown",this._onDocMouseDown,this);}},_syncUI:function(){this._syncAttrUI([e,i,b,F,U,B]);},_bindAttrUI:function(Y){for(var m=0,O=Y.length;m<O;m++){var L=Y[m];this.after(L+W,this[I+L.substring(0,1).toUpperCase()+L.substring(1)+W]);}},_syncAttrUI:function(Y){for(var m=0,O=Y.length;m<O;m++){var L=Y[m];this[V+L.substring(0,1).toUpperCase()+L.substring(1)](this.get(L));}},_uiSetHeight:function(L){if(R.isNumber(L)){L=L+this.DEF_UNIT;}this.get(k).setStyle(b,L);this._uiExpandContentBox((L!==""&&L!=="auto"));},_uiSetWidth:function(L){if(R.isNumber(L)){L=L+this.DEF_UNIT;}this.get(k).setStyle(F,L);},_uiSetVisible:function(Y){var O=this.get(k),L=this.getClassName(h);if(Y){O.removeClass(L);}else{O.addClass(L);}},_uiSetDisabled:function(Y){var O=this.get(k),L=this.getClassName(i);if(Y){O.addClass(L);}else{O.removeClass(L);}},_uiSetTabIndex:function(O){var L=this.get(k);if(R.isNumber(O)){L.set(B,O);}else{L.removeAttribute(B);}},_uiSetFocused:function(m,Y){var O=this.get(k),L=this.getClassName(U);if(m){O.addClass(L);if(Y!==P){O.focus();}}else{O.removeClass(L);if(Y!==P){O.blur();}}},_afterVisibleChange:function(L){this._uiSetVisible(L.newVal);},_afterDisabledChange:function(L){this._uiSetDisabled(L.newVal);},_afterHeightChange:function(L){this._uiSetHeight(L.newVal);},_afterWidthChange:function(L){this._uiSetWidth(L.newVal);},_afterFocusedChange:function(L){this._uiSetFocused(L.newVal,L.src);},_onDocMouseDown:function(L){if(this._hasDOMFocus){this._onFocus(L);}},_onFocus:function(O){var m=O.target,Y=this.get(k),L=(Y.compareTo(m)||Y.contains(m));this._hasDOMFocus=L;this._set(U,L,{src:P});},toString:function(){return this.constructor.NAME+"["+this.get(S)+"]";},DEF_UNIT:"px",CONTENT_TEMPLATE:"<div></div>",BOUNDING_TEMPLATE:"<div></div>",WRAP_STYLES:{height:"100%",width:"100%",zIndex:false,position:"static",top:"0",left:"0",bottom:"",right:"",padding:"",margin:""},_setStrings:function(O,L){var Y=this._strings;L=L.toLowerCase();if(!Y[L]){Y[L]={};}C.aggregate(Y[L],O,true);return Y[L];},_getStrings:function(L){return this._strings[L.toLowerCase()];},getStrings:function(r){r=(r||this.get(E)).toLowerCase();var p=this.getDefaultLocale().toLowerCase(),O=this._getStrings(p),q=(O)?C.merge(O):{},o=r.split(c);if(r!==p||o.length>1){var L="";for(var m=0,Y=o.length;m<Y;++m){L+=o[m];var n=this._getStrings(L);if(n){C.aggregate(q,n,true);}L+=c;}}return q;},getString:function(Y,O){O=(O||this.get(E)).toLowerCase();var m=(this.getDefaultLocale()).toLowerCase(),n=this._getStrings(m)||{},o=n[Y],L=O.lastIndexOf(c);if(O!==m||L!=-1){do{n=this._getStrings(O);if(n&&Y in n){o=n[Y];break;}L=O.lastIndexOf(c);if(L!=-1){O=O.substring(0,L);}}while(L!=-1);}return o;},getDefaultLocale:function(){return this._conf.get(E,G);},_strings:null,_getHtmlParser:function(){if(!this._HTML_PARSER){var O=this._getClasses(),m={},L,Y;for(L=O.length-1;L>=0;L--){Y=O[L].HTML_PARSER;if(Y){C.mix(m,Y,true);}}this._HTML_PARSER=m;}return this._HTML_PARSER;},_guid:function(){return C.guid();},_validTabIndex:function(L){return(R.isNumber(L)||R.isNull(L));}});C.Widget=D;},"@VERSION@",{requires:["attribute","event-focus","base","node","classnamemanager"]});