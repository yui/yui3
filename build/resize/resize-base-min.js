YUI.add("resize-base",function(E){var AW=E.Lang,m=AW.isArray,u=AW.isBoolean,AU=AW.isNumber,W=AW.isString,A=AW.trim,f=E.Array.indexOf,k=".",e=",",C=" ",V="{handle}",i="active",AG="activeHandle",P="activeHandleNode",AL="all",n="autoHide",r="bottom",F="className",X="defMinHeight",AV="defMinWidth",AT="handle",G="handles",AK="hidden",t="inner",l="left",AE="margin",AR="node",AI="nodeName",z="none",AC="offsetHeight",AF="offsetWidth",a="parentNode",AB="position",Z="relative",AS="resize",AD="resizing",AO="right",b="static",w="top",M="wrap",AQ="wrapper",U="wrapTypes",p="resize:mouseUp",d="resize:resize",g="resize:align",y="resize:end",D="resize:start",H="t",AA="tr",I="r",s="br",c="b",x="bl",Q="l",AH="tl",O=function(B){return(B instanceof E.Node);},j=function(B){return AT+B.toUpperCase();},o=function(){return Array.prototype.slice.call(arguments).join(C);},AN=E.cached(function(B){return B.substring(0,1).toUpperCase()+B.substring(1);}),J=E.ClassNameManager.getClassName,AP=J(AS),v=J(AS,AT),K=J(AS,AT,i),S=J(AS,AT,t),q=J(AS,AT,t,V),N=J(AS,AT,V),h=J(AS,AK,G),AM=J(AS,AQ);function AJ(){AJ.superclass.constructor.apply(this,arguments);}E.mix(AJ,{NAME:AS,ATTRS:{activeHandle:{value:null,validator:W},activeHandleNode:{value:null,validator:O},autoHide:{value:false,validator:u},defMinHeight:{value:15,validator:AU},defMinWidth:{value:15,validator:AU},handles:{setter:"_setHandles",value:AL},node:{setter:E.one},resizing:{value:false,validator:u},wrap:{setter:"_setWrap",value:false,validator:u},wrapTypes:{readOnly:true,value:/^canvas|textarea|input|select|button|img|iframe|table|embed$/i},wrapper:{readOnly:true,valueFn:"_valueWrapper",writeOnce:true}},RULES:{b:function(B,R,L){var Y=B.info,T=B.originalInfo;Y.offsetHeight=T.offsetHeight+L;},l:function(B,R,L){var Y=B.info,T=B.originalInfo;Y.left=T.left+R;Y.offsetWidth=T.offsetWidth-R;},r:function(B,R,L){var Y=B.info,T=B.originalInfo;Y.offsetWidth=T.offsetWidth+R;},t:function(B,R,L){var Y=B.info,T=B.originalInfo;Y.top=T.top+L;Y.offsetHeight=T.offsetHeight-L;},tr:function(B,R,L){this.t.apply(this,arguments);this.r.apply(this,arguments);},bl:function(B,R,L){this.b.apply(this,arguments);this.l.apply(this,arguments);},br:function(B,R,L){this.b.apply(this,arguments);this.r.apply(this,arguments);},tl:function(B,R,L){this.t.apply(this,arguments);this.l.apply(this,arguments);}}});E.Resize=E.extend(AJ,E.Base,{ALL_HANDLES:[H,AA,I,s,c,x,Q,AH],REGEX_CHANGE_HEIGHT:/^(t|tr|b|bl|br|tl)$/i,REGEX_CHANGE_LEFT:/^(tl|l|bl)$/i,REGEX_CHANGE_TOP:/^(tl|t|tr)$/i,REGEX_CHANGE_WIDTH:/^(bl|br|l|r|tl|tr)$/i,WRAP_TEMPLATE:'<div class="'+AM+'"></div>',HANDLE_TEMPLATE:'<div class="'+o(v,N)+'">'+'<div class="'+o(S,q)+'">&nbsp;</div>'+"</div>",changeHeightHandles:false,changeLeftHandles:false,changeTopHandles:false,changeWidthHandles:false,delegate:null,info:null,lastInfo:null,originalInfo:null,initializer:function(){var B=this;B.info={};B.originalInfo={};B.get(AR).addClass(AP);B.renderer();},renderUI:function(){var B=this;B._renderHandles();},bindUI:function(){var B=this;B._createEvents();B._bindDD();B._bindHandle();},syncUI:function(){var B=this;B._setHideHandlesUI(B.get(n));},destructor:function(){var B=this,R=B.get(AR),T=B.get(AQ),L=T.get(a);E.Event.purgeElement(T,true);B.eachHandle(function(Y){B.delegate.dd.destroy();Y.remove(true);});if(B.get(M)){B._copyStyles(T,R);if(L){L.insertBefore(R,T);}T.remove(true);}R.removeClass(AP);R.removeClass(h);},renderer:function(){this.renderUI();this.bindUI();this.syncUI();},eachHandle:function(L){var B=this;E.each(B.get(G),function(Y,R){var T=B.get(j(Y));L.apply(B,[T,Y,R]);});},_bindDD:function(){var B=this;B.delegate=new E.DD.Delegate({bubbleTargets:B,container:B.get(AQ),dragConfig:{clickPixelThresh:0,clickTimeThresh:0,useShim:true,move:false},nodes:k+v,target:false});B.on("drag:drag",B._handleResizeEvent);B.on("drag:dropmiss",B._handleMouseUpEvent);B.on("drag:end",B._handleResizeEndEvent);B.on("drag:start",B._handleResizeStartEvent);},_bindHandle:function(){var B=this,L=B.get(AQ);L.on("mouseenter",E.bind(B._onWrapperMouseEnter,B));L.on("mouseleave",E.bind(B._onWrapperMouseLeave,B));L.delegate("mouseenter",E.bind(B._onHandleMouseEnter,B),k+v);L.delegate("mouseleave",E.bind(B._onHandleMouseLeave,B),k+v);},_createEvents:function(){var B=this,L=function(R,T){B.publish(R,{defaultFn:T,queuable:false,emitFacade:true,bubbles:true,prefix:AS});};L(D,this._defResizeStartFn);L(d,this._defResizeFn);L(g,this._defResizeAlignFn);L(y,this._defResizeEndFn);L(p,this._defMouseUpFn);},_renderHandles:function(){var B=this,L=B.get(AQ);B.eachHandle(function(R){L.append(R);});},_buildHandle:function(L){var B=this;return E.Node.create(E.substitute(B.HANDLE_TEMPLATE,{handle:L}));},_calcResize:function(){var B=this,T=B.handle,AX=B.info,Y=B.originalInfo,R=AX.actXY[0]-Y.actXY[0],L=AX.actXY[1]-Y.actXY[1];E.Resize.RULES[T](B,R,L);},_checkSize:function(AX,L){var B=this,Y=B.info,T=B.originalInfo,R=(AX==AC)?w:l;Y[AX]=L;if(((R==l)&&B.changeLeftHandles)||((R==w)&&B.changeTopHandles)){Y[R]=T[R]+T[AX]-L;}},_copyStyles:function(T,Y){var B=T.getStyle(AB).toLowerCase(),L={},R;if(B==b){B=Z;}R={position:B};E.each([w,l],function(AX){L[AX]=Y.getStyle(AX);R[AX]=T.getStyle(AX);});E.each([w,AO,r,l],function(AY){var AX=AE+AN(AY);L[AX]=Y.getStyle(AX);R[AX]=T.getStyle(AX);});Y.setStyles(R);T.setStyles(L);T.setStyles({margin:0});Y.set(AC,T.get(AC));Y.set(AF,T.get(AF));},_extractHandleName:E.cached(function(R){var L=R.get(F),B=L.match(new RegExp(J(AS,AT,"(\\w{1,2})\\b")));return B?B[1]:null;}),_getInfo:function(Y,B){var AX,AZ=B.dragEvent.target,AY=Y.getXY(),T=AY[0],R=AY[1],L=Y.get(AC),Aa=Y.get(AF);if(B){AX=(AZ.actXY.length?AZ.actXY:AZ.lastXY);}return{actXY:AX,bottom:(R+L),left:T,offsetHeight:L,offsetWidth:Aa,right:(T+Aa),top:R};},_setOffset:function(R,L,B){R.set(AF,L);R.set(AC,B);},_syncUI:function(){var B=this,R=B.info,T=B.get(AQ),L=B.get(AR);B._setOffset(T,R.offsetWidth,R.offsetHeight);if(B.changeLeftHandles||B.changeTopHandles){T.setXY([R.left,R.top]);}if(!T.compareTo(L)){B._setOffset(L,R.offsetWidth,R.offsetHeight);
}if(E.UA.webkit){L.setStyle(AS,z);}},_updateChangeHandleInfo:function(L){var B=this;B.changeHeightHandles=B.REGEX_CHANGE_HEIGHT.test(L);B.changeLeftHandles=B.REGEX_CHANGE_LEFT.test(L);B.changeTopHandles=B.REGEX_CHANGE_TOP.test(L);B.changeWidthHandles=B.REGEX_CHANGE_WIDTH.test(L);},_updateInfo:function(L){var B=this;B.info=B._getInfo(B.get(AQ),L);},_setActiveHandlesUI:function(R){var B=this,L=B.get(P);if(L){if(R){B.eachHandle(function(T){T.removeClass(K);});L.addClass(K);}else{L.removeClass(K);}}},_setHandles:function(R){var B=this,L=[];if(m(R)){L=R;}else{if(W(R)){if(R.toLowerCase()==AL){L=B.ALL_HANDLES;}else{E.each(R.split(e),function(Y,T){var AX=A(Y);if(f(B.ALL_HANDLES,AX)>-1){L.push(AX);}});}}}return L;},_setHideHandlesUI:function(L){var B=this,R=B.get(AQ);if(!B.get(AD)){if(L){R.addClass(h);}else{R.removeClass(h);}}},_setWrap:function(T){var B=this,R=B.get(AR),Y=R.get(AI),L=B.get(U);if(L.test(Y)){T=true;}return T;},_defMouseUpFn:function(L){var B=this;B.set(AD,false);},_defResizeFn:function(L){var B=this;B._resize(L);},_resize:function(L){var B=this;B._handleResizeAlignEvent(L.dragEvent);B._syncUI();},_defResizeAlignFn:function(L){var B=this;B._resizeAlign(L);},_resizeAlign:function(R){var B=this,T,L,Y;B.lastInfo=B.info;B._updateInfo(R);T=B.info;B._calcResize();if(!B.con){L=B.get(X);Y=B.get(AV);if(T.offsetHeight<=L){B._checkSize(AC,L);}if(T.offsetWidth<=Y){B._checkSize(AF,Y);}}},_defResizeEndFn:function(L){var B=this;B._resizeEnd(L);},_resizeEnd:function(R){var B=this,L=R.dragEvent.target;L.actXY=[];B._syncUI();B.set(AG,null);B.set(P,null);B._setActiveHandlesUI(false);B.handle=null;},_defResizeStartFn:function(L){var B=this;B._resizeStart(L);},_resizeStart:function(L){var B=this,R=B.get(AQ);B.handle=B.get(AG);B.set(AD,true);B.originalInfo=B._getInfo(R,L);B._updateInfo(L);},_handleMouseUpEvent:function(B){this.fire(p,{dragEvent:B,info:this.info});},_handleResizeEvent:function(B){this.fire(d,{dragEvent:B,info:this.info});},_handleResizeAlignEvent:function(B){this.fire(g,{dragEvent:B,info:this.info});},_handleResizeEndEvent:function(B){this.fire(y,{dragEvent:B,info:this.info});},_handleResizeStartEvent:function(B){this.fire(D,{dragEvent:B,info:this.info});},_onWrapperMouseEnter:function(L){var B=this;if(B.get(n)){B._setHideHandlesUI(false);}},_onWrapperMouseLeave:function(L){var B=this;if(B.get(n)){B._setHideHandlesUI(true);}},_onHandleMouseEnter:function(R){var B=this,L=R.currentTarget,T=B._extractHandleName(L);if(!B.get(AD)){B.set(AG,T);B.set(P,L);B._setActiveHandlesUI(true);B._updateChangeHandleInfo(T);}},_onHandleMouseLeave:function(L){var B=this;if(!B.get(AD)){B._setActiveHandlesUI(false);}},_valueWrapper:function(){var B=this,R=B.get(AR),L=R.get(a),T=R;if(B.get(M)){T=E.Node.create(B.WRAP_TEMPLATE);if(L){L.insertBefore(T,R);}T.append(R);B._copyStyles(R,T);R.setStyles({position:b,left:0,top:0});}return T;}});E.each(E.Resize.prototype.ALL_HANDLES,function(L,B){E.Resize.ATTRS[j(L)]={setter:function(){return this._buildHandle(L);},value:null,writeOnce:true};});},"@VERSION@",{requires:["base","widget","substitute","event","oop","dd-drag","dd-delegate","dd-drop"],skinnable:true});