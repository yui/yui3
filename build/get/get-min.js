YUI.add("get",function(e,d){var c=e.Lang,b,f,a;e.Get=f={cssOptions:{attributes:{rel:"stylesheet"},doc:e.config.linkDoc||e.config.doc,pollInterval:50},jsOptions:{autopurge:true,doc:e.config.scriptDoc||e.config.doc},options:{attributes:{charset:"utf-8"},purgethreshold:20},REGEX_CSS:/\.css(?:[?;].*)?$/i,REGEX_JS:/\.js(?:[?;].*)?$/i,_insertCache:{},_pending:null,_purgeNodes:[],_queue:[],abort:function(l){var h,m,j,g,k;if(!l.abort){m=l;k=this._pending;l=null;if(k&&k.transaction.id===m){l=k.transaction;this._pending=null;}else{for(h=0,g=this._queue.length;h<g;++h){j=this._queue[h].transaction;if(j.id===m){l=j;this._queue.splice(h,1);break;}}}}l&&l.abort();},css:function(h,g,i){return this._load("css",h,g,i);},js:function(h,g,i){return this._load("js",h,g,i);},load:function(h,g,i){return this._load(null,h,g,i);},_autoPurge:function(g){if(g&&this._purgeNodes.length>=g){this._purge(this._purgeNodes);}},_getEnv:function(){var h=e.config.doc,g=e.UA;return(this._env={async:h&&h.createElement("script").async===true,cssFail:g.gecko>=9||g.compareVersions(g.webkit,535.24)>=0,cssLoad:((!g.gecko&&!g.webkit)||g.gecko>=9||g.compareVersions(g.webkit,535.24)>=0)&&!(g.chrome&&g.chrome<=18),preservesScriptOrder:!!(g.gecko||g.opera)});},_getTransaction:function(m,j){var n=[],k,g,l,h;if(!c.isArray(m)){m=[m];}j=e.merge(this.options,j);j.attributes=e.merge(this.options.attributes,j.attributes);for(k=0,g=m.length;k<g;++k){h=m[k];l={attributes:{}};if(typeof h==="string"){l.url=h;}else{if(h.url){e.mix(l,h,false,null,0,true);h=h.url;}else{continue;}}e.mix(l,j,false,null,0,true);if(!l.type){if(this.REGEX_CSS.test(h)){l.type="css";}else{if(!this.REGEX_JS.test(h)){}l.type="js";}}e.mix(l,l.type==="js"?this.jsOptions:this.cssOptions,false,null,0,true);l.attributes.id||(l.attributes.id=e.guid());if(l.win){l.doc=l.win.document;}else{l.win=l.doc.defaultView||l.doc.parentWindow;}if(l.charset){l.attributes.charset=l.charset;}n.push(l);}return new a(n,j);},_load:function(h,i,g,k){var j;if(typeof g==="function"){k=g;g={};}g||(g={});g.type=h;if(!this._env){this._getEnv();}j=this._getTransaction(i,g);this._queue.push({callback:k,transaction:j});this._next();return j;},_next:function(){var g;if(this._pending){return;}g=this._queue.shift();if(g){this._pending=g;g.transaction.execute(function(){g.callback&&g.callback.apply(this,arguments);f._pending=null;f._next();});}},_purge:function(g){var i=this._purgeNodes,k=g!==i,h,j;while(j=g.pop()){if(!j._yuiget_finished){continue;}j.parentNode&&j.parentNode.removeChild(j);if(k){h=e.Array.indexOf(i,j);if(h>-1){i.splice(h,1);}}}}};f.script=f.js;f.Transaction=a=function(i,h){var g=this;g.id=a._lastId+=1;g.data=h.data;g.errors=[];g.nodes=[];g.options=h;g.requests=i;g._callbacks=[];g._queue=[];g._waiting=0;g.tId=g.id;g.win=h.win||e.config.win;};a._lastId=0;a.prototype={_state:"new",abort:function(g){this._pending=null;this._pendingCSS=null;this._pollTimer=clearTimeout(this._pollTimer);this._queue=[];this._waiting=0;this.errors.push({error:g||"Aborted"});this._finish();},execute:function(o){var j=this,n=j.requests,m=j._state,k,h,g,l;if(m==="done"){o&&o(j.errors.length?j.errors:null,j);return;}else{o&&j._callbacks.push(o);if(m==="executing"){return;}}j._state="executing";j._queue=g=[];if(j.options.timeout){j._timeout=setTimeout(function(){j.abort("Timeout");},j.options.timeout);}for(k=0,h=n.length;k<h;++k){l=j.requests[k];if(l.async||l.type==="css"){j._insert(l);}else{g.push(l);}}j._next();},purge:function(){f._purge(this.nodes);},_createNode:function(i,h,k){var j=k.createElement(i),g,l;if(!b){l=k.createElement("div");l.setAttribute("class","a");b=l.className==="a"?{}:{"for":"htmlFor","class":"className"};}for(g in h){if(h.hasOwnProperty(g)){j.setAttribute(b[g]||g,h[g]);}}return j;},_finish:function(){var m=this.errors.length?this.errors:null,h=this.options,l=h.context||this,k,j,g;if(this._state==="done"){return;}this._state="done";for(j=0,g=this._callbacks.length;j<g;++j){this._callbacks[j].call(l,m,this);}k=this._getEventData();if(m){if(h.onTimeout&&m[m.length-1].error==="Timeout"){h.onTimeout.call(l,k);}if(h.onFailure){h.onFailure.call(l,k);}}else{if(h.onSuccess){h.onSuccess.call(l,k);}}if(h.onEnd){h.onEnd.call(l,k);}},_getEventData:function(g){if(g){return e.merge(this,{abort:this.abort,purge:this.purge,request:g,url:g.url,win:g.win});}else{return this;}},_getInsertBefore:function(k){var l=k.doc,i=k.insertBefore,h,j,g;if(i){return typeof i==="string"?l.getElementById(i):i;}h=f._insertCache;g=e.stamp(l);if((i=h[g])){return i;}if((i=l.getElementsByTagName("base")[0])){return(h[g]=i);}i=l.head||l.getElementsByTagName("head")[0];if(i){i.appendChild(l.createTextNode(""));return(h[g]=i.lastChild);}return(h[g]=l.getElementsByTagName("script")[0]);},_insert:function(p){var m=f._env,n=this._getInsertBefore(p),j=p.type==="js",i=p.node,q=this,h=e.UA,g,k;if(!i){if(j){k="script";}else{if(!m.cssLoad&&h.gecko){k="style";}else{k="link";}}i=p.node=this._createNode(k,p.attributes,p.doc);}function l(){q._progress("Failed to load "+p.url,p);}function o(){if(g){clearTimeout(g);}q._progress(null,p);}if(j){i.setAttribute("src",p.url);if(p.async){i.async=true;}else{if(m.async){i.async=false;}if(!m.preservesScriptOrder){this._pending=p;}}}else{if(!m.cssLoad&&h.gecko){i.innerHTML=(p.attributes.charset?'@charset "'+p.attributes.charset+'";':"")+'@import "'+p.url+'";';}else{i.setAttribute("href",p.url);}}if(j&&h.ie&&(h.ie<9||(document.documentMode&&document.documentMode<9))){i.onreadystatechange=function(){if(/loaded|complete/.test(i.readyState)){i.onreadystatechange=null;o();}};}else{if(!j&&!m.cssLoad){this._poll(p);}else{i.onerror=l;i.onload=o;if(!m.cssFail&&!j){g=setTimeout(l,p.timeout||3000);}}}this._waiting+=1;this.nodes.push(i);n.parentNode.insertBefore(i,n);},_next:function(){if(this._pending){return;}if(this._queue.length){this._insert(this._queue.shift());}else{if(!this._waiting){this._finish();}}},_poll:function(o){var r=this,s=r._pendingCSS,m=e.UA.webkit,k,g,h,q,p,l;if(o){s||(s=r._pendingCSS=[]);s.push(o);if(r._pollTimer){return;
}}r._pollTimer=null;for(k=0;k<s.length;++k){p=s[k];if(m){l=p.doc.styleSheets;h=l.length;q=p.node.href;while(--h>=0){if(l[h].href===q){s.splice(k,1);k-=1;r._progress(null,p);break;}}}else{try{g=!!p.node.sheet.cssRules;s.splice(k,1);k-=1;r._progress(null,p);}catch(n){}}}if(s.length){r._pollTimer=setTimeout(function(){r._poll.call(r);},r.options.pollInterval);}},_progress:function(i,h){var g=this.options;if(i){h.error=i;this.errors.push({error:i,request:h});}h.node._yuiget_finished=h.finished=true;if(g.onProgress){g.onProgress.call(g.context||this,this._getEventData(h));}if(h.autopurge){f._autoPurge(this.options.purgethreshold);f._purgeNodes.push(h.node);}if(this._pending===h){this._pending=null;}this._waiting-=1;this._next();}};},"@VERSION@",{"requires":["yui-base"]});