YUI.add("history-hash-ie",function(G){var B=G.Do,C=YUI.namespace("Env.History"),E=G.History,D=C._iframe,F=G.config.win,A=F.location;if(G.UA.ie&&G.UA.ie<8){E.getHash=function(){return D?D.contentWindow.location.hash.substr(1):"";};E.getUrl=function(){var H=E.getHash();if(H&&H!==A.hash.substr(1)){return A.href.replace(/#.*$/,"")+"#"+H;}else{return A.href;}};E._updateIframe=function(I,H){var J=D.contentWindow.document,K=J.location;J.open().close();if(H){K.replace(I.charAt(0)==="#"?I:"#"+I);}else{K.hash=I;}};B.after(E._updateIframe,E,"replaceHash",E,true);B.after(E._updateIframe,E,"setHash");if(!D){D=C._iframe=G.Node.getDOMNode(G.Node.create('<iframe src="javascript:0" style="display:none"/>'));G.on("domready",function(){G.config.doc.documentElement.appendChild(D);E._updateIframe(A.hash.substr(1));});G.on("hashchange",function(H){if(A.hash.substr(1)!==H.newHash){A.hash=H.newHash;}},F);}}},"@VERSION@",{requires:["history-base","history-hash","node-base"]});