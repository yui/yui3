YUI.add("slider-base",function(d,c){var b=d.Attribute.INVALID_VALUE;function a(){a.superclass.constructor.apply(this,arguments);}d.SliderBase=d.extend(a,d.Widget,{initializer:function(){this.axis=this.get("axis");this._key={dim:(this.axis==="y")?"height":"width",minEdge:(this.axis==="y")?"top":"left",maxEdge:(this.axis==="y")?"bottom":"right",xyIndex:(this.axis==="y")?1:0};this.publish("thumbMove",{defaultFn:this._defThumbMoveFn,queuable:true});},renderUI:function(){var e=this.get("contentBox");this.rail=this.renderRail();this._uiSetRailLength(this.get("length"));this.thumb=this.renderThumb();this.rail.appendChild(this.thumb);e.appendChild(this.rail);e.addClass(this.getClassName(this.axis));},renderRail:function(){var f=this.getClassName("rail","cap",this._key.minEdge),e=this.getClassName("rail","cap",this._key.maxEdge);return d.Node.create(d.Lang.sub(this.RAIL_TEMPLATE,{railClass:this.getClassName("rail"),railMinCapClass:f,railMaxCapClass:e}));},_uiSetRailLength:function(e){this.rail.setStyle(this._key.dim,e);},renderThumb:function(){this._initThumbUrl();var e=this.get("thumbUrl");return d.Node.create(d.Lang.sub(this.THUMB_TEMPLATE,{thumbClass:this.getClassName("thumb"),thumbShadowClass:this.getClassName("thumb","shadow"),thumbImageClass:this.getClassName("thumb","image"),thumbShadowUrl:e,thumbImageUrl:e,thumbAriaLabelId:this.getClassName("label",d.guid())}));},_onThumbClick:function(f){this.thumb.focus();},bindUI:function(){var e=this.get("boundingBox"),g=(!d.UA.opera)?"down:":"press:",f=g+"38,40,33,34,35,36",i=g+"37,39",h=g+"37+meta,39+meta";e.on("key",this._onDirectionKey,f,this);e.on("key",this._onLeftRightKey,i,this);e.on("key",this._onLeftRightKeyMeta,h,this);this.thumb.on("click",this._onThumbClick,this);this._bindThumbDD();this._bindValueLogic();this.after("disabledChange",this._afterDisabledChange);this.after("lengthChange",this._afterLengthChange);},_incrMinor:function(){this.set("value",(this.get("value")+this.get("minorStep")));},_decrMinor:function(){this.set("value",(this.get("value")-this.get("minorStep")));},_incrMajor:function(){this.set("value",(this.get("value")+this.get("majorStep")));},_decrMajor:function(){this.set("value",(this.get("value")-this.get("majorStep")));},_setToMin:function(f){this.set("value",this.get("min"));},_setToMax:function(f){this.set("value",this.get("max"));},_onDirectionKey:function(f){f.preventDefault();if(this.get("disabled")===false){switch(f.charCode){case 38:this._incrMinor();break;case 40:this._decrMinor();break;case 36:this._setToMin();break;case 35:this._setToMax();break;case 33:this._incrMajor();break;case 34:this._decrMajor();break;}}},_onLeftRightKey:function(f){f.preventDefault();if(this.get("disabled")===false){switch(f.charCode){case 37:this._decrMinor();break;case 39:this._incrMinor();break;}}},_onLeftRightKeyMeta:function(f){f.preventDefault();if(this.get("disabled")===false){switch(f.charCode){case 37:this._setToMin();break;case 39:this._setToMax();break;}}},_bindThumbDD:function(){var e={constrain:this.rail};e["stick"+this.axis.toUpperCase()]=true;this._dd=new d.DD.Drag({node:this.thumb,bubble:false,on:{"drag:start":d.bind(this._onDragStart,this)},after:{"drag:drag":d.bind(this._afterDrag,this),"drag:end":d.bind(this._afterDragEnd,this)}});this._dd.plug(d.Plugin.DDConstrained,e);},_bindValueLogic:function(){},_uiMoveThumb:function(f,e){if(this.thumb){this.thumb.setStyle(this._key.minEdge,f+"px");e||(e={});e.offset=f;this.fire("thumbMove",e);}},_onDragStart:function(f){this.fire("slideStart",{ddEvent:f,originEvent:f});},_afterDrag:function(g){var h=g.info.xy[this._key.xyIndex],f=g.target.con._regionCache[this._key.minEdge];this.fire("thumbMove",{offset:(h-f),ddEvent:g,originEvent:g});},_afterDragEnd:function(f){this.fire("slideEnd",{ddEvent:f,originEvent:f});},_afterDisabledChange:function(f){this._dd.set("lock",f.newVal);},_afterLengthChange:function(f){if(this.get("rendered")){this._uiSetRailLength(f.newVal);this.syncUI();}},syncUI:function(){this._dd.con.resetCache();this._syncThumbPosition();this.thumb.set("aria-valuemin",this.get("min"));this.thumb.set("aria-valuemax",this.get("max"));this._dd.set("lock",this.get("disabled"));},_syncThumbPosition:function(){},_setAxis:function(e){e=(e+"").toLowerCase();return(e==="x"||e==="y")?e:b;},_setLength:function(f){f=(f+"").toLowerCase();var g=parseFloat(f,10),e=f.replace(/[\d\.\-]/g,"")||this.DEF_UNIT;return g>0?(g+e):b;},_initThumbUrl:function(){if(!this.get("thumbUrl")){var f=this.getSkinName()||"sam",e=d.config.base;if(e.indexOf("http://yui.yahooapis.com/combo")===0){e="http://yui.yahooapis.com/"+d.version+"/build/";}this.set("thumbUrl",e+"slider-base/assets/skins/"+f+"/thumb-"+this.axis+".png");}},BOUNDING_TEMPLATE:"<span></span>",CONTENT_TEMPLATE:"<span></span>",RAIL_TEMPLATE:'<span class="{railClass}">'+'<span class="{railMinCapClass}"></span>'+'<span class="{railMaxCapClass}"></span>'+"</span>",THUMB_TEMPLATE:'<span class="{thumbClass}" aria-labelledby="{thumbAriaLabelId}" aria-valuetext="" aria-valuemax="" aria-valuemin="" aria-valuenow="" role="slider" tabindex="0">'+'<img src="{thumbShadowUrl}" '+'alt="Slider thumb shadow" '+'class="{thumbShadowClass}">'+'<img src="{thumbImageUrl}" '+'alt="Slider thumb" '+'class="{thumbImageClass}">'+"</span>"},{NAME:"sliderBase",ATTRS:{axis:{value:"x",writeOnce:true,setter:"_setAxis",lazyAdd:false},length:{value:"150px",setter:"_setLength"},thumbUrl:{value:null,validator:d.Lang.isString}}});},"@VERSION@",{"requires":["widget","dd-constrain","event-key"],"skinnable":true});