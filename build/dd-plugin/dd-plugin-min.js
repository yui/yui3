YUI.add("dd-plugin",function(e,d){var b=function(g){if(e.Widget&&g.host instanceof e.Widget){g.node=g.host.get("boundingBox");g.widget=g.host;}else{g.node=g.host;g.widget=false;}b.superclass.constructor.call(this,g);},a="drag:start",c="drag:drag",f="drag:end";b.NAME="dd-plugin";b.NS="dd";e.extend(b,e.DD.Drag,{_widgetHandles:null,_widget:undefined,_stoppedPosition:undefined,_usesWidgetPosition:function(h){var g=false;if(h){g=(h.hasImpl&&h.hasImpl(e.WidgetPosition))?true:false;}return g;},_checkEvents:function(){if(this._widget){if(this.proxy){if(this._widgetHandles.length>0){this._removeWidgetListeners();}}else{if(this._widgetHandles.length===0){this._attachWidgetListeners();}}}},_removeWidgetListeners:function(){e.Array.each(this._widgetHandles,function(g){g.detach();});this._widgetHandles=[];},_attachWidgetListeners:function(){if(this._usesWidgetPosition(this._widget)){this._widgetHandles.push(this.on(c,this._setWidgetCoords));this._widgetHandles.push(this.on(f,this._updateStopPosition));}},initializer:function(g){this._widgetHandles=[];this._widget=g.widget;this.on(a,this._checkEvents);this._attachWidgetListeners();},_setWidgetCoords:function(j){var i=this._stoppedPosition||j.target.nodeXY,g=j.target.realXY,h=[g[0]-i[0],g[1]-i[1]];if(h[0]!==0&&h[1]!==0){this._widget.set("xy",g);}else{if(h[0]===0){this._widget.set("y",g[1]);}else{if(h[1]===0){this._widget.set("x",g[0]);}}}},_updateStopPosition:function(g){this._stoppedPosition=g.target.realXY;}});e.namespace("Plugin");e.Plugin.Drag=b;},"@VERSION@",{"optional":["dd-constrain","dd-proxy"],"requires":["dd-drag"]});