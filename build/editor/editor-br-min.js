YUI.add("editor-br",function(C){var D=function(){D.superclass.constructor.apply(this,arguments);},A="host",B="li";C.extend(D,C.Base,{_onKeyDown:function(H){if(H.keyCode==13){var E=this.get(A),G=E.getInstance(),F=new G.Selection();if(F){if(C.UA.ie){if(!F.anchorNode.test(B)&&!F.anchorNode.ancestor(B)){F._selection.pasteHTML("<br>");F._selection.collapse(false);F._selection.select();H.halt();}}if(C.UA.webkit){if(!F.anchorNode.test(B)&&!F.anchorNode.ancestor(B)){E.frame._execCommand("insertlinebreak",null);H.halt();}}}}},_afterEditorReady:function(){var E=this.get(A).getInstance();try{E.config.doc.execCommand("insertbronreturn",null,true);}catch(F){}if(C.UA.ie||C.UA.webkit){E.on("keydown",C.bind(this._onKeyDown,this),E.config.doc);}},initializer:function(){var E=this.get(A);if(E.editorPara){C.error("Can not plug EditorBR and EditorPara at the same time.");return;}E.after("ready",C.bind(this._afterEditorReady,this));}},{NAME:"editorBR",NS:"editorBR",ATTRS:{host:{value:false}}});C.namespace("Plugin");C.Plugin.EditorBR=D;},"@VERSION@",{requires:["node"],skinnable:false});