YUI.add("graphics-vml",function(b){var d=b.Lang,j=d.isNumber,f=d.isArray,h=b.DOM,c=b.Selector,m=b.config.doc,e=b.AttributeLite,p,l,o,k,n,i,a;function g(){}g.prototype={_currentX:0,_currentY:0,curveTo:function(t,s,A,z,w,v){var u,q,r,B;w=Math.round(w);v=Math.round(v);this._path+=" c "+Math.round(t)+", "+Math.round(s)+", "+Math.round(A)+", "+Math.round(z)+", "+w+", "+v;this._currentX=w;this._currentY=v;u=Math.max(w,Math.max(t,A));r=Math.max(v,Math.max(s,z));q=Math.min(w,Math.min(t,A));B=Math.min(v,Math.min(s,z));this._trackSize(u,r);this._trackSize(q,B);},quadraticCurveTo:function(v,u,z,w){var r=this._currentX,q=this._currentY,t=r+0.67*(v-r),s=q+0.67*(u-q),B=t+(z-r)*0.34,A=s+(w-q)*0.34;this.curveTo(t,s,B,A,z,w);},drawRect:function(q,t,r,s){this.moveTo(q,t);this.lineTo(q+r,t);this.lineTo(q+r,t+s);this.lineTo(q,t+s);this.lineTo(q,t);this._currentX=q;this._currentY=t;return this;},drawRoundRect:function(q,v,r,t,s,u){this.moveTo(q,v+u);this.lineTo(q,v+t-u);this.quadraticCurveTo(q,v+t,q+s,v+t);this.lineTo(q+r-s,v+t);this.quadraticCurveTo(q+r,v+t,q+r,v+t-u);this.lineTo(q+r,v+u);this.quadraticCurveTo(q+r,v,q+r-s,v);this.lineTo(q+s,v);this.quadraticCurveTo(q,v,q,v+u);return this;},drawWedge:function(s,w,u,t,r,q){var v=r*2;q=q||r;if(Math.abs(t)>360){t=360;}u*=-65535;t*=65536;this._path+=" m "+s+" "+w+" ae "+s+" "+w+" "+r+" "+q+" "+u+" "+t;this._trackSize(v,v);this._currentX=s;this._currentY=w;return this;},end:function(){this._draw();},lineTo:function(v,u,s){var r=arguments,t,q;if(typeof v==="string"||typeof v==="number"){r=[[v,u]];}q=r.length;if(!this._path){this._path="";}this._path+=" l ";for(t=0;t<q;++t){this._path+=" "+Math.round(r[t][0])+", "+Math.round(r[t][1]);this._trackSize.apply(this,r[t]);this._currentX=r[t][0];this._currentY=r[t][1];}return this;},moveTo:function(q,r){if(!this._path){this._path="";}this._path+=" m "+Math.round(q)+", "+Math.round(r);this._trackSize(q,r);this._currentX=q;this._currentY=r;},_trackSize:function(q,r){if(q>this._right){this._right=q;}if(q<this._left){this._left=q;}if(r<this._top){this._top=r;}if(r>this._bottom){this._bottom=r;}this._width=this._right-this._left;this._height=this._bottom-this._top;},_left:0,_right:0,_top:0,_bottom:0,_width:0,_height:0};b.VMLDrawing=g;p=function(){p.superclass.constructor.apply(this,arguments);};p.NAME="vmlShape";b.extend(p,b.BaseGraphic,{init:function(){this.initializer.apply(this,arguments);},initializer:function(q){var r=this,s=q.graphic;r._graphic=s;r.createNode();},createNode:function(){var F,B=this.get("x"),z=this.get("y"),C=this.get("width"),H=this.get("height"),E,t,K,J,v,u,D,r,A,I,q,G,s;E=this.get("id");t=this._type;v="vml"+t+" yui3-vmlShape yui3-"+this.constructor.NAME;u=this._getStrokeProps();G=this._getFillProps();K="<"+t+'  xmlns="urn:schemas-microsft.com:vml" id="'+E+'" class="'+v+'" style="behavior:url(#default#VML);display:inline-block;position:absolute;left:'+B+"px;top:"+z+"px;width:"+C+"px;height:"+H+'px;"';if(u&&u.weight&&u.weight>0){D=u.endcap;r=parseFloat(u.opacity);A=u.joinstyle;I=u.miterlimit;q=u.dashstyle;K+=' stroked="t" strokecolor="'+u.color+'" strokeWeight="'+u.weight+'px"';J='<stroke class="vmlstroke" xmlns="urn:schemas-microsft.com:vml" on="t" style="behavior:url(#default#VML);display:inline-block;"';J+=' opacity="'+r+'"';if(D){J+=' endcap="'+D+'"';}if(A){J+=' joinstyle="'+A+'"';}if(I){J+=' miterlimit="'+I+'"';}if(q){J+=' dashstyle="'+q+'"';}J+="></stroke>";this._strokeNode=m.createElement(J);K+=' stroked="t"';}else{K+=' stroked="f"';}if(G){if(G.node){s=G.node;this._fillNode=m.createElement(s);}if(G.color){K+=' fillcolor="'+G.color+'"';}K+=' filled="'+G.filled+'"';}K+=">";K+="</"+t+">";F=m.createElement(K);if(this._strokeNode){F.appendChild(this._strokeNode);}if(this._fillNode){F.appendChild(this._fillNode);}this.node=F;},addClass:function(q){var r=this.node;h.addClass(r,q);},removeClass:function(q){var r=this.node;h.removeClass(r,q);},getXY:function(){var t=this._graphic,r=t.getXY(),q=this.get("x"),s=this.get("y");return[r[0]+q,r[1]+s];},setXY:function(r){var s=this._graphic,q=s.getXY();this.set("x",r[0]-q[0]);this.set("y",r[1]-q[1]);},contains:function(q){return q===b.one(this.node);},compareTo:function(q){var r=this.node;return r===q;},test:function(q){return c.test(this.node,q);},_getStrokeProps:function(){var x,z=this.get("stroke"),v,r,t="",q,s=0,u,y,w;if(z&&z.weight&&z.weight>0){x={};y=z.linecap||"flat";w=z.linejoin||"round";if(y!="round"&&y!="square"){y="flat";}v=parseFloat(z.opacity);r=z.dashstyle||"none";z.color=z.color||"#000000";z.weight=z.weight||1;z.opacity=j(v)?v:1;x.stroked=true;x.color=z.color;x.weight=z.weight;x.endcap=y;x.opacity=z.opacity;if(f(r)){t=[];u=r.length;for(s=0;s<u;++s){q=r[s];t[s]=q/z.weight;}}if(w=="round"||w=="bevel"){x.joinstyle=w;}else{w=parseInt(w,10);if(j(w)){x.miterlimit=Math.max(w,1);x.joinstyle="miter";}}x.dashstyle=t;}return x;},_strokeChangeHandler:function(w){var s=this.node,A=this.get("stroke"),x,r,u="",q,t=0,v,z,y;if(A&&A.weight&&A.weight>0){z=A.linecap||"flat";y=A.linejoin||"round";if(z!="round"&&z!="square"){z="flat";}x=parseFloat(A.opacity);r=A.dashstyle||"none";A.color=A.color||"#000000";A.weight=A.weight||1;A.opacity=j(x)?x:1;s.stroked=true;s.strokeColor=A.color;s.strokeWeight=A.weight+"px";if(!this._strokeNode){this._strokeNode=this._createGraphicNode("stroke");s.appendChild(this._strokeNode);}this._strokeNode.endcap=z;this._strokeNode.opacity=A.opacity;if(f(r)){u=[];v=r.length;for(t=0;t<v;++t){q=r[t];u[t]=q/A.weight;}}if(y=="round"||y=="bevel"){this._strokeNode.joinstyle=y;}else{y=parseInt(y,10);if(j(y)){this._strokeNode.miterlimit=Math.max(y,1);this._strokeNode.joinstyle="miter";}}this._strokeNode.dashstyle=u;this._strokeNode.on=true;}else{if(this._strokeNode){this._strokeNode.on=false;}s.stroked=false;}},_getFillProps:function(){var w=this.get("fill"),q,t,v,r,s,u=false;if(w){t={};if(w.type=="radial"||w.type=="linear"){q=parseFloat(w.opacity);q=j(q)?q:1;u=true;v=this._getGradientFill(w);s='<fill xmlns="urn:schemas-microsft.com:vml" class="vmlfill" style="behavior:url(#default#VML);display:inline-block;" opacity="'+q+'"';
for(r in v){if(v.hasOwnProperty(r)){s+=" "+r+'="'+v[r]+'"';}}s+=" />";t.node=s;}else{if(w.color){q=parseFloat(w.opacity);u=true;t.color=w.color;if(j(q)){q=Math.max(Math.min(q,1),0);t.opacity=q;if(q<1){t.node='<fill xmlns="urn:schemas-microsft.com:vml" class="vmlfill" style="behavior:url(#default#VML);display:inline-block;" type="solid" opacity="'+q+'"/>';}}}}t.filled=u;}return t;},_fillChangeHandler:function(v){var s=this.node,u=this.get("fill"),q,r,t=false;if(u){if(u.type=="radial"||u.type=="linear"){t=true;this._setGradientFill(s,u);}else{if(u.color){s.fillcolor=u.color;q=parseFloat(u.opacity);t=true;if(j(q)&&q<1){u.opacity=q;if(this._fillNode){if(this._fillNode.getAttribute("type")!="solid"){this._fillNode.type="solid";}this._fillNode.opacity=q;}else{r='<fill xmlns="urn:schemas-microsft.com:vml" class="vmlfill" style="behavior:url(#default#VML);display:inline-block;" type="solid" opacity="'+q+'"/>';this._fillNode=m.createElement(r);s.appendChild(this._fillNode);}}else{if(this._fillNode){this._fillNode.opacity=1;this._fillNode.type="solid";}}}}}s.filled=t;},_updateFillNode:function(q){if(!this._fillNode){this._fillNode=this._createGraphicNode("fill");q.appendChild(this._fillNode);}},_getGradientFill:function(K){var O={},C,A,z=K.type,D=this.get("width"),N=this.get("height"),E=j,I,B=K.stops,M=B.length,x,J,L=0,F,q="",u=K.cx,s=K.cy,v=K.fx,t=K.fy,G=K.r,y,H=K.rotation||0;if(z==="linear"){if(H>0&&H<=90){H=450-H;}else{if(H<=270){H=270-H;}else{if(H<=360){H=630-H;}else{H=270;}}}O.type="gradient";O.angle=H;}else{if(z==="radial"){C=D*(G*2);A=N*(G*2);v=G*2*(v-0.5);t=G*2*(t-0.5);v+=u;t+=s;O.focussize=(C/D)/10+"% "+(A/N)/10+"%";O.alignshape=false;O.type="gradientradial";O.focus="100%";O.focusposition=Math.round(v*100)+"% "+Math.round(t*100)+"%";}}for(;L<M;++L){I=B[L];J=I.color;x=I.opacity;x=E(x)?x:1;y=I.offset||L/(M-1);y*=(G*2);if(y<=1){y=Math.round(100*y)+"%";F=L>0?L+1:"";O["opacity"+F]=x+"";q+=", "+y+" "+J;}}y=B[1].offset||0;y*=100;if(parseInt(y,10)<100){q+=", 100% "+J;}O.colors=q.substr(2);return O;},_setGradientFill:function(H,L){this._updateFillNode(H);var C,A,z=L.type,D=this.get("width"),O=this.get("height"),E=j,J,B=L.stops,N=B.length,x,K,M=0,F,q="",u=L.cx,s=L.cy,v=L.fx,t=L.fy,G=L.r,y,I=L.rotation||0;if(z==="linear"){if(I>0&&I<=90){I=450-I;}else{if(I<=270){I=270-I;}else{if(I<=360){I=630-I;}else{I=270;}}}this._fillNode.type="gradient";this._fillNode.angle=I;}else{if(z==="radial"){C=D*(G*2);A=O*(G*2);v=G*2*(v-0.5);t=G*2*(t-0.5);v+=u;t+=s;this._fillNode.focussize=(C/D)/10+"% "+(A/O)/10+"%";this._fillNode.alignshape=false;this._fillNode.type="gradientradial";this._fillNode.focus="100%";this._fillNode.focusposition=Math.round(v*100)+"% "+Math.round(t*100)+"%";}}for(;M<N;++M){J=B[M];K=J.color;x=J.opacity;x=E(x)?x:1;y=J.offset||M/(N-1);y*=(G*2);if(y<=1){y=Math.round(100*y)+"%";F=M>0?M+1:"";this._fillNode["opacity"+F]=x+"";q+=", "+y+" "+K;}}y=B[1].offset||0;y*=100;if(parseInt(y,10)<100){q+=", 100% "+K;}this._fillNode.colors.value=q.substr(2);},_addTransform:function(r,q){if(!this._transformArgs){this._transformArgs={};}this._transformArgs[r]=Array.prototype.slice.call(q,0);this._updateTransform();},_updateTransform:function(){var F=this,I=F.node,C,K,B=F.get("x"),A=F.get("y"),E,u,t,N,M,H,G,r,v,D,z,J,s,L,q=F._transformArgs;if(q){C=F.get("width");K=F.get("height");L=I.coordSize;if(q.hasOwnProperty("translate")){u=0-(L.x/C*F._translateX);t=0-(L.y/K*F._translateY);I.coordOrigin=u+","+t;}if(q.hasOwnProperty("rotate")){E=F.get("transformOrigin");N=E[0];M=E[1];H=C*(N-0.5);G=K*(M-0.5);r=Math.abs(F._rotation);v=Math.PI/180;D=parseFloat(parseFloat(Math.sin(r*v)).toFixed(8));z=parseFloat(parseFloat(Math.cos(r*v)).toFixed(8));J=(H*z)-(G*D);s=(H*D)+(G*z);I.style.rotation=F._rotation;B=B+(H-J);A=A+(G-s);}}I.style.left=B+"px";I.style.top=A+"px";this._graphic.addToRedrawQueue(this);},_translateX:0,_translateY:0,translate:function(q,r){this._translateX=q;this._translateY=r;this._addTransform("translate",arguments);},skewX:function(q){},skewY:function(q){},_rotation:0,rotate:function(q){this._rotation=q;this._addTransform("rotate",arguments);},scale:function(q){},matrix:function(r,q,v,u,t,s){},isMouseEvent:function(q){if(q.indexOf("mouse")>-1||q.indexOf("click")>-1){return true;}return false;},before:function(r,q){if(this.isMouseEvent(r)){return b.before(r,q,"#"+this.get("id"));}return b.on.apply(this,arguments);},on:function(r,q){if(this.isMouseEvent(r)){return b.on(r,q,"#"+this.get("id"));}return b.on.apply(this,arguments);},after:function(r,q){if(this.isMouseEvent(r)){return b.after(r,q,"#"+this.get("id"));}return b.on.apply(this,arguments);},_draw:function(){var r=this,q=r.node;if(!q){r.createNode();}else{r._fillChangeHandler();r._strokeChangeHandler();q.style.width=this.get("width")+"px";q.style.height=this.get("height")+"px";}r._updateTransform();},_updateHandler:function(r){var q=this.node;if(q){q.style.visible="hidden";}this._draw();if(q){q.style.visible="visible";}},_createGraphicNode:function(q){q=q||this._type;return m.createElement("<"+q+' xmlns="urn:schemas-microsft.com:vml" style="behavior:url(#default#VML);display:inline-block;" class="vml'+q+'"/>');},_getDefaultFill:function(){return{type:"solid",cx:0.5,cy:0.5,fx:0.5,fy:0.5,r:0.5};},_getDefaultStroke:function(){return{weight:1,dashstyle:"none",color:"#000",opacity:1};},set:function(){var q=this;e.prototype.set.apply(q,arguments);if(q.initialized){q._updateHandler();}},getBounds:function(){var s=this.get("width"),t=this.get("height"),v=this.get("stroke"),r=this.get("x"),z=this.get("y"),q=0,u={};if(v&&v.weight){q=v.weight;}u.left=r-q;u.top=z-q;u.right=r+s+q;u.bottom=z+t+q;return u;},destroy:function(){var q=this._graphic&&this._graphic._node?this._graphic._node:null,r=this.node;if(this.node){if(this._fillNode){r.removeChild(this._fillNode);}if(this._strokeNode){r.removeChild(this._strokeNode);}if(q){q.removeChild(r);}}}});p.ATTRS={transformOrigin:{valueFn:function(){return[0.5,0.5];}},rotation:{setter:function(q){this.rotate(q);},getter:function(){return this._rotation;
}},translateX:{getter:function(){return this._translateX;},setter:function(q){this._translateX=q;this._addTransform("translate",[q,this._translateY]);return q;}},translateY:{getter:function(){return this._translateY;},setter:function(q){this._translateY=q;this._addTransform("translate",[this._translateX,q]);return q;}},x:{value:0},y:{value:0},id:{valueFn:function(){return b.guid();},setter:function(r){var q=this.node;if(q){q.setAttribute("id",r);}return r;}},width:{value:0},height:{value:0},visible:{value:true,setter:function(s){var r=this.node,q=s?"visible":"hidden";if(r){r.style.visibility=q;}return s;}},fill:{valueFn:"_getDefaultFill",setter:function(t){var r,s,q=this.get("fill")||this._getDefaultFill();if(t){if(t.hasOwnProperty("color")){t.type="solid";}for(r in t){if(t.hasOwnProperty(r)){q[r]=t[r];}}}s=q;if(s&&s.color){if(s.color===undefined||s.color=="none"){s.color=null;}}return s;}},stroke:{valueFn:"_getDefaultStroke",setter:function(t){var r,s,q=this.get("stroke")||this._getDefaultStroke();if(t){for(r in t){if(t.hasOwnProperty(r)){q[r]=t[r];}}}s=q;return s;}},autoSize:{value:false},pointerEvents:{value:"visiblePainted"},graphic:{readOnly:true,getter:function(){return this._graphic;}}};b.VMLShape=p;o=function(){o.superclass.constructor.apply(this,arguments);};o.NAME="vmlPath";b.extend(o,b.VMLShape,b.merge(b.VMLDrawing.prototype,{_type:"shape",_draw:function(){var x=this.get("fill"),v=this.get("stroke"),s=this.node,q=this.get("width"),r=this.get("height"),u=this.get("path"),t="";s.style.visible="hidden";this._fillChangeHandler();this._strokeChangeHandler();if(u){if(x&&x.color){t+=" x";}if(v){t+=" e";}}if(u){s.path=u+t;}if(q&&r){s.coordSize=q+", "+r;s.style.position="absolute";s.style.width=q+"px";s.style.height=r+"px";}this._path=u;s.style.visible="visible";this._updateTransform();},end:function(){this._draw();},clear:function(){this._path="";}}));o.ATTRS=b.merge(b.VMLShape.ATTRS,{width:{getter:function(){return this._width;},setter:function(q){this._width=q;return q;}},height:{getter:function(){return this._height;},setter:function(q){this._height=q;return q;}},path:{readOnly:true,getter:function(){return this._path;}}});b.VMLPath=o;k=function(){k.superclass.constructor.apply(this,arguments);};k.NAME="vmlRect";b.extend(k,b.VMLShape,{_type:"rect"});k.ATTRS=b.VMLShape.ATTRS;b.VMLRect=k;n=function(){n.superclass.constructor.apply(this,arguments);};n.NAME="vmlEllipse";b.extend(n,b.VMLShape,{_type:"oval"});n.ATTRS=b.merge(b.VMLShape.ATTRS,{xRadius:{lazyAdd:false,getter:function(){var q=this.get("width");q=Math.round((q/2)*100)/100;return q;},setter:function(r){var q=r*2;this.set("width",q);return r;}},yRadius:{lazyAdd:false,getter:function(){var q=this.get("height");q=Math.round((q/2)*100)/100;return q;},setter:function(r){var q=r*2;this.set("height",q);return r;}}});b.VMLEllipse=n;l=function(q){l.superclass.constructor.apply(this,arguments);};l.NAME="vmlCircle";b.extend(l,p,{_type:"oval"});l.ATTRS=b.merge(p.ATTRS,{radius:{lazyAdd:false,value:0},width:{setter:function(q){this.set("radius",q/2);return q;},getter:function(){var q=this.get("radius"),r=q&&q>0?q*2:0;return r;}},height:{setter:function(q){this.set("radius",q/2);return q;},getter:function(){var q=this.get("radius"),r=q&&q>0?q*2:0;return r;}}});b.VMLCircle=l;a=function(){a.superclass.constructor.apply(this,arguments);};a.NAME="vmlPieSlice";b.extend(a,b.VMLPath,{_type:"shape",initializer:function(q){var r=this,s=q.graphic;r.createNode();r._graphic=s;r._updateHandler();s.addToRedrawQueue(this);},_updateHandler:function(u){var r=this.get("cx"),v=this.get("cy"),t=this.get("startAngle"),s=this.get("arc"),q=this.get("radius");this.clear();this.drawWedge(r,v,t,s,q);this._draw();}});a.ATTRS=b.mix(b.VMLPath.ATTRS,{cx:{value:0},cy:{value:0},startAngle:{value:0},arc:{value:0},radius:{value:0}});b.VMLPieSlice=a;i=function(){i.superclass.constructor.apply(this,arguments);};i.NAME="vmlGraphic";i.ATTRS={render:{},id:{valueFn:function(){return b.guid();},setter:function(r){var q=this._node;if(q){q.setAttribute("id",r);}return r;}},shapes:{readOnly:true,getter:function(){return this._shapes;}},contentBounds:{readOnly:true,getter:function(){return this._contentBounds;}},node:{readOnly:true,getter:function(){return this._node;}},width:{setter:function(q){if(this._node){this._node.style.width=q+"px";}return q;}},height:{setter:function(q){if(this._node){this._node.style.height=q+"px";}return q;}},autoSize:{value:false},resizeDown:{getter:function(){return this._resizeDown;},setter:function(q){this._resizeDown=q;this._redraw();return q;}},x:{getter:function(){return this._x;},setter:function(q){this._x=q;if(this._node){this._node.style.left=q+"px";}return q;}},y:{getter:function(){return this._y;},setter:function(q){this._y=q;if(this._node){this._node.style.top=q+"px";}return q;}},autoDraw:{value:true},visible:{value:true,setter:function(q){this._toggleVisible(q);return q;}}};b.extend(i,b.BaseGraphic,{_x:0,_y:0,getXY:function(){var q=b.one(this._node),r;if(q){r=q.getXY();}return r;},_resizeDown:false,initializer:function(q){var r=this.get("render");this._shapes={};this._contentBounds={left:0,top:0,right:0,bottom:0};this._node=this._createGraphic();this._node.setAttribute("id",this.get("id"));if(r){this.render(r);}},render:function(t){var q=b.one(t),r=this.get("width")||parseInt(q.getComputedStyle("width"),10),s=this.get("height")||parseInt(q.getComputedStyle("height"),10);q=q||m.body;q.appendChild(this._node);this.setSize(r,s);this.parentNode=q;this.set("width",r);this.set("height",s);return this;},destroy:function(){this.clear();this._node.parentNode.removeChild(this._node);},getShape:function(q){q.graphic=this;var r=new this._shapeClass[q.type](q);this.addShape(r);return r;},addShape:function(r){var s=r.node,q=this._frag||this._node;if(this.get("autoDraw")){q.appendChild(s);}else{this._getDocFrag().appendChild(s);}},removeShape:function(q){if(!q instanceof p){if(d.isString(q)){q=this._shapes[q];}}if(q&&q instanceof p){q.destroy();delete this._shapes[q.get("id")];
}if(this.get("autoDraw")){this._redraw();}},removeAllShapes:function(){var q=this._shapes,r;for(r in q){if(q.hasOwnProperty(r)){q[r].destroy();}}this._shapes={};},_removeChildren:function(q){if(q.hasChildNodes()){var r;while(q.firstChild){r=q.firstChild;this._removeChildren(r);q.removeChild(r);}}},clear:function(){this._removeAllShapes();this._removeChildren(this._node);},_toggleVisible:function(t){var s,r=this._shapes,q=t?"visible":"hidden";if(r){for(s in r){if(r.hasOwnProperty(s)){r[s].set("visible",t);}}}this._node.style.visibility=q;},setSize:function(q,r){q=Math.round(q);r=Math.round(r);this._node.style.width=q+"px";this._node.style.height=r+"px";this._node.coordSize=q+" "+r;},setPosition:function(q,r){q=Math.round(q);r=Math.round(r);this._node.style.left=q+"px";this._node.style.top=r+"px";},_createGraphic:function(){var q=m.createElement('<group xmlns="urn:schemas-microsft.com:vml" style="behavior:url(#default#VML);display:block;zoom:1;" />');q.style.display="block";q.style.position="absolute";return q;},_createGraphicNode:function(q){return m.createElement("<"+q+' xmlns="urn:schemas-microsft.com:vml" style="behavior:url(#default#VML);display:inline-block;zoom:1;" />');},getShapeById:function(q){return this._shapes[q];},_shapeClass:{circle:b.VMLCircle,rect:b.VMLRect,path:b.VMLPath,ellipse:b.VMLEllipse,pieslice:b.VMLPieSlice},batch:function(r){var q=this.get("autoDraw");this.set("autoDraw",false);r.apply();this._redraw();this.set("autoDraw",q);},_getDocFrag:function(){if(!this._frag){this._frag=m.createDocumentFragment();}return this._frag;},addToRedrawQueue:function(q){var s,r;this._shapes[q.get("id")]=q;if(!this.get("resizeDown")){s=q.getBounds();r=this._contentBounds;r.left=r.left<s.left?r.left:s.left;r.top=r.top<s.top?r.top:s.top;r.right=r.right>s.right?r.right:s.right;r.bottom=r.bottom>s.bottom?r.bottom:s.bottom;r.width=r.right-r.left;r.height=r.bottom-r.top;this._contentBounds=r;}if(this.get("autoDraw")){this._redraw();}},_redraw:function(){var q=this.get("resizeDown")?this._getUpdatedContentBounds():this._contentBounds;if(this.get("autoSize")){this.setSize(q.right,q.bottom);}if(this._frag){this._node.appendChild(this._frag);this._frag=null;}},_getUpdatedContentBounds:function(){var u,s,r,q=this._shapes,t={left:0,top:0,right:0,bottom:0};for(s in q){if(q.hasOwnProperty(s)){r=q[s];u=r.getBounds();t.left=Math.min(t.left,u.left);t.top=Math.min(t.top,u.top);t.right=Math.max(t.right,u.right);t.bottom=Math.max(t.bottom,u.bottom);}}t.width=t.right-t.left;t.height=t.bottom-t.top;this._contentBounds=t;return t;}});b.VMLGraphic=i;},"@VERSION@",{requires:["graphics"],skinnable:false});