YUI.add("graphics-vml",function(c,f){var o="vml",n="shape",a=/[a-z][^a-z]*/ig,i=/[-]?[0-9]*[0-9|\.][0-9]*/g,r=c.Lang,k=r.isNumber,l=r.isArray,g=r.isString,t=c.DOM,u=c.Selector,e=c.config.doc,j=c.AttributeLite,v,b,w,h,m,s,q,d=c.ClassNameManager.getClassName;function p(){}p.prototype={_pathSymbolToMethod:{M:"moveTo",m:"relativeMoveTo",L:"lineTo",l:"relativeLineTo",C:"curveTo",c:"relativeCurveTo",Q:"quadraticCurveTo",q:"relativeQuadraticCurveTo",z:"closePath",Z:"closePath"},_coordSpaceMultiplier:100,_round:function(z){return Math.round(z*this._coordSpaceMultiplier);},_addToPath:function(z){this._path=this._path||"";if(this._movePath){this._path+=this._movePath;this._movePath=null;}this._path+=z;},_currentX:0,_currentY:0,curveTo:function(){this._curveTo.apply(this,[c.Array(arguments),false]);},relativeCurveTo:function(){this._curveTo.apply(this,[c.Array(arguments),true]);},_curveTo:function(z,Q){var F,M,O,N,B,A,R,P,D,E,G,K=0,L,H,C=Q?" v ":" c ",J=Q?parseFloat(this._currentX):0,I=Q?parseFloat(this._currentY):0;L=z.length-5;H=C;for(;K<L;K=K+6){O=parseFloat(z[K]);N=parseFloat(z[K+1]);B=parseFloat(z[K+2]);A=parseFloat(z[K+3]);x=parseFloat(z[K+4]);y=parseFloat(z[K+5]);if(K>0){H=H+", ";}H=H+this._round(O)+", "+this._round(N)+", "+this._round(B)+", "+this._round(A)+", "+this._round(x)+", "+this._round(y);O=O+J;N=N+I;B=B+J;A=A+I;x=x+J;y=y+I;P=Math.max(x,Math.max(O,B));E=Math.max(y,Math.max(N,A));D=Math.min(x,Math.min(O,B));G=Math.min(y,Math.min(N,A));F=Math.abs(P-D);M=Math.abs(E-G);R=[[this._currentX,this._currentY],[O,N],[B,A],[x,y]];this._setCurveBoundingBox(R,F,M);this._currentX=x;this._currentY=y;}this._addToPath(H);},quadraticCurveTo:function(){this._quadraticCurveTo.apply(this,[c.Array(arguments),false]);},relativeQuadraticCurveTo:function(){this._quadraticCurveTo.apply(this,[c.Array(arguments),true]);},_quadraticCurveTo:function(K,z){var F,E,D,C,O,N,M,L,B=this._currentX,A=this._currentY,G=0,I=K.length-3,P=[],J=z?parseFloat(this._currentX):0,H=z?parseFloat(this._currentY):0;for(;G<I;G=G+4){F=parseFloat(K[G])+J;E=parseFloat(K[G+1])+H;M=parseFloat(K[G+2])+J;L=parseFloat(K[G+3])+H;D=B+0.67*(F-B);C=A+0.67*(E-A);O=D+(M-B)*0.34;N=C+(L-A)*0.34;P.push(D),P.push(C),P.push(O),P.push(N);P.push(M);P.push(L);}this._curveTo.apply(this,[P,false]);},drawRect:function(z,C,A,B){this.moveTo(z,C);this.lineTo(z+A,C);this.lineTo(z+A,C+B);this.lineTo(z,C+B);this.lineTo(z,C);this._currentX=z;this._currentY=C;return this;},drawRoundRect:function(z,E,A,C,B,D){this.moveTo(z,E+D);this.lineTo(z,E+C-D);this.quadraticCurveTo(z,E+C,z+B,E+C);this.lineTo(z+A-B,E+C);this.quadraticCurveTo(z+A,E+C,z+A,E+C-D);this.lineTo(z+A,E+D);this.quadraticCurveTo(z+A,E,z+A-B,E);this.lineTo(z+B,E);this.quadraticCurveTo(z,E,z,E+D);return this;},drawCircle:function(A,E,z){var C=0,B=360,D=z*2;B*=65535;this._drawingComplete=false;this._trackSize(A+D,E+D);this.moveTo((A+D),(E+z));this._addToPath(" ae "+this._round(A+z)+", "+this._round(E+z)+", "+this._round(z)+", "+this._round(z)+", "+C+", "+B);return this;},drawEllipse:function(B,G,C,F){var E=0,D=360,A=C*0.5,z=F*0.5;D*=65535;this._drawingComplete=false;this._trackSize(B+C,G+F);this.moveTo((B+C),(G+z));this._addToPath(" ae "+this._round(B+A)+", "+this._round(B+A)+", "+this._round(G+z)+", "+this._round(A)+", "+this._round(z)+", "+E+", "+D);return this;},drawDiamond:function(A,E,D,z){var C=D*0.5,B=z*0.5;this.moveTo(A+C,E);this.lineTo(A+D,E+B);this.lineTo(A+C,E+z);this.lineTo(A,E+B);this.lineTo(A+C,E);return this;},drawWedge:function(A,E,C,B,z){var D=z*2;if(Math.abs(B)>360){B=360;}this._currentX=A;this._currentY=E;C*=-65535;B*=65536;C=Math.round(C);B=Math.round(B);this.moveTo(A,E);this._addToPath(" ae "+this._round(A)+", "+this._round(E)+", "+this._round(z)+" "+this._round(z)+", "+C+", "+B);this._trackSize(D,D);return this;},lineTo:function(){this._lineTo.apply(this,[c.Array(arguments),false]);},relativeLineTo:function(){this._lineTo.apply(this,[c.Array(arguments),true]);},_lineTo:function(E,z){var G=E[0],A,C,H,F,I=z?" r ":" l ",D=z?parseFloat(this._currentX):0,B=z?parseFloat(this._currentY):0;if(typeof G=="string"||typeof G=="number"){C=E.length-1;for(A=0;A<C;A=A+2){H=parseFloat(E[A]);F=parseFloat(E[A+1]);I+=" "+this._round(H)+", "+this._round(F);H=H+D;F=F+B;this._currentX=H;this._currentY=F;this._trackSize.apply(this,[H,F]);}}else{C=E.length;for(A=0;A<C;A=A+1){H=parseFloat(E[A][0]);F=parseFloat(E[A][1]);I+=" "+this._round(H)+", "+this._round(F);H=H+D;F=F+B;this._currentX=H;this._currentY=F;this._trackSize.apply(this,[H,F]);}}this._addToPath(I);return this;},moveTo:function(){this._moveTo.apply(this,[c.Array(arguments),false]);},relativeMoveTo:function(){this._moveTo.apply(this,[c.Array(arguments),true]);},_moveTo:function(A,B){var z=parseFloat(A[0]);y=parseFloat(A[1]),command=B?" t ":" m ",relativeX=B?parseFloat(this._currentX):0,relativeY=B?parseFloat(this._currentY):0;this._movePath=command+this._round(z)+", "+this._round(y);z=z+relativeX;y=y+relativeY;this._trackSize(z,y);this._currentX=z;this._currentY=y;},_closePath:function(){var F=this.get("fill"),E=this.get("stroke"),B=this.node,z=this.get("width"),A=this.get("height"),D=this._path,C="",G=this._coordSpaceMultiplier;this._fillChangeHandler();this._strokeChangeHandler();if(D){if(F&&F.color){C+=" x";}if(E){C+=" e";}}if(D){B.path=D+C;}if(!isNaN(z)&&!isNaN(A)){B.coordOrigin=this._left+", "+this._top;B.coordSize=(z*G)+", "+(A*G);B.style.position="absolute";B.style.width=z+"px";B.style.height=A+"px";}this._path=D;this._movePath=null;this._updateTransform();},end:function(){this._closePath();},closePath:function(){this._addToPath(" x e");},clear:function(){this._right=0;this._bottom=0;this._width=0;this._height=0;this._left=0;this._top=0;this._path="";this._movePath=null;},getBezierData:function(D,C){var E=D.length,B=[],A,z;for(A=0;A<E;++A){B[A]=[D[A][0],D[A][1]];}for(z=1;z<E;++z){for(A=0;A<E-z;++A){B[A][0]=(1-C)*B[A][0]+C*B[parseInt(A+1,10)][0];B[A][1]=(1-C)*B[A][1]+C*B[parseInt(A+1,10)][1];}}return[B[0][0],B[0][1]];},_setCurveBoundingBox:function(J,F,C){var B=0,A=this._currentX,G=A,E=this._currentY,z=E,D=Math.round(Math.sqrt((F*F)+(C*C))),H=1/D,I;
for(;B<D;++B){I=this.getBezierData(J,H*B);A=isNaN(A)?I[0]:Math.min(I[0],A);G=isNaN(G)?I[0]:Math.max(I[0],G);E=isNaN(E)?I[1]:Math.min(I[1],E);z=isNaN(z)?I[1]:Math.max(I[1],z);}A=Math.round(A*10)/10;G=Math.round(G*10)/10;E=Math.round(E*10)/10;z=Math.round(z*10)/10;this._trackSize(G,z);this._trackSize(A,E);},_trackSize:function(z,A){if(z>this._right){this._right=z;}if(z<this._left){this._left=z;}if(A<this._top){this._top=A;}if(A>this._bottom){this._bottom=A;}this._width=this._right-this._left;this._height=this._bottom-this._top;},_left:0,_right:0,_top:0,_bottom:0,_width:0,_height:0};c.VMLDrawing=p;v=function(){this._transforms=[];this.matrix=new c.Matrix();this._normalizedMatrix=new c.Matrix();v.superclass.constructor.apply(this,arguments);};v.NAME="shape";c.extend(v,c.GraphicBase,c.mix({_type:"shape",init:function(){this.initializer.apply(this,arguments);},initializer:function(z){var A=this,C=z.graphic,B=this.get("data");A.createNode();if(C){this._setGraphic(C);}if(B){A._parsePathData(B);}this._updateHandler();},_setGraphic:function(z){var A;if(z instanceof c.VMLGraphic){this._graphic=z;}else{z=c.one(z);A=new c.VMLGraphic({render:z});A._appendShape(this);this._graphic=A;this._appendStrokeAndFill();}},_appendStrokeAndFill:function(){if(this._strokeNode){this.node.appendChild(this._strokeNode);}if(this._fillNode){this.node.appendChild(this._fillNode);}},createNode:function(){var M,D=this._camelCaseConcat,I=this.get("x"),G=this.get("y"),J=this.get("width"),O=this.get("height"),L,C,T=this.name,S,P=this.get("visible")?"visible":"hidden",R,F,E,K,A,H,Q,z,N,B;L=this.get("id");C=this._type=="path"?"shape":this._type;F=d(n)+" "+d(D(o,n))+" "+d(T)+" "+d(D(o,T))+" "+o+C;E=this._getStrokeProps();N=this._getFillProps();S="<"+C+'  xmlns="urn:schemas-microsft.com:vml" id="'+L+'" class="'+F+'" style="behavior:url(#default#VML);display:inline-block;position:absolute;left:'+I+"px;top:"+G+"px;width:"+J+"px;height:"+O+"px;visibility:"+P+'"';if(E&&E.weight&&E.weight>0){K=E.endcap;A=parseFloat(E.opacity);H=E.joinstyle;Q=E.miterlimit;z=E.dashstyle;S+=' stroked="t" strokecolor="'+E.color+'" strokeWeight="'+E.weight+'px"';R='<stroke class="vmlstroke" xmlns="urn:schemas-microsft.com:vml" on="t" style="behavior:url(#default#VML);display:inline-block;"';R+=' opacity="'+A+'"';if(K){R+=' endcap="'+K+'"';}if(H){R+=' joinstyle="'+H+'"';}if(Q){R+=' miterlimit="'+Q+'"';}if(z){R+=' dashstyle="'+z+'"';}R+="></stroke>";this._strokeNode=e.createElement(R);S+=' stroked="t"';}else{S+=' stroked="f"';}if(N){if(N.node){B=N.node;this._fillNode=e.createElement(B);}if(N.color){S+=' fillcolor="'+N.color+'"';}S+=' filled="'+N.filled+'"';}S+=">";S+="</"+C+">";M=e.createElement(S);this.node=M;this._strokeFlag=false;this._fillFlag=false;},addClass:function(z){var A=this.node;t.addClass(A,z);},removeClass:function(z){var A=this.node;t.removeClass(A,z);},getXY:function(){var C=this._graphic,A=C.getXY(),z=this.get("x"),B=this.get("y");return[A[0]+z,A[1]+B];},setXY:function(A){var B=this._graphic,z=B.getXY();this.set("x",A[0]-z[0]);this.set("y",A[1]-z[1]);},contains:function(z){return z===c.one(this.node);},compareTo:function(z){var A=this.node;return A===z;},test:function(z){return u.test(this.node,z);},_getStrokeProps:function(){var G,I=this.get("stroke"),E,A,C="",z,B=0,D,H,F;if(I&&I.weight&&I.weight>0){G={};H=I.linecap||"flat";F=I.linejoin||"round";if(H!="round"&&H!="square"){H="flat";}E=parseFloat(I.opacity);A=I.dashstyle||"none";I.color=I.color||"#000000";I.weight=I.weight||1;I.opacity=k(E)?E:1;G.stroked=true;G.color=I.color;G.weight=I.weight;G.endcap=H;G.opacity=I.opacity;if(l(A)){C=[];D=A.length;for(B=0;B<D;++B){z=A[B];C[B]=z/I.weight;}}if(F=="round"||F=="bevel"){G.joinstyle=F;}else{F=parseInt(F,10);if(k(F)){G.miterlimit=Math.max(F,1);G.joinstyle="miter";}}G.dashstyle=C;}return G;},_strokeChangeHandler:function(F){if(!this._strokeFlag){return;}var B=this.node,J=this.get("stroke"),G,A,D="",z,C=0,E,I,H;if(J&&J.weight&&J.weight>0){I=J.linecap||"flat";H=J.linejoin||"round";if(I!="round"&&I!="square"){I="flat";}G=parseFloat(J.opacity);A=J.dashstyle||"none";J.color=J.color||"#000000";J.weight=J.weight||1;J.opacity=k(G)?G:1;B.stroked=true;B.strokeColor=J.color;B.strokeWeight=J.weight+"px";if(!this._strokeNode){this._strokeNode=this._createGraphicNode("stroke");B.appendChild(this._strokeNode);}this._strokeNode.endcap=I;this._strokeNode.opacity=J.opacity;if(l(A)){D=[];E=A.length;for(C=0;C<E;++C){z=A[C];D[C]=z/J.weight;}}if(H=="round"||H=="bevel"){this._strokeNode.joinstyle=H;}else{H=parseInt(H,10);if(k(H)){this._strokeNode.miterlimit=Math.max(H,1);this._strokeNode.joinstyle="miter";}}this._strokeNode.dashstyle=D;this._strokeNode.on=true;}else{if(this._strokeNode){this._strokeNode.on=false;}B.stroked=false;}this._strokeFlag=false;},_getFillProps:function(){var F=this.get("fill"),z,C,E,A,B,D=false;if(F){C={};if(F.type=="radial"||F.type=="linear"){z=parseFloat(F.opacity);z=k(z)?z:1;D=true;E=this._getGradientFill(F);B='<fill xmlns="urn:schemas-microsft.com:vml" class="vmlfill" style="behavior:url(#default#VML);display:inline-block;" opacity="'+z+'"';for(A in E){if(E.hasOwnProperty(A)){B+=" "+A+'="'+E[A]+'"';}}B+=" />";C.node=B;}else{if(F.color){z=parseFloat(F.opacity);D=true;C.color=F.color;if(k(z)){z=Math.max(Math.min(z,1),0);C.opacity=z;if(z<1){C.node='<fill xmlns="urn:schemas-microsft.com:vml" class="vmlfill" style="behavior:url(#default#VML);display:inline-block;" type="solid" opacity="'+z+'"/>';}}}}C.filled=D;}return C;},_fillChangeHandler:function(G){if(!this._fillFlag){return;}var C=this.node,F=this.get("fill"),z,B,D=false,A,E;if(F){if(F.type=="radial"||F.type=="linear"){D=true;E=this._getGradientFill(F);if(this._fillNode){for(A in E){if(E.hasOwnProperty(A)){if(A=="colors"){this._fillNode.colors.value=E[A];}else{this._fillNode[A]=E[A];}}}}else{B='<fill xmlns="urn:schemas-microsft.com:vml" class="vmlfill" style="behavior:url(#default#VML);display:inline-block;"';for(A in E){if(E.hasOwnProperty(A)){B+=" "+A+'="'+E[A]+'"';}}B+=" />";this._fillNode=e.createElement(B);
C.appendChild(this._fillNode);}}else{if(F.color){C.fillcolor=F.color;z=parseFloat(F.opacity);D=true;if(k(z)&&z<1){F.opacity=z;if(this._fillNode){if(this._fillNode.getAttribute("type")!="solid"){this._fillNode.type="solid";}this._fillNode.opacity=z;}else{B='<fill xmlns="urn:schemas-microsft.com:vml" class="vmlfill" style="behavior:url(#default#VML);display:inline-block;" type="solid" opacity="'+z+'"/>';this._fillNode=e.createElement(B);C.appendChild(this._fillNode);}}else{if(this._fillNode){this._fillNode.opacity=1;this._fillNode.type="solid";}}}}}C.filled=D;this._fillFlag=false;},_updateFillNode:function(z){if(!this._fillNode){this._fillNode=this._createGraphicNode("fill");z.appendChild(this._fillNode);}},_getGradientFill:function(R){var V={},J,H,G=R.type,K=this.get("width"),U=this.get("height"),L=k,P,I=R.stops,T=I.length,E,Q,S=0,M,z="",C=R.cx,A=R.cy,D=R.fx,B=R.fy,N=R.r,F,O=R.rotation||0;if(G==="linear"){if(O<=270){O=Math.abs(O-270);}else{if(O<360){O=270+(360-O);}else{O=270;}}V.type="gradient";V.angle=O;}else{if(G==="radial"){J=K*(N*2);H=U*(N*2);D=N*2*(D-0.5);B=N*2*(B-0.5);D+=C;B+=A;V.focussize=(J/K)/10+"% "+(H/U)/10+"%";V.alignshape=false;V.type="gradientradial";V.focus="100%";V.focusposition=Math.round(D*100)+"% "+Math.round(B*100)+"%";}}for(;S<T;++S){P=I[S];Q=P.color;E=P.opacity;E=L(E)?E:1;F=P.offset||S/(T-1);F*=(N*2);F=Math.round(100*F)+"%";M=S>0?S+1:"";V["opacity"+M]=E+"";z+=", "+F+" "+Q;}if(parseFloat(F)<100){z+=", 100% "+Q;}V.colors=z.substr(2);return V;},_addTransform:function(A,z){z=c.Array(z);this._transform=r.trim(this._transform+" "+A+"("+z.join(", ")+")");z.unshift(A);this._transforms.push(z);if(this.initialized){this._updateTransform();}},_updateTransform:function(){var C=this.node,L,B,D,K=this.get("x"),I=this.get("y"),G,E,J=this.matrix,z=this._normalizedMatrix,A=this instanceof c.VMLPath,F=0,H=this._transforms.length;if(this._transforms&&this._transforms.length>0){D=this.get("transformOrigin");if(A){z.translate(this._left,this._top);}G=D[0]-0.5;E=D[1]-0.5;G=Math.max(-0.5,Math.min(0.5,G));E=Math.max(-0.5,Math.min(0.5,E));for(;F<H;++F){L=this._transforms[F].shift();if(L){z[L].apply(z,this._transforms[F]);J[L].apply(J,this._transforms[F]);}}if(A){z.translate(-this._left,-this._top);}B=z.a+","+z.c+","+z.b+","+z.d+","+0+","+0;}this._graphic.addToRedrawQueue(this);if(B){if(!this._skew){this._skew=e.createElement('<skew class="vmlskew" xmlns="urn:schemas-microsft.com:vml" on="false" style="behavior:url(#default#VML);display:inline-block;" />');this.node.appendChild(this._skew);}this._skew.matrix=B;this._skew.on=true;this._skew.origin=G+", "+E;}if(this._type!="path"){this._transforms=[];}C.style.left=(K+this._getSkewOffsetValue(z.dx))+"px";C.style.top=(I+this._getSkewOffsetValue(z.dy))+"px";},_getSkewOffsetValue:function(A){var z=c.MatrixUtil.sign(A),B=Math.abs(A);A=Math.min(B,32767)*z;return A;},_translateX:0,_translateY:0,_transform:"",translate:function(z,A){this._translateX+=z;this._translateY+=A;this._addTransform("translate",arguments);},translateX:function(z){this._translateX+=z;this._addTransform("translateX",arguments);},translateY:function(z){this._translateY+=z;this._addTransform("translateY",arguments);},skew:function(z,A){this._addTransform("skew",arguments);},skewX:function(z){this._addTransform("skewX",arguments);},skewY:function(z){this._addTransform("skewY",arguments);},rotate:function(z){this._addTransform("rotate",arguments);},scale:function(z,A){this._addTransform("scale",arguments);},on:function(A,z){if(c.Node.DOM_EVENTS[A]){return c.one("#"+this.get("id")).on(A,z);}return c.on.apply(this,arguments);},_draw:function(){},_updateHandler:function(B){var A=this,z=A.node;A._fillChangeHandler();A._strokeChangeHandler();z.style.width=this.get("width")+"px";z.style.height=this.get("height")+"px";this._draw();A._updateTransform();},_createGraphicNode:function(z){z=z||this._type;return e.createElement("<"+z+' xmlns="urn:schemas-microsft.com:vml" style="behavior:url(#default#VML);display:inline-block;" class="vml'+z+'"/>');},_getDefaultFill:function(){return{type:"solid",cx:0.5,cy:0.5,fx:0.5,fy:0.5,r:0.5};},_getDefaultStroke:function(){return{weight:1,dashstyle:"none",color:"#000",opacity:1};},set:function(){var z=this;j.prototype.set.apply(z,arguments);if(z.initialized){z._updateHandler();}},getBounds:function(){var B=this instanceof c.VMLPath,A=this.get("width"),C=this.get("height"),z=this.get("x"),D=this.get("y");if(B){z=z+this._left;D=D+this._top;A=this._right-this._left;C=this._bottom-this._top;}return this._getContentRect(A,C,z,D);},_getContentRect:function(L,D,J,G){var B=this.get("transformOrigin"),K=B[0]*L,I=B[1]*D,F=this.matrix.getTransformArray(this.get("transform")),H=new c.Matrix(),C=0,E=F.length,A,M,N,z=this instanceof c.VMLPath;if(z){H.translate(this._left,this._top);}K=!isNaN(K)?K:0;I=!isNaN(I)?I:0;H.translate(K,I);for(;C<E;C=C+1){A=F[C];M=A.shift();if(M){H[M].apply(H,A);}}H.translate(-K,-I);if(z){H.translate(-this._left,-this._top);}N=H.getContentRect(L,D,J,G);return N;},toFront:function(){var z=this.get("graphic");if(z){z._toFront(this);}},toBack:function(){var z=this.get("graphic");if(z){z._toBack(this);}},_parsePathData:function(B){var z,D,F,H=c.Lang.trim(B.match(a)),C=0,E,G,A=this._pathSymbolToMethod;if(H){this.clear();E=H.length||0;for(;C<E;C=C+1){G=H[C];D=G.substr(0,1),F=G.substr(1).match(i);z=A[D];if(z){if(F){this[z].apply(this,F);}else{this[z].apply(this);}}}this.end();}},destroy:function(){var z=this.get("graphic");if(z){z.removeShape(this);}else{this._destroy();}},_destroy:function(){if(this.node){if(this._fillNode){this.node.removeChild(this._fillNode);this._fillNode=null;}if(this._strokeNode){this.node.removeChild(this._strokeNode);this._strokeNode=null;}c.one(this.node).remove(true);}}},c.VMLDrawing.prototype));v.ATTRS={transformOrigin:{valueFn:function(){return[0.5,0.5];}},transform:{setter:function(C){var B=0,z,A;this.matrix.init();this._normalizedMatrix.init();this._transforms=this.matrix.getTransformArray(C);z=this._transforms.length;for(;
B<z;++B){A=this._transforms[B];}this._transform=C;return C;},getter:function(){return this._transform;}},x:{value:0},y:{value:0},id:{valueFn:function(){return c.guid();},setter:function(A){var z=this.node;if(z){z.setAttribute("id",A);}return A;}},width:{value:0},height:{value:0},visible:{value:true,setter:function(B){var A=this.node,z=B?"visible":"hidden";if(A){A.style.visibility=z;}return B;}},fill:{valueFn:"_getDefaultFill",setter:function(C){var A,B,z=this.get("fill")||this._getDefaultFill();if(C){if(C.hasOwnProperty("color")){C.type="solid";}for(A in C){if(C.hasOwnProperty(A)){z[A]=C[A];}}}B=z;if(B&&B.color){if(B.color===undefined||B.color=="none"){B.color=null;}}this._fillFlag=true;return B;}},stroke:{valueFn:"_getDefaultStroke",setter:function(D){var B,C,z,A=this.get("stroke")||this._getDefaultStroke();if(D){if(D.hasOwnProperty("weight")){z=parseInt(D.weight,10);if(!isNaN(z)){D.weight=z;}}for(B in D){if(D.hasOwnProperty(B)){A[B]=D[B];}}}C=A;this._strokeFlag=true;return C;}},autoSize:{value:false},pointerEvents:{value:"visiblePainted"},node:{readOnly:true,getter:function(){return this.node;}},data:{setter:function(z){if(this.get("node")){this._parsePathData(z);}return z;}},graphic:{readOnly:true,getter:function(){return this._graphic;}}};c.VMLShape=v;w=function(){w.superclass.constructor.apply(this,arguments);};w.NAME="path";c.extend(w,c.VMLShape);w.ATTRS=c.merge(c.VMLShape.ATTRS,{width:{getter:function(){var z=Math.max(this._right-this._left,0);return z;}},height:{getter:function(){return Math.max(this._bottom-this._top,0);}},path:{readOnly:true,getter:function(){return this._path;}}});c.VMLPath=w;h=function(){h.superclass.constructor.apply(this,arguments);};h.NAME="rect";c.extend(h,c.VMLShape,{_type:"rect"});h.ATTRS=c.VMLShape.ATTRS;c.VMLRect=h;m=function(){m.superclass.constructor.apply(this,arguments);};m.NAME="ellipse";c.extend(m,c.VMLShape,{_type:"oval"});m.ATTRS=c.merge(c.VMLShape.ATTRS,{xRadius:{lazyAdd:false,getter:function(){var z=this.get("width");z=Math.round((z/2)*100)/100;return z;},setter:function(A){var z=A*2;this.set("width",z);return A;}},yRadius:{lazyAdd:false,getter:function(){var z=this.get("height");z=Math.round((z/2)*100)/100;return z;},setter:function(A){var z=A*2;this.set("height",z);return A;}}});c.VMLEllipse=m;b=function(z){b.superclass.constructor.apply(this,arguments);};b.NAME="circle";c.extend(b,v,{_type:"oval"});b.ATTRS=c.merge(v.ATTRS,{radius:{lazyAdd:false,value:0},width:{setter:function(z){this.set("radius",z/2);return z;},getter:function(){var z=this.get("radius"),A=z&&z>0?z*2:0;return A;}},height:{setter:function(z){this.set("radius",z/2);return z;},getter:function(){var z=this.get("radius"),A=z&&z>0?z*2:0;return A;}}});c.VMLCircle=b;q=function(){q.superclass.constructor.apply(this,arguments);};q.NAME="vmlPieSlice";c.extend(q,c.VMLShape,c.mix({_type:"shape",_draw:function(D){var A=this.get("cx"),E=this.get("cy"),C=this.get("startAngle"),B=this.get("arc"),z=this.get("radius");this.clear();this.drawWedge(A,E,C,B,z);this.end();}},c.VMLDrawing.prototype));q.ATTRS=c.mix({cx:{value:0},cy:{value:0},startAngle:{value:0},arc:{value:0},radius:{value:0}},c.VMLShape.ATTRS);c.VMLPieSlice=q;s=function(){s.superclass.constructor.apply(this,arguments);};s.NAME="vmlGraphic";s.ATTRS={render:{},id:{valueFn:function(){return c.guid();},setter:function(A){var z=this._node;if(z){z.setAttribute("id",A);}return A;}},shapes:{readOnly:true,getter:function(){return this._shapes;}},contentBounds:{readOnly:true,getter:function(){return this._contentBounds;}},node:{readOnly:true,getter:function(){return this._node;}},width:{setter:function(z){if(this._node){this._node.style.width=z+"px";}return z;}},height:{setter:function(z){if(this._node){this._node.style.height=z+"px";}return z;}},autoSize:{value:false},preserveAspectRatio:{value:"xMidYMid"},resizeDown:{resizeDown:false},x:{getter:function(){return this._x;},setter:function(z){this._x=z;if(this._node){this._node.style.left=z+"px";}return z;}},y:{getter:function(){return this._y;},setter:function(z){this._y=z;if(this._node){this._node.style.top=z+"px";}return z;}},autoDraw:{value:true},visible:{value:true,setter:function(z){this._toggleVisible(z);return z;}}};c.extend(s,c.GraphicBase,{set:function(A,E){var D=this,z={autoDraw:true,autoSize:true,preserveAspectRatio:true,resizeDown:true},C,B=false;j.prototype.set.apply(D,arguments);if(D._state.autoDraw===true&&c.Object.size(this._shapes)>0){if(r.isString&&z[A]){B=true;}else{if(r.isObject(A)){for(C in z){if(z.hasOwnProperty(C)&&A[C]){B=true;break;}}}}}if(B){D._redraw();}},_x:0,_y:0,getXY:function(){var A=this.parentNode,z=this.get("x"),C=this.get("y"),B;if(A){B=c.one(A).getXY();B[0]+=z;B[1]+=C;}else{B=c.DOM._getOffset(this._node);}return B;},initializer:function(A){var B=this.get("render"),z=this.get("visible")?"visible":"hidden";this._shapes={};this._contentBounds={left:0,top:0,right:0,bottom:0};this._node=this._createGraphic();this._node.style.left=this.get("x")+"px";this._node.style.top=this.get("y")+"px";this._node.style.visibility=z;this._node.setAttribute("id",this.get("id"));if(B){this.render(B);}},render:function(C){var z=c.one(C),A=this.get("width")||parseInt(z.getComputedStyle("width"),10),B=this.get("height")||parseInt(z.getComputedStyle("height"),10);z=z||e.body;z.appendChild(this._node);this.parentNode=z;this.set("width",A);this.set("height",B);return this;},destroy:function(){this.clear();c.one(this._node).remove(true);},addShape:function(z){z.graphic=this;if(!this.get("visible")){z.visible=false;}var B=this._getShapeClass(z.type),A=new B(z);this._appendShape(A);A._appendStrokeAndFill();return A;},_appendShape:function(A){var B=A.node,z=this._frag||this._node;if(this.get("autoDraw")||this.get("autoSize")=="sizeContentToGraphic"){z.appendChild(B);}else{this._getDocFrag().appendChild(B);}},removeShape:function(z){if(!(z instanceof v)){if(r.isString(z)){z=this._shapes[z];}}if(z&&(z instanceof v)){z._destroy();this._shapes[z.get("id")]=null;delete this._shapes[z.get("id")];
}if(this.get("autoDraw")){this._redraw();}},removeAllShapes:function(){var z=this._shapes,A;for(A in z){if(z.hasOwnProperty(A)){z[A].destroy();}}this._shapes={};},_removeChildren:function(z){if(z.hasChildNodes()){var A;while(z.firstChild){A=z.firstChild;this._removeChildren(A);z.removeChild(A);}}},clear:function(){this.removeAllShapes();this._removeChildren(this._node);},_toggleVisible:function(C){var B,A=this._shapes,z=C?"visible":"hidden";if(A){for(B in A){if(A.hasOwnProperty(B)){A[B].set("visible",C);}}}if(this._node){this._node.style.visibility=z;}if(this._node){this._node.style.visibility=z;}},setSize:function(z,A){z=Math.round(z);A=Math.round(A);this._node.style.width=z+"px";this._node.style.height=A+"px";},setPosition:function(z,A){z=Math.round(z);A=Math.round(A);this._node.style.left=z+"px";this._node.style.top=A+"px";},_createGraphic:function(){var z=e.createElement('<group xmlns="urn:schemas-microsft.com:vml" style="behavior:url(#default#VML);padding:0px 0px 0px 0px;display:block;position:absolute;top:0px;left:0px;zoom:1;" />');return z;},_createGraphicNode:function(z){return e.createElement("<"+z+' xmlns="urn:schemas-microsft.com:vml" style="behavior:url(#default#VML);display:inline-block;zoom:1;" />');},getShapeById:function(z){return this._shapes[z];},_getShapeClass:function(A){var z=this._shapeClass[A];if(z){return z;}return A;},_shapeClass:{circle:c.VMLCircle,rect:c.VMLRect,path:c.VMLPath,ellipse:c.VMLEllipse,pieslice:c.VMLPieSlice},batch:function(A){var z=this.get("autoDraw");this.set("autoDraw",false);A.apply();this.set("autoDraw",z);},_getDocFrag:function(){if(!this._frag){this._frag=e.createDocumentFragment();}return this._frag;},addToRedrawQueue:function(z){var B,A;this._shapes[z.get("id")]=z;if(!this.get("resizeDown")){B=z.getBounds();A=this._contentBounds;A.left=A.left<B.left?A.left:B.left;A.top=A.top<B.top?A.top:B.top;A.right=A.right>B.right?A.right:B.right;A.bottom=A.bottom>B.bottom?A.bottom:B.bottom;A.width=A.right-A.left;A.height=A.bottom-A.top;this._contentBounds=A;}if(this.get("autoDraw")){this._redraw();}},_redraw:function(){var H=this.get("autoSize"),I,M=this.parentNode,A=parseFloat(M.getComputedStyle("width")),E=parseFloat(M.getComputedStyle("height")),R=0,C=0,G=this.get("resizeDown")?this._getUpdatedContentBounds():this._contentBounds,D=G.left,P=G.right,J=G.top,F=G.bottom,L=P-D,O=F-J,z,K,S,N,Q,B=this.get("visible");this._node.style.visibility="hidden";if(H){if(H=="sizeContentToGraphic"){I=this.get("preserveAspectRatio");if(I=="none"||L/O===A/E){R=D;C=J;K=L;S=O;}else{if(L*E/O>A){z=E/A;K=L;S=L*z;Q=(A*(O/L))*(S/E);C=this._calculateCoordOrigin(I.slice(5).toLowerCase(),Q,S);C=J+C;R=D;}else{z=A/E;K=O*z;S=O;N=(E*(L/O))*(K/A);R=this._calculateCoordOrigin(I.slice(1,4).toLowerCase(),N,K);R=R+D;C=J;}}this._node.style.width=A+"px";this._node.style.height=E+"px";this._node.coordOrigin=R+", "+C;}else{K=L;S=O;this._node.style.width=L+"px";this._node.style.height=O+"px";this._state.width=L;this._state.height=O;}this._node.coordSize=K+", "+S;}else{this._node.style.width=A+"px";this._node.style.height=E+"px";this._node.coordSize=A+", "+E;}if(this._frag){this._node.appendChild(this._frag);this._frag=null;}if(B){this._node.style.visibility="visible";}},_calculateCoordOrigin:function(z,A,C){var B;switch(z){case"min":B=0;break;case"mid":B=(A-C)/2;break;case"max":B=(A-C);break;}return B;},_getUpdatedContentBounds:function(){var D,B,A,z=this._shapes,C={};for(B in z){if(z.hasOwnProperty(B)){A=z[B];D=A.getBounds();C.left=r.isNumber(C.left)?Math.min(C.left,D.left):D.left;C.top=r.isNumber(C.top)?Math.min(C.top,D.top):D.top;C.right=r.isNumber(C.right)?Math.max(C.right,D.right):D.right;C.bottom=r.isNumber(C.bottom)?Math.max(C.bottom,D.bottom):D.bottom;}}C.left=r.isNumber(C.left)?C.left:0;C.top=r.isNumber(C.top)?C.top:0;C.right=r.isNumber(C.right)?C.right:0;C.bottom=r.isNumber(C.bottom)?C.bottom:0;this._contentBounds=C;return C;},_toFront:function(A){var z=this._node;if(A instanceof c.VMLShape){A=A.get("node");}if(z&&A){z.appendChild(A);}},_toBack:function(A){var z=this._node,B;if(A instanceof c.VMLShape){A=A.get("node");}if(z&&A){B=z.firstChild;if(B){z.insertBefore(A,B);}else{z.appendChild(A);}}}});c.VMLGraphic=s;},"@VERSION@",{"requires":["graphics"]});