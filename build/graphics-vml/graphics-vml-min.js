YUI.add("graphics-vml",function(c,f){var o="vml",n="shape",a=/[a-z][^a-z]*/ig,i=/[-]?[0-9]*[0-9|\.][0-9]*/g,r=c.Lang,k=r.isNumber,l=r.isArray,g=r.isString,t=c.DOM,u=c.Selector,e=c.config.doc,j=c.AttributeLite,v,b,w,h,m,s,q,d=c.ClassNameManager.getClassName;function p(){}p.prototype={_pathSymbolToMethod:{M:"moveTo",m:"relativeMoveTo",L:"lineTo",l:"relativeLineTo",C:"curveTo",c:"relativeCurveTo",Q:"quadraticCurveTo",q:"relativeQuadraticCurveTo",z:"closePath",Z:"closePath"},_coordSpaceMultiplier:100,_round:function(x){return Math.round(x*this._coordSpaceMultiplier);},_addToPath:function(x){this._path=this._path||"";if(this._movePath){this._path+=this._movePath;this._movePath=null;}this._path+=x;},_currentX:0,_currentY:0,curveTo:function(){this._curveTo.apply(this,[c.Array(arguments),false]);},relativeCurveTo:function(){this._curveTo.apply(this,[c.Array(arguments),true]);},_curveTo:function(z,S){var H,O,G,F,Q,P,B,A,T,R,D,E,I,M,N,J,C=S?" v ":" c ",L=S?parseFloat(this._currentX):0,K=S?parseFloat(this._currentY):0;N=z.length-5;J=C;for(M=0;M<N;M=M+6){Q=parseFloat(z[M]);P=parseFloat(z[M+1]);B=parseFloat(z[M+2]);A=parseFloat(z[M+3]);G=parseFloat(z[M+4]);F=parseFloat(z[M+5]);if(M>0){J=J+", ";}J=J+this._round(Q)+", "+this._round(P)+", "+this._round(B)+", "+this._round(A)+", "+this._round(G)+", "+this._round(F);Q=Q+L;P=P+K;B=B+L;A=A+K;G=G+L;F=F+K;R=Math.max(G,Math.max(Q,B));E=Math.max(F,Math.max(P,A));D=Math.min(G,Math.min(Q,B));I=Math.min(F,Math.min(P,A));H=Math.abs(R-D);O=Math.abs(E-I);T=[[this._currentX,this._currentY],[Q,P],[B,A],[G,F]];this._setCurveBoundingBox(T,H,O);this._currentX=G;this._currentY=F;}this._addToPath(J);},quadraticCurveTo:function(){this._quadraticCurveTo.apply(this,[c.Array(arguments),false]);},relativeQuadraticCurveTo:function(){this._quadraticCurveTo.apply(this,[c.Array(arguments),true]);},_quadraticCurveTo:function(K,z){var F,E,D,C,O,N,M,L,B=this._currentX,A=this._currentY,G,I=K.length-3,P=[],J=z?parseFloat(this._currentX):0,H=z?parseFloat(this._currentY):0;for(G=0;G<I;G=G+4){F=parseFloat(K[G])+J;E=parseFloat(K[G+1])+H;M=parseFloat(K[G+2])+J;L=parseFloat(K[G+3])+H;D=B+0.67*(F-B);C=A+0.67*(E-A);O=D+(M-B)*0.34;N=C+(L-A)*0.34;P.push(D);P.push(C);P.push(O);P.push(N);P.push(M);P.push(L);}this._curveTo.apply(this,[P,false]);},drawRect:function(z,C,A,B){this.moveTo(z,C);this.lineTo(z+A,C);this.lineTo(z+A,C+B);this.lineTo(z,C+B);this.lineTo(z,C);this._currentX=z;this._currentY=C;return this;},drawRoundRect:function(z,E,A,C,B,D){this.moveTo(z,E+D);this.lineTo(z,E+C-D);this.quadraticCurveTo(z,E+C,z+B,E+C);this.lineTo(z+A-B,E+C);this.quadraticCurveTo(z+A,E+C,z+A,E+C-D);this.lineTo(z+A,E+D);this.quadraticCurveTo(z+A,E,z+A-B,E);this.lineTo(z+B,E);this.quadraticCurveTo(z,E,z,E+D);return this;},drawCircle:function(A,E,z){var C=0,B=360,D=z*2;B*=65535;this._drawingComplete=false;this._trackSize(A+D,E+D);this.moveTo((A+D),(E+z));this._addToPath(" ae "+this._round(A+z)+", "+this._round(E+z)+", "+this._round(z)+", "+this._round(z)+", "+C+", "+B);return this;},drawEllipse:function(B,G,C,F){var E=0,D=360,A=C*0.5,z=F*0.5;D*=65535;this._drawingComplete=false;this._trackSize(B+C,G+F);this.moveTo((B+C),(G+z));this._addToPath(" ae "+this._round(B+A)+", "+this._round(B+A)+", "+this._round(G+z)+", "+this._round(A)+", "+this._round(z)+", "+E+", "+D);return this;},drawDiamond:function(A,E,D,z){var C=D*0.5,B=z*0.5;this.moveTo(A+C,E);this.lineTo(A+D,E+B);this.lineTo(A+C,E+z);this.lineTo(A,E+B);this.lineTo(A+C,E);return this;},drawWedge:function(A,E,C,B,z){var D=z*2;if(Math.abs(B)>360){B=360;}this._currentX=A;this._currentY=E;C*=-65535;B*=65536;C=Math.round(C);B=Math.round(B);this.moveTo(A,E);this._addToPath(" ae "+this._round(A)+", "+this._round(E)+", "+this._round(z)+" "+this._round(z)+", "+C+", "+B);this._trackSize(D,D);return this;},lineTo:function(){this._lineTo.apply(this,[c.Array(arguments),false]);},relativeLineTo:function(){this._lineTo.apply(this,[c.Array(arguments),true]);},_lineTo:function(E,z){var G=E[0],A,C,H,F,I=z?" r ":" l ",D=z?parseFloat(this._currentX):0,B=z?parseFloat(this._currentY):0;if(typeof G=="string"||typeof G=="number"){C=E.length-1;for(A=0;A<C;A=A+2){H=parseFloat(E[A]);F=parseFloat(E[A+1]);I+=" "+this._round(H)+", "+this._round(F);H=H+D;F=F+B;this._currentX=H;this._currentY=F;this._trackSize.apply(this,[H,F]);}}else{C=E.length;for(A=0;A<C;A=A+1){H=parseFloat(E[A][0]);F=parseFloat(E[A][1]);I+=" "+this._round(H)+", "+this._round(F);H=H+D;F=F+B;this._currentX=H;this._currentY=F;this._trackSize.apply(this,[H,F]);}}this._addToPath(I);return this;},moveTo:function(){this._moveTo.apply(this,[c.Array(arguments),false]);},relativeMoveTo:function(){this._moveTo.apply(this,[c.Array(arguments),true]);},_moveTo:function(A,D){var z=parseFloat(A[0]),F=parseFloat(A[1]),E=D?" t ":" m ",C=D?parseFloat(this._currentX):0,B=D?parseFloat(this._currentY):0;this._movePath=E+this._round(z)+", "+this._round(F);z=z+C;F=F+B;this._trackSize(z,F);this._currentX=z;this._currentY=F;},_closePath:function(){var D=this.get("fill"),C=this.get("stroke"),z=this.node,x=this.get("width"),y=this.get("height"),B=this._path,A="",E=this._coordSpaceMultiplier;this._fillChangeHandler();this._strokeChangeHandler();if(B){if(D&&D.color){A+=" x";}if(C){A+=" e";}}if(B){z.path=B+A;}if(!isNaN(x)&&!isNaN(y)){z.coordOrigin=this._left+", "+this._top;z.coordSize=(x*E)+", "+(y*E);z.style.position="absolute";z.style.width=x+"px";z.style.height=y+"px";}this._path=B;this._movePath=null;this._updateTransform();},end:function(){this._closePath();},closePath:function(){this._addToPath(" x e");},clear:function(){this._right=0;this._bottom=0;this._width=0;this._height=0;this._left=0;this._top=0;this._path="";this._movePath=null;},getBezierData:function(B,A){var C=B.length,z=[],y,x;for(y=0;y<C;++y){z[y]=[B[y][0],B[y][1]];}for(x=1;x<C;++x){for(y=0;y<C-x;++y){z[y][0]=(1-A)*z[y][0]+A*z[parseInt(y+1,10)][0];z[y][1]=(1-A)*z[y][1]+A*z[parseInt(y+1,10)][1];}}return[z[0][0],z[0][1]];},_setCurveBoundingBox:function(H,D,A){var z,y=this._currentX,E=y,C=this._currentY,x=C,B=Math.round(Math.sqrt((D*D)+(A*A))),F=1/B,G;
for(z=0;z<B;++z){G=this.getBezierData(H,F*z);y=isNaN(y)?G[0]:Math.min(G[0],y);E=isNaN(E)?G[0]:Math.max(G[0],E);C=isNaN(C)?G[1]:Math.min(G[1],C);x=isNaN(x)?G[1]:Math.max(G[1],x);}y=Math.round(y*10)/10;E=Math.round(E*10)/10;C=Math.round(C*10)/10;x=Math.round(x*10)/10;this._trackSize(E,x);this._trackSize(y,C);},_trackSize:function(x,y){if(x>this._right){this._right=x;}if(x<this._left){this._left=x;}if(y<this._top){this._top=y;}if(y>this._bottom){this._bottom=y;}this._width=this._right-this._left;this._height=this._bottom-this._top;},_left:0,_right:0,_top:0,_bottom:0,_width:0,_height:0};c.VMLDrawing=p;v=function(){this._transforms=[];this.matrix=new c.Matrix();this._normalizedMatrix=new c.Matrix();v.superclass.constructor.apply(this,arguments);};v.NAME="shape";c.extend(v,c.GraphicBase,c.mix({_type:"shape",init:function(){this.initializer.apply(this,arguments);},initializer:function(x){var y=this,A=x.graphic,z=this.get("data");y.createNode();if(A){this._setGraphic(A);}if(z){y._parsePathData(z);}this._updateHandler();},_setGraphic:function(x){var y;if(x instanceof c.VMLGraphic){this._graphic=x;}else{x=c.one(x);y=new c.VMLGraphic({render:x});y._appendShape(this);this._graphic=y;this._appendStrokeAndFill();}},_appendStrokeAndFill:function(){if(this._strokeNode){this.node.appendChild(this._strokeNode);}if(this._fillNode){this.node.appendChild(this._fillNode);}},createNode:function(){var M,D=this._camelCaseConcat,I=this.get("x"),G=this.get("y"),J=this.get("width"),O=this.get("height"),L,C,T=this.name,S,P=this.get("visible")?"visible":"hidden",R,F,E,K,A,H,Q,z,N,B;L=this.get("id");C=this._type=="path"?"shape":this._type;F=d(n)+" "+d(D(o,n))+" "+d(T)+" "+d(D(o,T))+" "+o+C;E=this._getStrokeProps();N=this._getFillProps();S="<"+C+'  xmlns="urn:schemas-microsft.com:vml" id="'+L+'" class="'+F+'" style="behavior:url(#default#VML);display:inline-block;position:absolute;left:'+I+"px;top:"+G+"px;width:"+J+"px;height:"+O+"px;visibility:"+P+'"';if(E&&E.weight&&E.weight>0){K=E.endcap;A=parseFloat(E.opacity);H=E.joinstyle;Q=E.miterlimit;z=E.dashstyle;S+=' stroked="t" strokecolor="'+E.color+'" strokeWeight="'+E.weight+'px"';R='<stroke class="vmlstroke" xmlns="urn:schemas-microsft.com:vml" on="t" style="behavior:url(#default#VML);display:inline-block;"';R+=' opacity="'+A+'"';if(K){R+=' endcap="'+K+'"';}if(H){R+=' joinstyle="'+H+'"';}if(Q){R+=' miterlimit="'+Q+'"';}if(z){R+=' dashstyle="'+z+'"';}R+="></stroke>";this._strokeNode=e.createElement(R);S+=' stroked="t"';}else{S+=' stroked="f"';}if(N){if(N.node){B=N.node;this._fillNode=e.createElement(B);}if(N.color){S+=' fillcolor="'+N.color+'"';}S+=' filled="'+N.filled+'"';}S+=">";S+="</"+C+">";M=e.createElement(S);this.node=M;this._strokeFlag=false;this._fillFlag=false;},addClass:function(x){var y=this.node;t.addClass(y,x);},removeClass:function(x){var y=this.node;t.removeClass(y,x);},getXY:function(){var C=this._graphic,A=C.getXY(),z=this.get("x"),B=this.get("y");return[A[0]+z,A[1]+B];},setXY:function(y){var z=this._graphic,x=z.getXY();this.set("x",y[0]-x[0]);this.set("y",y[1]-x[1]);},contains:function(x){return x===c.one(this.node);},compareTo:function(x){var y=this.node;return y===x;},test:function(x){return u.test(this.node,x);},_getStrokeProps:function(){var E,G=this.get("stroke"),C,y,A="",x,z=0,B,F,D;if(G&&G.weight&&G.weight>0){E={};F=G.linecap||"flat";D=G.linejoin||"round";if(F!="round"&&F!="square"){F="flat";}C=parseFloat(G.opacity);y=G.dashstyle||"none";G.color=G.color||"#000000";G.weight=G.weight||1;G.opacity=k(C)?C:1;E.stroked=true;E.color=G.color;E.weight=G.weight;E.endcap=F;E.opacity=G.opacity;if(l(y)){A=[];B=y.length;for(z=0;z<B;++z){x=y[z];A[z]=x/G.weight;}}if(D=="round"||D=="bevel"){E.joinstyle=D;}else{D=parseInt(D,10);if(k(D)){E.miterlimit=Math.max(D,1);E.joinstyle="miter";}}E.dashstyle=A;}return E;},_strokeChangeHandler:function(D){if(!this._strokeFlag){return;}var z=this.node,H=this.get("stroke"),E,y,B="",x,A=0,C,G,F;if(H&&H.weight&&H.weight>0){G=H.linecap||"flat";F=H.linejoin||"round";if(G!="round"&&G!="square"){G="flat";}E=parseFloat(H.opacity);y=H.dashstyle||"none";H.color=H.color||"#000000";H.weight=H.weight||1;H.opacity=k(E)?E:1;z.stroked=true;z.strokeColor=H.color;z.strokeWeight=H.weight+"px";if(!this._strokeNode){this._strokeNode=this._createGraphicNode("stroke");z.appendChild(this._strokeNode);}this._strokeNode.endcap=G;this._strokeNode.opacity=H.opacity;if(l(y)){B=[];C=y.length;for(A=0;A<C;++A){x=y[A];B[A]=x/H.weight;}}if(F=="round"||F=="bevel"){this._strokeNode.joinstyle=F;}else{F=parseInt(F,10);if(k(F)){this._strokeNode.miterlimit=Math.max(F,1);this._strokeNode.joinstyle="miter";}}this._strokeNode.dashstyle=B;this._strokeNode.on=true;}else{if(this._strokeNode){this._strokeNode.on=false;}z.stroked=false;}this._strokeFlag=false;},_getFillProps:function(){var D=this.get("fill"),x,A,C,y,z,B=false;if(D){A={};if(D.type=="radial"||D.type=="linear"){x=parseFloat(D.opacity);x=k(x)?x:1;B=true;C=this._getGradientFill(D);z='<fill xmlns="urn:schemas-microsft.com:vml" class="vmlfill" style="behavior:url(#default#VML);display:inline-block;" opacity="'+x+'"';for(y in C){if(C.hasOwnProperty(y)){z+=" "+y+'="'+C[y]+'"';}}z+=" />";A.node=z;}else{if(D.color){x=parseFloat(D.opacity);B=true;A.color=D.color;if(k(x)){x=Math.max(Math.min(x,1),0);A.opacity=x;if(x<1){A.node='<fill xmlns="urn:schemas-microsft.com:vml" class="vmlfill" style="behavior:url(#default#VML);display:inline-block;" type="solid" opacity="'+x+'"/>';}}}}A.filled=B;}return A;},_fillChangeHandler:function(E){if(!this._fillFlag){return;}var A=this.node,D=this.get("fill"),x,z,B=false,y,C;if(D){if(D.type=="radial"||D.type=="linear"){B=true;C=this._getGradientFill(D);if(this._fillNode){for(y in C){if(C.hasOwnProperty(y)){if(y=="colors"){this._fillNode.colors.value=C[y];}else{this._fillNode[y]=C[y];}}}}else{z='<fill xmlns="urn:schemas-microsft.com:vml" class="vmlfill" style="behavior:url(#default#VML);display:inline-block;"';for(y in C){if(C.hasOwnProperty(y)){z+=" "+y+'="'+C[y]+'"';}}z+=" />";this._fillNode=e.createElement(z);
A.appendChild(this._fillNode);}}else{if(D.color){A.fillcolor=D.color;x=parseFloat(D.opacity);B=true;if(k(x)&&x<1){D.opacity=x;if(this._fillNode){if(this._fillNode.getAttribute("type")!="solid"){this._fillNode.type="solid";}this._fillNode.opacity=x;}else{z='<fill xmlns="urn:schemas-microsft.com:vml" class="vmlfill" style="behavior:url(#default#VML);display:inline-block;" type="solid" opacity="'+x+'"/>';this._fillNode=e.createElement(z);A.appendChild(this._fillNode);}}else{if(this._fillNode){this._fillNode.opacity=1;this._fillNode.type="solid";}}}}}A.filled=B;this._fillFlag=false;},_updateFillNode:function(x){if(!this._fillNode){this._fillNode=this._createGraphicNode("fill");x.appendChild(this._fillNode);}},_getGradientFill:function(P){var T={},H,F,E=P.type,I=this.get("width"),S=this.get("height"),J=k,N,G=P.stops,R=G.length,C,O,Q,K,x="",A=P.cx,y=P.cy,B=P.fx,z=P.fy,L=P.r,D,M=P.rotation||0;if(E==="linear"){if(M<=270){M=Math.abs(M-270);}else{if(M<360){M=270+(360-M);}else{M=270;}}T.type="gradient";T.angle=M;}else{if(E==="radial"){H=I*(L*2);F=S*(L*2);B=L*2*(B-0.5);z=L*2*(z-0.5);B+=A;z+=y;T.focussize=(H/I)/10+"% "+(F/S)/10+"%";T.alignshape=false;T.type="gradientradial";T.focus="100%";T.focusposition=Math.round(B*100)+"% "+Math.round(z*100)+"%";}}for(Q=0;Q<R;++Q){N=G[Q];O=N.color;C=N.opacity;C=J(C)?C:1;D=N.offset||Q/(R-1);D*=(L*2);D=Math.round(100*D)+"%";K=Q>0?Q+1:"";T["opacity"+K]=C+"";x+=", "+D+" "+O;}if(parseFloat(D)<100){x+=", 100% "+O;}T.colors=x.substr(2);return T;},_addTransform:function(y,x){x=c.Array(x);this._transform=r.trim(this._transform+" "+y+"("+x.join(", ")+")");x.unshift(y);this._transforms.push(x);if(this.initialized){this._updateTransform();}},_updateTransform:function(){var C=this.node,L,B,D,K=this.get("x"),I=this.get("y"),G,E,J=this.matrix,z=this._normalizedMatrix,A=this instanceof c.VMLPath,F,H=this._transforms.length;if(this._transforms&&this._transforms.length>0){D=this.get("transformOrigin");if(A){z.translate(this._left,this._top);}G=D[0]-0.5;E=D[1]-0.5;G=Math.max(-0.5,Math.min(0.5,G));E=Math.max(-0.5,Math.min(0.5,E));for(F=0;F<H;++F){L=this._transforms[F].shift();if(L){z[L].apply(z,this._transforms[F]);J[L].apply(J,this._transforms[F]);}}if(A){z.translate(-this._left,-this._top);}B=z.a+","+z.c+","+z.b+","+z.d+","+0+","+0;}this._graphic.addToRedrawQueue(this);if(B){if(!this._skew){this._skew=e.createElement('<skew class="vmlskew" xmlns="urn:schemas-microsft.com:vml" on="false" style="behavior:url(#default#VML);display:inline-block;" />');this.node.appendChild(this._skew);}this._skew.matrix=B;this._skew.on=true;this._skew.origin=G+", "+E;}if(this._type!="path"){this._transforms=[];}C.style.left=(K+this._getSkewOffsetValue(z.dx))+"px";C.style.top=(I+this._getSkewOffsetValue(z.dy))+"px";},_getSkewOffsetValue:function(y){var x=c.MatrixUtil.sign(y),z=Math.abs(y);y=Math.min(z,32767)*x;return y;},_translateX:0,_translateY:0,_transform:"",translate:function(z,A){this._translateX+=z;this._translateY+=A;this._addTransform("translate",arguments);},translateX:function(y){this._translateX+=y;this._addTransform("translateX",arguments);},translateY:function(x){this._translateY+=x;this._addTransform("translateY",arguments);},skew:function(z,A){this._addTransform("skew",arguments);},skewX:function(y){this._addTransform("skewX",arguments);},skewY:function(x){this._addTransform("skewY",arguments);},rotate:function(x){this._addTransform("rotate",arguments);},scale:function(z,A){this._addTransform("scale",arguments);},on:function(y,x){if(c.Node.DOM_EVENTS[y]){return c.one("#"+this.get("id")).on(y,x);}return c.on.apply(this,arguments);},_draw:function(){},_updateHandler:function(z){var y=this,x=y.node;y._fillChangeHandler();y._strokeChangeHandler();x.style.width=this.get("width")+"px";x.style.height=this.get("height")+"px";this._draw();y._updateTransform();},_createGraphicNode:function(x){x=x||this._type;return e.createElement("<"+x+' xmlns="urn:schemas-microsft.com:vml" style="behavior:url(#default#VML);display:inline-block;" class="vml'+x+'"/>');},_getDefaultFill:function(){return{type:"solid",cx:0.5,cy:0.5,fx:0.5,fy:0.5,r:0.5};},_getDefaultStroke:function(){return{weight:1,dashstyle:"none",color:"#000",opacity:1};},set:function(){var x=this;j.prototype.set.apply(x,arguments);if(x.initialized){x._updateHandler();}},getBounds:function(){var B=this instanceof c.VMLPath,A=this.get("width"),C=this.get("height"),z=this.get("x"),D=this.get("y");if(B){z=z+this._left;D=D+this._top;A=this._right-this._left;C=this._bottom-this._top;}return this._getContentRect(A,C,z,D);},_getContentRect:function(L,D,J,G){var B=this.get("transformOrigin"),K=B[0]*L,I=B[1]*D,F=this.matrix.getTransformArray(this.get("transform")),H=new c.Matrix(),C,E=F.length,A,M,N,z=this instanceof c.VMLPath;if(z){H.translate(this._left,this._top);}K=!isNaN(K)?K:0;I=!isNaN(I)?I:0;H.translate(K,I);for(C=0;C<E;C=C+1){A=F[C];M=A.shift();if(M){H[M].apply(H,A);}}H.translate(-K,-I);if(z){H.translate(-this._left,-this._top);}N=H.getContentRect(L,D,J,G);return N;},toFront:function(){var x=this.get("graphic");if(x){x._toFront(this);}},toBack:function(){var x=this.get("graphic");if(x){x._toBack(this);}},_parsePathData:function(z){var x,B,D,F=c.Lang.trim(z.match(a)),A,C,E,y=this._pathSymbolToMethod;if(F){this.clear();C=F.length||0;for(A=0;A<C;A=A+1){E=F[A];B=E.substr(0,1);D=E.substr(1).match(i);x=y[B];if(x){if(D){this[x].apply(this,D);}else{this[x].apply(this);}}}this.end();}},destroy:function(){var x=this.get("graphic");if(x){x.removeShape(this);}else{this._destroy();}},_destroy:function(){if(this.node){if(this._fillNode){this.node.removeChild(this._fillNode);this._fillNode=null;}if(this._strokeNode){this.node.removeChild(this._strokeNode);this._strokeNode=null;}c.one(this.node).remove(true);}}},c.VMLDrawing.prototype));v.ATTRS={transformOrigin:{valueFn:function(){return[0.5,0.5];}},transform:{setter:function(A){var z,x,y;this.matrix.init();this._normalizedMatrix.init();this._transforms=this.matrix.getTransformArray(A);x=this._transforms.length;for(z=0;
z<x;++z){y=this._transforms[z];}this._transform=A;return A;},getter:function(){return this._transform;}},x:{value:0},y:{value:0},id:{valueFn:function(){return c.guid();},setter:function(y){var x=this.node;if(x){x.setAttribute("id",y);}return y;}},width:{value:0},height:{value:0},visible:{value:true,setter:function(z){var y=this.node,x=z?"visible":"hidden";if(y){y.style.visibility=x;}return z;}},fill:{valueFn:"_getDefaultFill",setter:function(A){var y,z,x=this.get("fill")||this._getDefaultFill();if(A){if(A.hasOwnProperty("color")){A.type="solid";}for(y in A){if(A.hasOwnProperty(y)){x[y]=A[y];}}}z=x;if(z&&z.color){if(z.color===undefined||z.color=="none"){z.color=null;}}this._fillFlag=true;return z;}},stroke:{valueFn:"_getDefaultStroke",setter:function(B){var z,A,x,y=this.get("stroke")||this._getDefaultStroke();if(B){if(B.hasOwnProperty("weight")){x=parseInt(B.weight,10);if(!isNaN(x)){B.weight=x;}}for(z in B){if(B.hasOwnProperty(z)){y[z]=B[z];}}}A=y;this._strokeFlag=true;return A;}},autoSize:{value:false},pointerEvents:{value:"visiblePainted"},node:{readOnly:true,getter:function(){return this.node;}},data:{setter:function(x){if(this.get("node")){this._parsePathData(x);}return x;}},graphic:{readOnly:true,getter:function(){return this._graphic;}}};c.VMLShape=v;w=function(){w.superclass.constructor.apply(this,arguments);};w.NAME="path";c.extend(w,c.VMLShape);w.ATTRS=c.merge(c.VMLShape.ATTRS,{width:{getter:function(){var x=Math.max(this._right-this._left,0);return x;}},height:{getter:function(){return Math.max(this._bottom-this._top,0);}},path:{readOnly:true,getter:function(){return this._path;}}});c.VMLPath=w;h=function(){h.superclass.constructor.apply(this,arguments);};h.NAME="rect";c.extend(h,c.VMLShape,{_type:"rect"});h.ATTRS=c.VMLShape.ATTRS;c.VMLRect=h;m=function(){m.superclass.constructor.apply(this,arguments);};m.NAME="ellipse";c.extend(m,c.VMLShape,{_type:"oval"});m.ATTRS=c.merge(c.VMLShape.ATTRS,{xRadius:{lazyAdd:false,getter:function(){var x=this.get("width");x=Math.round((x/2)*100)/100;return x;},setter:function(y){var x=y*2;this.set("width",x);return y;}},yRadius:{lazyAdd:false,getter:function(){var x=this.get("height");x=Math.round((x/2)*100)/100;return x;},setter:function(y){var x=y*2;this.set("height",x);return y;}}});c.VMLEllipse=m;b=function(x){b.superclass.constructor.apply(this,arguments);};b.NAME="circle";c.extend(b,v,{_type:"oval"});b.ATTRS=c.merge(v.ATTRS,{radius:{lazyAdd:false,value:0},width:{setter:function(x){this.set("radius",x/2);return x;},getter:function(){var x=this.get("radius"),y=x&&x>0?x*2:0;return y;}},height:{setter:function(x){this.set("radius",x/2);return x;},getter:function(){var x=this.get("radius"),y=x&&x>0?x*2:0;return y;}}});c.VMLCircle=b;q=function(){q.superclass.constructor.apply(this,arguments);};q.NAME="vmlPieSlice";c.extend(q,c.VMLShape,c.mix({_type:"shape",_draw:function(D){var A=this.get("cx"),E=this.get("cy"),C=this.get("startAngle"),B=this.get("arc"),z=this.get("radius");this.clear();this.drawWedge(A,E,C,B,z);this.end();}},c.VMLDrawing.prototype));q.ATTRS=c.mix({cx:{value:0},cy:{value:0},startAngle:{value:0},arc:{value:0},radius:{value:0}},c.VMLShape.ATTRS);c.VMLPieSlice=q;s=function(){s.superclass.constructor.apply(this,arguments);};s.NAME="vmlGraphic";s.ATTRS={render:{},id:{valueFn:function(){return c.guid();},setter:function(y){var x=this._node;if(x){x.setAttribute("id",y);}return y;}},shapes:{readOnly:true,getter:function(){return this._shapes;}},contentBounds:{readOnly:true,getter:function(){return this._contentBounds;}},node:{readOnly:true,getter:function(){return this._node;}},width:{setter:function(x){if(this._node){this._node.style.width=x+"px";}return x;}},height:{setter:function(x){if(this._node){this._node.style.height=x+"px";}return x;}},autoSize:{value:false},preserveAspectRatio:{value:"xMidYMid"},resizeDown:{resizeDown:false},x:{getter:function(){return this._x;},setter:function(x){this._x=x;if(this._node){this._node.style.left=x+"px";}return x;}},y:{getter:function(){return this._y;},setter:function(x){this._y=x;if(this._node){this._node.style.top=x+"px";}return x;}},autoDraw:{value:true},visible:{value:true,setter:function(x){this._toggleVisible(x);return x;}}};c.extend(s,c.GraphicBase,{set:function(y,C){var B=this,x={autoDraw:true,autoSize:true,preserveAspectRatio:true,resizeDown:true},A,z=false;j.prototype.set.apply(B,arguments);if(B._state.autoDraw===true&&c.Object.size(this._shapes)>0){if(r.isString&&x[y]){z=true;}else{if(r.isObject(y)){for(A in x){if(x.hasOwnProperty(A)&&y[A]){z=true;break;}}}}}if(z){B._redraw();}},_x:0,_y:0,getXY:function(){var A=this.parentNode,z=this.get("x"),C=this.get("y"),B;if(A){B=c.one(A).getXY();B[0]+=z;B[1]+=C;}else{B=c.DOM._getOffset(this._node);}return B;},initializer:function(y){var z=this.get("render"),x=this.get("visible")?"visible":"hidden";this._shapes={};this._contentBounds={left:0,top:0,right:0,bottom:0};this._node=this._createGraphic();this._node.style.left=this.get("x")+"px";this._node.style.top=this.get("y")+"px";this._node.style.visibility=x;this._node.setAttribute("id",this.get("id"));if(z){this.render(z);}},render:function(A){var x=c.one(A),y=this.get("width")||parseInt(x.getComputedStyle("width"),10),z=this.get("height")||parseInt(x.getComputedStyle("height"),10);x=x||e.body;x.appendChild(this._node);this.parentNode=x;this.set("width",y);this.set("height",z);return this;},destroy:function(){this.clear();c.one(this._node).remove(true);},addShape:function(x){x.graphic=this;if(!this.get("visible")){x.visible=false;}var z=this._getShapeClass(x.type),y=new z(x);this._appendShape(y);y._appendStrokeAndFill();return y;},_appendShape:function(y){var z=y.node,x=this._frag||this._node;if(this.get("autoDraw")||this.get("autoSize")=="sizeContentToGraphic"){x.appendChild(z);}else{this._getDocFrag().appendChild(z);}},removeShape:function(x){if(!(x instanceof v)){if(r.isString(x)){x=this._shapes[x];}}if(x&&(x instanceof v)){x._destroy();this._shapes[x.get("id")]=null;delete this._shapes[x.get("id")];
}if(this.get("autoDraw")){this._redraw();}},removeAllShapes:function(){var x=this._shapes,y;for(y in x){if(x.hasOwnProperty(y)){x[y].destroy();}}this._shapes={};},_removeChildren:function(x){if(x.hasChildNodes()){var y;while(x.firstChild){y=x.firstChild;this._removeChildren(y);x.removeChild(y);}}},clear:function(){this.removeAllShapes();this._removeChildren(this._node);},_toggleVisible:function(A){var z,y=this._shapes,x=A?"visible":"hidden";if(y){for(z in y){if(y.hasOwnProperty(z)){y[z].set("visible",A);}}}if(this._node){this._node.style.visibility=x;}if(this._node){this._node.style.visibility=x;}},setSize:function(x,y){x=Math.round(x);y=Math.round(y);this._node.style.width=x+"px";this._node.style.height=y+"px";},setPosition:function(z,A){z=Math.round(z);A=Math.round(A);this._node.style.left=z+"px";this._node.style.top=A+"px";},_createGraphic:function(){var x=e.createElement('<group xmlns="urn:schemas-microsft.com:vml" style="behavior:url(#default#VML);padding:0px 0px 0px 0px;display:block;position:absolute;top:0px;left:0px;zoom:1;" />');return x;},_createGraphicNode:function(x){return e.createElement("<"+x+' xmlns="urn:schemas-microsft.com:vml" style="behavior:url(#default#VML);display:inline-block;zoom:1;" />');},getShapeById:function(x){return this._shapes[x];},_getShapeClass:function(y){var x=this._shapeClass[y];if(x){return x;}return y;},_shapeClass:{circle:c.VMLCircle,rect:c.VMLRect,path:c.VMLPath,ellipse:c.VMLEllipse,pieslice:c.VMLPieSlice},batch:function(y){var x=this.get("autoDraw");this.set("autoDraw",false);y.apply();this.set("autoDraw",x);},_getDocFrag:function(){if(!this._frag){this._frag=e.createDocumentFragment();}return this._frag;},addToRedrawQueue:function(x){var z,y;this._shapes[x.get("id")]=x;if(!this.get("resizeDown")){z=x.getBounds();y=this._contentBounds;y.left=y.left<z.left?y.left:z.left;y.top=y.top<z.top?y.top:z.top;y.right=y.right>z.right?y.right:z.right;y.bottom=y.bottom>z.bottom?y.bottom:z.bottom;y.width=y.right-y.left;y.height=y.bottom-y.top;this._contentBounds=y;}if(this.get("autoDraw")){this._redraw();}},_redraw:function(){var F=this.get("autoSize"),G,K=this.parentNode,y=parseFloat(K.getComputedStyle("width")),C=parseFloat(K.getComputedStyle("height")),P=0,A=0,E=this.get("resizeDown")?this._getUpdatedContentBounds():this._contentBounds,B=E.left,N=E.right,H=E.top,D=E.bottom,J=N-B,M=D-H,x,I,Q,L,O,z=this.get("visible");this._node.style.visibility="hidden";if(F){if(F=="sizeContentToGraphic"){G=this.get("preserveAspectRatio");if(G=="none"||J/M===y/C){P=B;A=H;I=J;Q=M;}else{if(J*C/M>y){x=C/y;I=J;Q=J*x;O=(y*(M/J))*(Q/C);A=this._calculateCoordOrigin(G.slice(5).toLowerCase(),O,Q);A=H+A;P=B;}else{x=y/C;I=M*x;Q=M;L=(C*(J/M))*(I/y);P=this._calculateCoordOrigin(G.slice(1,4).toLowerCase(),L,I);P=P+B;A=H;}}this._node.style.width=y+"px";this._node.style.height=C+"px";this._node.coordOrigin=P+", "+A;}else{I=J;Q=M;this._node.style.width=J+"px";this._node.style.height=M+"px";this._state.width=J;this._state.height=M;}this._node.coordSize=I+", "+Q;}else{this._node.style.width=y+"px";this._node.style.height=C+"px";this._node.coordSize=y+", "+C;}if(this._frag){this._node.appendChild(this._frag);this._frag=null;}if(z){this._node.style.visibility="visible";}},_calculateCoordOrigin:function(x,y,A){var z;switch(x){case"min":z=0;break;case"mid":z=(y-A)/2;break;case"max":z=(y-A);break;}return z;},_getUpdatedContentBounds:function(){var B,z,y,x=this._shapes,A={};for(z in x){if(x.hasOwnProperty(z)){y=x[z];B=y.getBounds();A.left=r.isNumber(A.left)?Math.min(A.left,B.left):B.left;A.top=r.isNumber(A.top)?Math.min(A.top,B.top):B.top;A.right=r.isNumber(A.right)?Math.max(A.right,B.right):B.right;A.bottom=r.isNumber(A.bottom)?Math.max(A.bottom,B.bottom):B.bottom;}}A.left=r.isNumber(A.left)?A.left:0;A.top=r.isNumber(A.top)?A.top:0;A.right=r.isNumber(A.right)?A.right:0;A.bottom=r.isNumber(A.bottom)?A.bottom:0;this._contentBounds=A;return A;},_toFront:function(y){var x=this._node;if(y instanceof c.VMLShape){y=y.get("node");}if(x&&y){x.appendChild(y);}},_toBack:function(y){var x=this._node,z;if(y instanceof c.VMLShape){y=y.get("node");}if(x&&y){z=x.firstChild;if(z){x.insertBefore(y,z);}else{x.appendChild(y);}}}});c.VMLGraphic=s;},"@VERSION@",{"requires":["graphics"]});