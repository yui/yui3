if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/dataschema-array/dataschema-array.js']) {
   __coverage__['build/dataschema-array/dataschema-array.js'] = {"path":"build/dataschema-array/dataschema-array.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":28},"end":{"line":1,"column":47}}},"2":{"name":"(anonymous_2)","line":121,"loc":{"start":{"line":121,"column":15},"end":{"line":121,"column":38}}},"3":{"name":"(anonymous_3)","line":152,"loc":{"start":{"line":152,"column":23},"end":{"line":152,"column":60}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":186,"column":51}},"2":{"start":{"line":21,"column":0},"end":{"line":181,"column":6}},"3":{"start":{"line":122,"column":12},"end":{"line":123,"column":48}},"4":{"start":{"line":125,"column":12},"end":{"line":136,"column":13}},"5":{"start":{"line":126,"column":16},"end":{"line":132,"column":17}},"6":{"start":{"line":128,"column":20},"end":{"line":128,"column":108}},"7":{"start":{"line":131,"column":20},"end":{"line":131,"column":47}},"8":{"start":{"line":135,"column":16},"end":{"line":135,"column":73}},"9":{"start":{"line":138,"column":12},"end":{"line":138,"column":28}},"10":{"start":{"line":153,"column":12},"end":{"line":154,"column":60}},"11":{"start":{"line":156,"column":12},"end":{"line":176,"column":13}},"12":{"start":{"line":157,"column":16},"end":{"line":157,"column":28}},"13":{"start":{"line":158,"column":16},"end":{"line":158,"column":35}},"14":{"start":{"line":159,"column":16},"end":{"line":159,"column":135}},"15":{"start":{"line":160,"column":16},"end":{"line":174,"column":17}},"16":{"start":{"line":161,"column":20},"end":{"line":166,"column":21}},"17":{"start":{"line":162,"column":24},"end":{"line":162,"column":42}},"18":{"start":{"line":163,"column":24},"end":{"line":163,"column":81}},"19":{"start":{"line":164,"column":24},"end":{"line":164,"column":85}},"20":{"start":{"line":165,"column":24},"end":{"line":165,"column":87}},"21":{"start":{"line":168,"column":21},"end":{"line":174,"column":17}},"22":{"start":{"line":169,"column":20},"end":{"line":169,"column":34}},"23":{"start":{"line":173,"column":20},"end":{"line":173,"column":34}},"24":{"start":{"line":175,"column":16},"end":{"line":175,"column":36}},"25":{"start":{"line":177,"column":12},"end":{"line":177,"column":39}},"26":{"start":{"line":179,"column":12},"end":{"line":179,"column":28}},"27":{"start":{"line":183,"column":0},"end":{"line":183,"column":59}}},"branchMap":{"1":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":12},"end":{"line":125,"column":12}},{"start":{"line":125,"column":12},"end":{"line":125,"column":12}}]},"2":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":16},"end":{"line":126,"column":16}},{"start":{"line":126,"column":16},"end":{"line":126,"column":16}}]},"3":{"line":126,"type":"binary-expr","locations":[{"start":{"line":126,"column":19},"end":{"line":126,"column":25}},{"start":{"line":126,"column":29},"end":{"line":126,"column":62}}]},"4":{"line":159,"type":"cond-expr","locations":[{"start":{"line":159,"column":73},"end":{"line":159,"column":74}},{"start":{"line":159,"column":77},"end":{"line":159,"column":134}}]},"5":{"line":159,"type":"binary-expr","locations":[{"start":{"line":159,"column":24},"end":{"line":159,"column":43}},{"start":{"line":159,"column":47},"end":{"line":159,"column":69}}]},"6":{"line":159,"type":"cond-expr","locations":[{"start":{"line":159,"column":100},"end":{"line":159,"column":101}},{"start":{"line":159,"column":104},"end":{"line":159,"column":134}}]},"7":{"line":159,"type":"cond-expr","locations":[{"start":{"line":159,"column":128},"end":{"line":159,"column":129}},{"start":{"line":159,"column":132},"end":{"line":159,"column":134}}]},"8":{"line":160,"type":"if","locations":[{"start":{"line":160,"column":16},"end":{"line":160,"column":16}},{"start":{"line":160,"column":16},"end":{"line":160,"column":16}}]},"9":{"line":163,"type":"cond-expr","locations":[{"start":{"line":163,"column":63},"end":{"line":163,"column":72}},{"start":{"line":163,"column":75},"end":{"line":163,"column":80}}]},"10":{"line":164,"type":"cond-expr","locations":[{"start":{"line":164,"column":65},"end":{"line":164,"column":74}},{"start":{"line":164,"column":77},"end":{"line":164,"column":84}}]},"11":{"line":168,"type":"if","locations":[{"start":{"line":168,"column":21},"end":{"line":168,"column":21}},{"start":{"line":168,"column":21},"end":{"line":168,"column":21}}]}},"code":["(function () { YUI.add('dataschema-array', function (Y, NAME) {","","/**\r"," * Provides a DataSchema implementation which can be used to work with data\r"," * stored in arrays.\r"," *\r"," * @module dataschema\r"," * @submodule dataschema-array\r"," */\r","\r","/**\r","Provides a DataSchema implementation which can be used to work with data\r","stored in arrays.\r","\r","See the `apply` method below for usage.\r","\r","@class DataSchema.Array\r","@extends DataSchema.Base\r","@static\r","**/\r","var LANG = Y.Lang,\r","\r","    SchemaArray = {\r","\r","        ////////////////////////////////////////////////////////////////////////\r","        //\r","        // DataSchema.Array static methods\r","        //\r","        ////////////////////////////////////////////////////////////////////////\r","\r","        /**\r","        Applies a schema to an array of data, returning a normalized object\r","        with results in the `results` property. The `meta` property of the\r","        response object is present for consistency, but is assigned an empty\r","        object.  If the input data is absent or not an array, an `error`\r","        property will be added.\r","\r","        The input array is expected to contain objects, arrays, or strings.\r","\r","        If _schema_ is not specified or _schema.resultFields_ is not an array,\r","        `response.results` will be assigned the input array unchanged.\r","\r","        When a _schema_ is specified, the following will occur:\r","\r","        If the input array contains strings, they will be copied as-is into the\r","        `response.results` array.\r","\r","        If the input array contains arrays, `response.results` will contain an\r","        array of objects with key:value pairs assuming the fields in\r","        _schema.resultFields_ are ordered in accordance with the data array\r","        values.\r","\r","        If the input array contains objects, the identified\r","        _schema.resultFields_ will be used to extract a value from those\r","        objects for the output result.\r","\r","        _schema.resultFields_ field identifiers are objects with the following properties:\r","\r","          * `key`   : <strong>(required)</strong> The locator name (String)\r","          * `parser`: A function or the name of a function on `Y.Parsers` used\r","                to convert the input value into a normalized type.  Parser\r","                functions are passed the value as input and are expected to\r","                return a value.\r","\r","        If no value parsing is needed, you can use strings as identifiers\r","        instead of objects (see example below).\r","\r","        @example\r","            // Process array of arrays\r","            var schema = { resultFields: [ 'fruit', 'color' ] },\r","                data = [\r","                    [ 'Banana', 'yellow' ],\r","                    [ 'Orange', 'orange' ],\r","                    [ 'Eggplant', 'purple' ]\r","                ];\r","\r","            var response = Y.DataSchema.Array.apply(schema, data);\r","\r","            // response.results[0] is { fruit: \"Banana\", color: \"yellow\" }\r","\r","            \r","            // Process array of objects\r","            data = [\r","                { fruit: 'Banana', color: 'yellow', price: '1.96' },\r","                { fruit: 'Orange', color: 'orange', price: '2.04' },\r","                { fruit: 'Eggplant', color: 'purple', price: '4.31' }\r","            ];\r","\r","            response = Y.DataSchema.Array.apply(schema, data);\r","\r","            // response.results[0] is { fruit: \"Banana\", color: \"yellow\" }\r","\r","\r","            // Use parsers\r","            schema.resultFields = [\r","                {\r","                    key: 'fruit',\r","                    parser: function (val) { return val.toUpperCase(); }\r","                },\r","                {\r","                    key: 'price',\r","                    parser: 'number' // Uses Y.Parsers.number\r","                }\r","            ];\r","\r","            response = Y.DataSchema.Array.apply(schema, data);\r","\r","            // Note price was converted from a numeric string to a number\r","            // response.results[0] looks like { fruit: \"BANANA\", price: 1.96 }\r","         \r","        @method apply\r","        @param {Object} [schema] Schema to apply.  Supported configuration\r","            properties are:\r","          @param {Array} [schema.resultFields] Field identifiers to\r","              locate/assign values in the response records. See above for\r","              details.\r","        @param {Array} data Array data.\r","        @return {Object} An Object with properties `results` and `meta`\r","        @static\r","        **/\r","        apply: function(schema, data) {\r","            var data_in = data,\r","                data_out = {results:[],meta:{}};\r","\r","            if(LANG.isArray(data_in)) {\r","                if(schema && LANG.isArray(schema.resultFields)) {\r","                    // Parse results data\r","                    data_out = SchemaArray._parseResults.call(this, schema.resultFields, data_in, data_out);\r","                }\r","                else {\r","                    data_out.results = data_in;\r","                }\r","            }\r","            else {\r","                data_out.error = new Error(\"Array schema parse failure\");\r","            }\r","\r","            return data_out;\r","        },\r","\r","        /**\r","         * Schema-parsed list of results from full data\r","         *\r","         * @method _parseResults\r","         * @param fields {Array} Schema to parse against.\r","         * @param array_in {Array} Array to parse.\r","         * @param data_out {Object} In-progress parsed data to update.\r","         * @return {Object} Parsed data object.\r","         * @static\r","         * @protected\r","         */\r","        _parseResults: function(fields, array_in, data_out) {\r","            var results = [],\r","                result, item, type, field, key, value, i, j;\r","\r","            for(i=array_in.length-1; i>-1; i--) {\r","                result = {};\r","                item = array_in[i];\r","                type = (LANG.isObject(item) && !LANG.isFunction(item)) ? 2 : (LANG.isArray(item)) ? 1 : (LANG.isString(item)) ? 0 : -1;\r","                if(type > 0) {\r","                    for(j=fields.length-1; j>-1; j--) {\r","                        field = fields[j];\r","                        key = (!LANG.isUndefined(field.key)) ? field.key : field;\r","                        value = (!LANG.isUndefined(item[key])) ? item[key] : item[j];\r","                        result[key] = Y.DataSchema.Base.parse.call(this, value, field);\r","                    }\r","                }\r","                else if(type === 0) {\r","                    result = item;\r","                }\r","                else {\r","                    //TODO: null or {}?\r","                    result = null;\r","                }\r","                results[i] = result;\r","            }\r","            data_out.results = results;\r","\r","            return data_out;\r","        }\r","    };\r","\r","Y.DataSchema.Array = Y.mix(SchemaArray, Y.DataSchema.Base);\r","","","}, '@VERSION@', {\"requires\": [\"dataschema-base\"]});","","}());"]};
}
var __cov_vYlnaMgz3BdRYKf0PsHDOg = __coverage__['build/dataschema-array/dataschema-array.js'];
__cov_vYlnaMgz3BdRYKf0PsHDOg.s['1']++;YUI.add('dataschema-array',function(Y,NAME){__cov_vYlnaMgz3BdRYKf0PsHDOg.f['1']++;__cov_vYlnaMgz3BdRYKf0PsHDOg.s['2']++;var LANG=Y.Lang,SchemaArray={apply:function(schema,data){__cov_vYlnaMgz3BdRYKf0PsHDOg.f['2']++;__cov_vYlnaMgz3BdRYKf0PsHDOg.s['3']++;var data_in=data,data_out={results:[],meta:{}};__cov_vYlnaMgz3BdRYKf0PsHDOg.s['4']++;if(LANG.isArray(data_in)){__cov_vYlnaMgz3BdRYKf0PsHDOg.b['1'][0]++;__cov_vYlnaMgz3BdRYKf0PsHDOg.s['5']++;if((__cov_vYlnaMgz3BdRYKf0PsHDOg.b['3'][0]++,schema)&&(__cov_vYlnaMgz3BdRYKf0PsHDOg.b['3'][1]++,LANG.isArray(schema.resultFields))){__cov_vYlnaMgz3BdRYKf0PsHDOg.b['2'][0]++;__cov_vYlnaMgz3BdRYKf0PsHDOg.s['6']++;data_out=SchemaArray._parseResults.call(this,schema.resultFields,data_in,data_out);}else{__cov_vYlnaMgz3BdRYKf0PsHDOg.b['2'][1]++;__cov_vYlnaMgz3BdRYKf0PsHDOg.s['7']++;data_out.results=data_in;}}else{__cov_vYlnaMgz3BdRYKf0PsHDOg.b['1'][1]++;__cov_vYlnaMgz3BdRYKf0PsHDOg.s['8']++;data_out.error=new Error('Array schema parse failure');}__cov_vYlnaMgz3BdRYKf0PsHDOg.s['9']++;return data_out;},_parseResults:function(fields,array_in,data_out){__cov_vYlnaMgz3BdRYKf0PsHDOg.f['3']++;__cov_vYlnaMgz3BdRYKf0PsHDOg.s['10']++;var results=[],result,item,type,field,key,value,i,j;__cov_vYlnaMgz3BdRYKf0PsHDOg.s['11']++;for(i=array_in.length-1;i>-1;i--){__cov_vYlnaMgz3BdRYKf0PsHDOg.s['12']++;result={};__cov_vYlnaMgz3BdRYKf0PsHDOg.s['13']++;item=array_in[i];__cov_vYlnaMgz3BdRYKf0PsHDOg.s['14']++;type=(__cov_vYlnaMgz3BdRYKf0PsHDOg.b['5'][0]++,LANG.isObject(item))&&(__cov_vYlnaMgz3BdRYKf0PsHDOg.b['5'][1]++,!LANG.isFunction(item))?(__cov_vYlnaMgz3BdRYKf0PsHDOg.b['4'][0]++,2):(__cov_vYlnaMgz3BdRYKf0PsHDOg.b['4'][1]++,LANG.isArray(item)?(__cov_vYlnaMgz3BdRYKf0PsHDOg.b['6'][0]++,1):(__cov_vYlnaMgz3BdRYKf0PsHDOg.b['6'][1]++,LANG.isString(item)?(__cov_vYlnaMgz3BdRYKf0PsHDOg.b['7'][0]++,0):(__cov_vYlnaMgz3BdRYKf0PsHDOg.b['7'][1]++,-1)));__cov_vYlnaMgz3BdRYKf0PsHDOg.s['15']++;if(type>0){__cov_vYlnaMgz3BdRYKf0PsHDOg.b['8'][0]++;__cov_vYlnaMgz3BdRYKf0PsHDOg.s['16']++;for(j=fields.length-1;j>-1;j--){__cov_vYlnaMgz3BdRYKf0PsHDOg.s['17']++;field=fields[j];__cov_vYlnaMgz3BdRYKf0PsHDOg.s['18']++;key=!LANG.isUndefined(field.key)?(__cov_vYlnaMgz3BdRYKf0PsHDOg.b['9'][0]++,field.key):(__cov_vYlnaMgz3BdRYKf0PsHDOg.b['9'][1]++,field);__cov_vYlnaMgz3BdRYKf0PsHDOg.s['19']++;value=!LANG.isUndefined(item[key])?(__cov_vYlnaMgz3BdRYKf0PsHDOg.b['10'][0]++,item[key]):(__cov_vYlnaMgz3BdRYKf0PsHDOg.b['10'][1]++,item[j]);__cov_vYlnaMgz3BdRYKf0PsHDOg.s['20']++;result[key]=Y.DataSchema.Base.parse.call(this,value,field);}}else{__cov_vYlnaMgz3BdRYKf0PsHDOg.b['8'][1]++;__cov_vYlnaMgz3BdRYKf0PsHDOg.s['21']++;if(type===0){__cov_vYlnaMgz3BdRYKf0PsHDOg.b['11'][0]++;__cov_vYlnaMgz3BdRYKf0PsHDOg.s['22']++;result=item;}else{__cov_vYlnaMgz3BdRYKf0PsHDOg.b['11'][1]++;__cov_vYlnaMgz3BdRYKf0PsHDOg.s['23']++;result=null;}}__cov_vYlnaMgz3BdRYKf0PsHDOg.s['24']++;results[i]=result;}__cov_vYlnaMgz3BdRYKf0PsHDOg.s['25']++;data_out.results=results;__cov_vYlnaMgz3BdRYKf0PsHDOg.s['26']++;return data_out;}};__cov_vYlnaMgz3BdRYKf0PsHDOg.s['27']++;Y.DataSchema.Array=Y.mix(SchemaArray,Y.DataSchema.Base);},'@VERSION@',{'requires':['dataschema-base']});
