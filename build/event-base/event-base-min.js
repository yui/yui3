(function(){var a=YUI.Env;if(!a._ready){a._ready=function(){a.DOMReady=true;a.remove(YUI.config.doc,"DOMContentLoaded",a._ready);};a.add(YUI.config.doc,"DOMContentLoaded",a._ready);}})();YUI.add("event-base",function(e){e.publish("domready",{fireOnce:true,async:true});if(YUI.Env.DOMReady){e.fire("domready");}else{e.Do.before(function(){e.fire("domready");},YUI.Env,"_ready");}var b=e.UA,d={},a={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9,63272:46,63273:36,63275:35},c=function(h){if(!h){return h;}try{if(h&&3==h.nodeType){h=h.parentNode;}}catch(g){return null;}return e.one(h);},f=function(g,h,i){this._event=g;this._currentTarget=h;this._wrapper=i||d;this.init();};e.extend(f,Object,{init:function(){var i=this._event,j=this._wrapper.overrides,g=i.pageX,l=i.pageY,k,h=this._currentTarget;this.altKey=i.altKey;this.ctrlKey=i.ctrlKey;this.metaKey=i.metaKey;this.shiftKey=i.shiftKey;this.type=(j&&j.type)||i.type;this.clientX=i.clientX;this.clientY=i.clientY;this.pageX=g;this.pageY=l;k=i.keyCode||i.charCode;if(b.webkit&&(k in a)){k=a[k];}this.keyCode=k;this.charCode=k;this.which=i.which||i.charCode||k;this.button=this.which;this.target=c(i.target);this.currentTarget=c(h);this.relatedTarget=c(i.relatedTarget);if(i.type=="mousewheel"||i.type=="DOMMouseScroll"){this.wheelDelta=(i.detail)?(i.detail*-1):Math.round(i.wheelDelta/80)||((i.wheelDelta<0)?-1:1);}if(this._touch){this._touch(i,h,this._wrapper);}},stopPropagation:function(){this._event.stopPropagation();this._wrapper.stopped=1;this.stopped=1;},stopImmediatePropagation:function(){var g=this._event;if(g.stopImmediatePropagation){g.stopImmediatePropagation();}else{this.stopPropagation();}this._wrapper.stopped=2;this.stopped=2;},preventDefault:function(g){var h=this._event;h.preventDefault();h.returnValue=g||false;this._wrapper.prevented=1;this.prevented=1;},halt:function(g){if(g){this.stopImmediatePropagation();}else{this.stopPropagation();}this.preventDefault();}});f.resolve=c;e.DOM2EventFacade=f;e.DOMEventFacade=f;(function(){e.Env.evt.dom_wrappers={};e.Env.evt.dom_map={};var r=e.Env.evt,i=e.config,n=i.win,t=YUI.Env.add,l=YUI.Env.remove,q=function(){YUI.Env.windowLoaded=true;e.Event._load();l(n,"load",q);},g=function(){e.Event._unload();},j="domready",m="~yui|2|compat~",p=function(v){try{return(v&&typeof v!=="string"&&e.Lang.isNumber(v.length)&&!v.tagName&&!v.alert);}catch(u){return false;}},h=e.CustomEvent.prototype._delete,k=function(v){var u=h.apply(this,arguments);if(!this.subCount&&!this.afterCount){e.Event._clean(this);}return u;},s=function(){var w=false,x=0,v=[],y=r.dom_wrappers,u=null,z=r.dom_map;return{POLL_RETRYS:1000,POLL_INTERVAL:40,lastError:null,_interval:null,_dri:null,DOMReady:false,startInterval:function(){if(!s._interval){s._interval=setInterval(s._poll,s.POLL_INTERVAL);}},onAvailable:function(A,E,I,B,F,H){var G=e.Array(A),C,D;for(C=0;C<G.length;C=C+1){v.push({id:G[C],fn:E,obj:I,override:B,checkReady:F,compat:H});}x=this.POLL_RETRYS;setTimeout(s._poll,0);D=new e.EventHandle({_delete:function(){if(D.handle){D.handle.detach();return;}var K,J;for(K=0;K<G.length;K++){for(J=0;J<v.length;J++){if(G[K]===v[J].id){v.splice(J,1);}}}}});return D;},onContentReady:function(E,C,D,B,A){return s.onAvailable(E,C,D,B,true,A);},attach:function(D,C,B,A){return s._attach(e.Array(arguments,0,true));},_createWrapper:function(G,F,A,B,E){var D,H=e.stamp(G),C="event:"+H+F;if(false===E){C+="native";}if(A){C+="capture";}D=y[C];if(!D){D=e.publish(C,{silent:true,bubbles:false,contextFn:function(){if(B){return D.el;}else{D.nodeRef=D.nodeRef||e.one(D.el);return D.nodeRef;}}});D.overrides={};D.el=G;D.key=C;D.domkey=H;D.type=F;D.fn=function(I){D.fire(s.getEvent(I,G,(B||(false===E))));};D.capture=A;if(G==n&&F=="load"){D.fireOnce=true;u=C;}D._delete=k;y[C]=D;z[H]=z[H]||{};z[H][C]=D;t(G,F,D.fn,A);}return D;},_attach:function(G,F){var L,N,D,K,A,C=false,E,H=G[0],I=G[1],B=G[2]||n,O=F&&F.facade,M=F&&F.capture,J=F&&F.overrides;if(G[G.length-1]===m){L=true;}if(!I||!I.call){return false;}if(p(B)){N=[];e.each(B,function(Q,P){G[2]=Q;N.push(s._attach(G.slice(),F));});return new e.EventHandle(N);}else{if(e.Lang.isString(B)){if(L){D=e.DOM.byId(B);}else{D=e.Selector.query(B);switch(D.length){case 0:D=null;break;case 1:D=D[0];break;default:G[2]=D;return s._attach(G,F);}}if(D){B=D;}else{E=s.onAvailable(B,function(){E.handle=s._attach(G,F);},s,true,false,L);return E;}}}if(!B){return false;}if(e.Node&&e.instanceOf(B,e.Node)){B=e.Node.getDOMNode(B);}K=s._createWrapper(B,H,M,L,O);if(J){e.mix(K.overrides,J);}if(B==n&&H=="load"){if(YUI.Env.windowLoaded){C=true;}}if(L){G.pop();}A=G[3];E=K._on(I,A,(G.length>4)?G.slice(4):null);if(C){K.fire();}return E;},detach:function(H,I,C,F){var G=e.Array(arguments,0,true),K,D,J,E,A,B;if(G[G.length-1]===m){K=true;}if(H&&H.detach){return H.detach();}if(typeof C=="string"){if(K){C=e.DOM.byId(C);}else{C=e.Selector.query(C);D=C.length;if(D<1){C=null;}else{if(D==1){C=C[0];}}}}if(!C){return false;}if(C.detach){G.splice(2,1);return C.detach.apply(C,G);}else{if(p(C)){J=true;for(E=0,D=C.length;E<D;++E){G[2]=C[E];J=(e.Event.detach.apply(e.Event,G)&&J);}return J;}}if(!H||!I||!I.call){return s.purgeElement(C,false,H);}A="event:"+e.stamp(C)+H;B=y[A];if(B){return B.detach(I);}else{return false;}},getEvent:function(D,B,A){var C=D||n.event;return(A)?C:new e.DOMEventFacade(C,B,y["event:"+e.stamp(B)+D.type]);},generateId:function(A){return e.DOM.generateID(A);},_isValidCollection:p,_load:function(A){if(!w){w=true;if(e.fire){e.fire(j);}s._poll();}},_poll:function(){if(s.locked){return;}if(e.UA.ie&&!YUI.Env.DOMReady){s.startInterval();return;}s.locked=true;var B,A,F,C,E,G,D=!w;if(!D){D=(x>0);}E=[];G=function(J,K){var I,H=K.override;try{if(K.compat){if(K.override){if(H===true){I=K.obj;}else{I=H;}}else{I=J;}K.fn.call(I,K.obj);}else{I=K.obj||e.one(J);K.fn.apply(I,(e.Lang.isArray(H))?H:[]);}}catch(L){}};for(B=0,A=v.length;B<A;++B){F=v[B];if(F&&!F.checkReady){C=(F.compat)?e.DOM.byId(F.id):e.Selector.query(F.id,null,true);if(C){G(C,F);v[B]=null;}else{E.push(F);}}}for(B=0,A=v.length;
B<A;++B){F=v[B];if(F&&F.checkReady){C=(F.compat)?e.DOM.byId(F.id):e.Selector.query(F.id,null,true);if(C){if(w||(C.get&&C.get("nextSibling"))||C.nextSibling){G(C,F);v[B]=null;}}else{E.push(F);}}}x=(E.length===0)?0:x-1;if(D){s.startInterval();}else{clearInterval(s._interval);s._interval=null;}s.locked=false;return;},purgeElement:function(C,A,H){var F=(e.Lang.isString(C))?e.Selector.query(C,null,true):C,I=s.getListeners(F,H),E,G,D,B;if(A&&F){I=I||[];D=e.Selector.query("*",F);E=0;G=D.length;for(;E<G;++E){B=s.getListeners(D[E],H);if(B){I=I.concat(B);}}}if(I){for(E=0,G=I.length;E<G;++E){I[E].detachAll();}}},_clean:function(C){var B=C.key,A=C.domkey;l(C.el,C.type,C.fn,C.capture);delete y[B];delete e._yuievt.events[B];if(z[A]){delete z[A][B];if(!e.Object.size(z[A])){delete z[A];}}},getListeners:function(E,D){var F=e.stamp(E,true),A=z[F],C=[],B=(D)?"event:"+F+D:null,G=r.plugins;if(!A){return null;}if(B){if(G[D]&&G[D].eventDef){B+="_synth";}if(A[B]){C.push(A[B]);}B+="native";if(A[B]){C.push(A[B]);}}else{e.each(A,function(I,H){C.push(I);});}return(C.length)?C:null;},_unload:function(A){e.each(y,function(C,B){if(C.type=="unload"){C.fire(A);}C.detachAll();});l(n,"unload",g);},nativeAdd:t,nativeRemove:l};}();e.Event=s;if(i.injected||YUI.Env.windowLoaded){q();}else{t(n,"load",q);}if(e.UA.ie){e.on(j,s._poll);}try{t(n,"unload",g);}catch(o){}s.Custom=e.CustomEvent;s.Subscriber=e.Subscriber;s.Target=e.EventTarget;s.Handle=e.EventHandle;s.Facade=e.EventFacade;s._poll();})();e.Env.evt.plugins.available={on:function(i,h,k,j){var g=arguments.length>4?e.Array(arguments,4,true):null;return e.Event.onAvailable.call(e.Event,k,h,j,g);}};e.Env.evt.plugins.contentready={on:function(i,h,k,j){var g=arguments.length>4?e.Array(arguments,4,true):null;return e.Event.onContentReady.call(e.Event,k,h,j,g);}};},"@VERSION@",{requires:["event-custom-base"]});