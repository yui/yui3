YUI.add("pjax-content",function(d){var b="error",a="load";function c(){}c.prototype={initializer:function(){this.publish(b,{defaultFn:this._defCompleteFn});this.publish(a,{defaultFn:this._defCompleteFn});},getContent:function(h){var g={},e=this.get("contentSelector"),j=d.Node.create(h||""),f=this.get("titleSelector"),i;if(e){g.node=d.one(j.all(e).toFrag());}else{g.node=j;}if(f){i=j.one(f);if(i){g.title=i.get("text");}}return g;},_defaultRoute:function(f){var e=f.url;this._request&&this._request.abort();if(this.get("addPjaxParam")){e=e.replace(/([^#]*)(#.*)?$/,function(g,i,h){i+=(i.indexOf("?")>-1?"&":"?")+"pjax=1";return i+(h||"");});}this._request=d.io(e,{"arguments":{url:e},context:this,headers:{"X-PJAX":"true"},timeout:this.get("timeout"),on:{end:this._onPjaxIOEnd,failure:this._onPjaxIOFailure,success:this._onPjaxIOSuccess}});},_defCompleteFn:function(h){var f=this.get("container"),g=h.content;if(f&&g.node){f.setContent(g.node);}if(g.title&&d.config.doc){d.config.doc.title=g.title;}},_onPjaxIOEnd:function(){this._request=null;},_onPjaxIOFailure:function(h,f,e){var g=this.getContent(f.responseText);this.fire(b,{content:g,responseText:f.responseText,status:f.status,url:e.url});},_onPjaxIOSuccess:function(h,f,e){var g=this.getContent(f.responseText);this.fire(a,{content:g,responseText:f.responseText,status:f.status,url:e.url});}};c.ATTRS={addPjaxParam:{value:true},container:{value:null,setter:d.one},contentSelector:{value:null},titleSelector:{value:"title"},timeout:{value:30000}};d.PjaxContent=c;},"@VERSION@",{requires:["io-base","node-base","router"]});