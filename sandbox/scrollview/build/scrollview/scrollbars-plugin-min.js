YUI.add("scrollbars-plugin",function(B){var A=B.ScrollView.CLASS_NAMES;function C(){C.superclass.constructor.apply(this,arguments);}C.NAME="scrollbars-plugin";C.NS="scrollbars";C.SCROLLBAR_TEMPLATE=["<div>",'<b class="'+A.child+" "+A.b+'"></b>','<span class="'+A.child+" "+A.middle+'"></span>','<b class="'+A.child+" "+A.b+'"></b>',"</div>"].join("");C.ATTRS={verticalNode:{setter:"_setVerticalNode",value:B.Node.create(C.SCROLLBAR_TEMPLATE)},horizontalNode:{setter:"_setHorizontalNode",value:B.Node.create(C.SCROLLBAR_TEMPLATE)}};B.ScrollbarsPlugin=B.extend(C,B.Plugin.Base,{initializer:function(){this.afterHostMethod("_uiScrollY",this._update);this.afterHostMethod("_uiScrollX",this._update);this.afterHostMethod("_uiDimensionsChange",this._hostDimensionsChange);this.doAfter("scrollEnd",this.flash);},_hostDimensionsChange:function(){var H=this.get("host"),F=this.get("host").get("boundingBox"),E=this.get("verticalNode"),I=this.get("horizontalNode"),G=E.inDoc(),D=I.inDoc();if(H._scrollsVertical&&!G){F.append(E);}else{if(!H._scrollsVertical&&G){E.remove();}}if(H._scrollsHorizontal&&!D){F.append(I);}else{if(!H._scrollsHorizontal&&D){I.remove();}}this._update();B.later(500,this,"flash",true);},_update:function(M,K,N){var J=this.get("host").get("contentBox"),D=0,G=1,I,Q=this.get("host").get("height"),E=this.get("host").get("width"),R=J.get("scrollHeight"),L=J.get("scrollWidth"),O=this.get("verticalNode"),P=this.get("horizontalNode"),H=this.get("host").get("scrollX")*-1,F=this.get("host").get("scrollY")*-1;if(!this._showingScrollBars){this.show();}if(P&&R<=Q){this.hide();return;}if(O){D=Math.floor(Q*(Q/R));G=Math.floor((F/(R-Q))*(Q-D))*-1;if(D>Q){D=1;}I="translate3d(0, "+G+"px, 0)";if(G>(Q-D)){D=D-(G-(Q-D));}if(G<0){I="translate3d(0,0,0)";D=D+G;}K=K||0;if(this.verticalScrollSize!=(D-8)){this.verticalScrollSize=(D-8);O.get("children").item(1).setStyles({"-webkit-transition-property":(K>0?"-webkit-transform":null),"-webkit-transform":"translate3d(0,0,0) scaleY("+(D-8)+")","-webkit-transition-duration":(K>0?K+"ms":null)});}O.setStyles({"-webkit-transition-property":(K>0?"-webkit-transform":null),"-webkit-transform":I,"-webkit-transition-duration":(K>0?K+"ms":null)});O.get("children").item(2).setStyles({"-webkit-transition-property":(K>0?"-webkit-transform":null),"-webkit-transform":"translate3d(0,"+(D-10)+"px,0)","-webkit-transition-duration":(K>0?K+"ms":null)});}if(P){D=Math.floor(E*(E/L));G=Math.floor((H/(L-E))*(E-D))*-1;if(D>E){D=1;}I="translate3d("+G+"px, 0, 0)";if(G>(E-D)){D=D-(G-(E-D));}if(G<0){I="translate3d(0,0,0)";D=D+G;}K=K||0;if(this.horizontalScrollSize!=(D-16)){this.horizontalScrollSize=(D-16);P.get("children").item(1).setStyles({"-webkit-transition-property":(K>0?"-webkit-transform":null),"-webkit-transform":"translate3d(0,0,0) scaleX("+this.horizontalScrollSize+")","-webkit-transition-duration":(K>0?K+"ms":null)});}P.setStyles({"-webkit-transition-property":(K>0?"-webkit-transform":null),"-webkit-transform":I,"-webkit-transition-duration":K+"ms"});P.get("children").item(2).setStyles({"-webkit-transition-property":(K>0?"-webkit-transform":null),"-webkit-transform":"translate3d("+(D-12)+"px,0,0)","-webkit-transition-duration":(K>0?K+"ms":null)});}},show:function(E){var D=this.get("verticalNode"),F=this.get("horizontalNode");this._showingScrollBars=true;if(this._flashTimer){this._flashTimer.cancel();}if(E){if(D){D.setStyle("-webkit-transition","opacity .6s");}if(F){F.setStyle("-webkit-transition","opacity .6s");}}if(D){D.addClass(A.showing);}if(F){F.addClass(A.showing);}},hide:function(E){var D=this.get("verticalNode"),F=this.get("horizontalNode");this._showingScrollBars=false;if(this._flashTimer){this._flashTimer.cancel();}if(E){if(D){D.setStyle("-webkit-transition","opacity .6s");}if(F){F.setStyle("-webkit-transition","opacity .6s");}}if(D){D.removeClass(A.showing);}if(F){F.removeClass(A.showing);}},flash:function(){var D=false;if(this.get("host")._scrollsVertical&&this.get("host").get("contentBox").get("scrollHeight")>this.get("host").get("height")){D=true;}if(this.get("host")._scrollsHorizontal&&this.get("host").get("contentBox").get("scrollWidth")>this.get("host").get("width")){D=true;}if(D){this.show(true);this._flashTimer=B.later(800,this,"hide",true);}},_setVerticalNode:function(D){D=B.one(D);if(D){D.addClass(A.scrollbar);D.addClass(A.vertical);}return D;},_setHorizontalNode:function(D){D=B.one(D);if(D){D.addClass(A.scrollbar);D.addClass(A.horizontal);}return D;}});},"@VERSION@",{requires:["plugin"]});