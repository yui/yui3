YUI.add("chart",function(B){function K(L){this._createId();K.superclass.constructor.apply(this,arguments);this._instantiateSWFClass();}K.ATTRS={app:{getter:function(){return this._app;},setter:function(L){this._app=L;return L;}},parent:{lazyAdd:false,getter:function(){return this._parent;},setter:function(L){this._parent=L;if(L instanceof B.SWFApplication){this.set("app",L);}else{if(L instanceof B.SWFWidget){this.set("app",L.get("app"));}}}},swfargs:{getter:function(){return this._getArgs();},validator:function(L){return B.Lang.isArray(L);}},added:{value:false},className:{readOnly:true,getter:function(){return this.AS_CLASS;}},styles:{getter:function(){return this._styles;},setter:function(L){if(!this._styles){this._styles={};}this._styles=L=this._setStyles(L);return L;},validator:function(L){return B.Lang.isObject(L);}},id:{getter:function(){return this._id;}}};B.extend(K,B.Base,{_getArgs:function(){return[];},_instantiateSWFClass:function(){var M=this.get("styles"),L=this.get("swfargs");this.createInstance(this.get("id"),this.get("className"),L);if(M&&L.indexOf(M)===-1){this._updateStyles();}},_parent:null,_app:null,_createId:function(){this._id=B.guid(this.GUID);},AS_CLASS:"SWFWidget",swfReadyFlag:false,GUID:"yuiswfwidget",_getDefaultStyles:function(){return{};},_styleObjHash:null,_setStyles:function(O){var L,M=this.get("styles")||{},N=this._styleObjHash;M[this._id]=M[this._id]||{};B.Object.each(O,function(Q,P,R){if(N&&N.hasOwnProperty(P)){L=N[P];if(L instanceof K){L.set("styles",Q);M[P]=L.get("styles");}else{if(B.Lang.isObject(M[L])){M[L]=this._mergeStyles(Q,M[L]);}else{M[L]=R[L];}}}else{L=this._id;if(B.Lang.isObject(M[L])&&B.Lang.isObject(M[L][P])){M[L][P]=this._mergeStyles(Q,M[L][P]);}else{M[L][P]=Q;}}},this);return M;},_mergeStyles:function(M,L){B.Object.each(M,function(P,O,N){if(L.hasOwnProperty(O)&&B.Lang.isObject(P)){L[O]=this._mergeStyles(P,L[O]);}else{L[O]=P;}},this);return L;},_updateStyles:function(){var M=this._styleObjHash,L=this.get("styles");B.Object.each(L,function(P,N,O){if(this._id===N||(M&&M.hasOwnProperty(N)&&!(M[N] instanceof K))){this.applyMethod(N,"setStyles",[O[N]]);}},this);},_styles:null,on:function(O,N,M,L){this.get("app").onFlash.apply(this.get("app"),[O,this]);K.superclass.on.apply(this,arguments);},_eventHandler:function(L){this.fire(L.type,L);},callSWF:function(M,L){this.get("app").callSWF(arguments);},createInstance:function(N,M,L){this.get("app").createInstance(N,M,L);},applyMethod:function(N,L,M){this.get("app").applyMethod(N,L,M);},exposeMethod:function(M,L,N){this.get("app").exposeMethod(arguments);},getProperty:function(M,L){this.get("app").getProperty(arguments);},setProperty:function(N,M,L){this.get("app").setProperty(arguments);}});B.SWFWidget=K;function C(L){C.superclass.constructor.apply(this,arguments);}C.NAME="container";C.ATTRS={props:{value:null,setter:function(L){return L;},validator:function(L){return B.Lang.isObject(L);}},layout:{value:"LayoutStrategy",validator:function(L){return B.Array.indexOf(this.LAYOUTS,L)>-1;}},items:{value:[],setter:function(L){this._items=L;},getter:function(){return this._items;},validator:function(L){return B.Lang.isArray(L);}}};B.extend(C,B.SWFWidget,{_items:[],AS_CLASS:"Container",_backgroundId:"background",GUID:"yuicontainer",LAYOUTS:["LayoutStrategy","HLayout","VLayout","HFlowLayout","VFlowLayout","LayerStack","BorderContainer"],_init:function(){this._updateStyles();},_addBackground:function(){this.createInstance("background","Skin");this.applyMethod(this._id,"addItem",["$background",{index:0}]);this._styleObjHash.background="background";},addItem:function(N,M){var L=["$"+N._id];if(M){L.push(M);}this.applyMethod(this._id,"addItem",L);if(N instanceof K){N.set("added",true);}},_events:{},_styleObjHash:{background:"background"}});B.Container=C;function F(L){F.superclass.constructor.apply(this,arguments);}F.NAME="swfApplication";F.ATTRS={app:{setter:function(L){},getter:function(){return this;}},swfurl:{value:B.config.base+"chart/assets/cartesiancanvas.swf"},params:{value:{version:"10.0.0",useExpressInstall:true,fixedAttributes:{allowScriptAccess:"always",allowNetworking:"all",bgcolor:"#ffffff"}},lazyAdd:false,setOnce:true,setter:function(L){return this._mergeStyles(L,{version:"10.0.0",useExpressInstall:true,fixedAttributes:{allowScriptAccess:"always",allowNetworking:"all",bgcolor:"#ffffff"}});},validator:function(L){return B.Lang.isObject(L);}},flashvars:{value:{appname:this._id,YUIBridgeCallback:"SWF.eventHandler"},lazyAdd:false,setOnce:true,setter:function(L){if(!L){return;}if(!L.hasOwnProperty("appname")||!L.appname){L.appname=this._id;}if(this.get("params").flashVars&&B.Lang.isObject(this.get("params").flashVars)){this.get("params").flashVars=this._mergeStyles(L,this.get("params").flashVars);}else{this.get("params").flashVars=L;}},validator:function(L){return B.Lang.isObject(L);}},autoLoad:{value:true},_autoRender:{lazyAdd:false,value:true,setter:function(L){return this.setAutoRender(L);}},_dataId:{value:null},dataProvider:{value:null,setter:function(L){this._dataProvider=L;if(L){this.createInstance(this._dataId,"ChartDataProvider",[B.JSON.stringify(L)]);}},getter:function(){return this._dataProvider;}}};B.extend(F,B.Container,{_createId:function(){B.SWFWidget.prototype._createId.apply(this,arguments);if(B.SWF._instances){B.SWF._instance={};}B.SWF._instances[this._id]=this;},_eventHandler:function(L){if(L.type=="swfReady"){this.node=L.node=this.swf._swf._node;this.appswf=L.appswf=this;this._init();this._clearMethodQueue();this.publish("swfReady",{fireOnce:true});this.fire("swfReady",L);}else{if(L.type=="log"){}else{this.fire(L.type,L);}}},AS_CLASS:"CartesianCanvas",GUID:"yuiSWFApplication",loadswf:function(){this.swf=new B.SWF(this.get("parent"),this.get("swfurl"),this.get("params"));},_instantiateSWFClass:function(){this._dataId=this._id+"data";if(this.get("autoLoad")){this.loadswf();}},_init:function(){this._addBackground();this._updateStyles();this.fire("appReady");},addItem:function(M,L){C.prototype.addItem.apply(this,arguments);
if(M._init){M._init();}},setAutoRender:function(L){if(L!=this._autoRender){this._autoRender=L;this.setProperty(this._id,"autoRender",this._autoRender);}},callSWF:function(M,L){if(!L){L=[];}if(this.node&&this.node[M]){return(this.node[M].apply(this.node,L));}else{this._methodQueue.push({func:this.callSWF,args:arguments});}},createInstance:function(N,M,L){if(!L){L=[];}if(this.node&&this.node.createInstance){this.node.createInstance(N,M,L);}else{this._methodQueue.push({func:this.createInstance,args:arguments});}},applyMethod:function(N,L,M){if(!M){M=[];}if(this.node&&this.node.applyMethod){this.node.applyMethod(N,L,M);}else{this._methodQueue.push({func:this.applyMethod,args:arguments});}},exposeMethod:function(M,L,N){if(this.node&&this.node.exposeMethod){this.node.exposeMethod(M,L,N);}else{this._methodQueue.push({func:this.exposeMethod,args:arguments});}},getProperty:function(M,L){if(this.node&&this.node.getProperty){this.node.getProperty(M,L);}else{this._methodQueue.push({func:this.getProperty,args:arguments});}},setProperty:function(N,M,L){if(this.node&&this.node.setProperty){this.node.setProperty(N,M,L);}else{this._methodQueue.push({func:this.setProperty,args:arguments});}},onFlash:function(M,L){if(this.node&&this.node.subscribe){var N=L.get("id");if(!B.SWF._instances.hasOwnProperty(N)){B.SWF._instances[N]=L;}this.node.subscribe(M,N);}else{this._methodQueue.push({func:this.onFlash,args:arguments});}},_methodQueue:[],_clearMethodQueue:function(){var N=this._methodQueue,L=N.length,M;while(L>0){M=N.shift();M.func.apply(this,M.args);L--;}},_styleObjHash:{background:"background"}});B.augment(F,B.EventTarget);B.SWFApplication=F;function D(L){D.superclass.constructor.apply(this,arguments);}D.NAME="borderContainer";B.extend(D,B.Container,{GUID:"yuibordercontainer",AS_CLASS:"BorderContainer",layout:"LayoutStrategy",_init:function(){this._updateStyles();},addBottomItem:function(L){this.addItem(L,"bottom");},addLeftItem:function(L){this.addItem(L,"left");},addTopItem:function(L){this.addItem(L,"top");},addRightItem:function(L){this.addItem(L,"right");},addCenterItem:function(L){this.addItem(L,"center");},addItem:function(N,L){var M=(L.charAt(0)).toUpperCase()+L.substr(1);this.applyMethod(this.get("id"),"add"+M+"Item",["$"+N.get("id")]);if(L!="center"){N.set("styles",{position:L});}}});B.BorderContainer=D;function I(L){I.superclass.constructor.apply(this,arguments);}I.NAME="graph";I.ATTRS={layout:{value:"LayerStack",validator:function(L){return B.Array.indexOf(this.LAYOUTS,L)>-1;}},seriesCollection:{validator:function(L){return B.Lang.isArray(L);},setter:function(L){this._seriesCollection=this._convertReferences(L);}},handleEventListening:{validator:function(L){return B.Lang.isBoolean(L);},getter:function(){return this._handleEventListening;},setter:function(L){this._handleEventListening=L;return L;}}};B.extend(I,B.Container,{_getArgs:function(){return[B.JSON.stringify(this.get("seriesCollection")),this.get("handleEventListening")];},GUID:"yuigraph",_handleEventListening:false,AS_CLASS:"Graph",_seriesCollection:null,_convertReferences:function(P){var O,M=P.length,N,L=[];for(O=0;O<M;++O){N=P[O];N.xAxisData="$"+N.xAxisData._id+"data";N.yAxisData="$"+N.yAxisData._id+"data";L.push(N);}return L;}});B.Graph=I;function E(L){E.superclass.constructor.apply(this,arguments);}E.NAME="lineGraph";E.ATTRS={xaxis:{value:null},yaxis:{value:null},xkey:{value:null},ykey:{value:null}};B.extend(E,B.SWFWidget,{AS_CLASS:"LineSeries",GUID:"yuilinechart",initializer:function(L){this.createInstance(this._id,"LineSeries",[{xAxisData:"$"+this.get("xaxis")._id+"data",yAxisData:"$"+this.get("yaxis")._id+"data",xKey:this.get("xkey"),yKey:this.get("ykey")}]);this._updateStyles();}});B.LineGraph=E;function H(L){H.superclass.constructor.apply(this,arguments);}H.NAME="axis";H.ATTRS={keys:{value:[],setter:function(L){this._keys=L;},getter:function(){return this._keys;}},axisType:{value:"Numeric",setter:function(L){this._axisType=L;},getter:function(){return this._axisType;},lazyAdd:false}};B.extend(H,B.SWFWidget,{_getArgs:function(){this._dataId=this._id+"data";this.createInstance(this._dataId,this.get("axisType")+"Data",["$"+this.get("app")._dataId]);return["$"+this._dataId];},GUID:"yuiaxis",_axisType:"Numeric",_keys:null,AS_CLASS:"Axis",addKey:function(L){this.get("keys").push(L);this.applyMethod(this._dataId,"addKey",[L]);}});B.augment(H,B.SWFWidget);B.Axis=H;function G(M,N,L){if(N){this._type=N;}this._parseConfig(L);this._chartConfig.parent=M;this.app=new B.SWFApplication(this._chartConfig);this.chart=new B.BorderContainer({parent:this.app,styles:this._chartstyles});this.app.addItem(this.chart);this.xaxis=new B.Axis({parent:this.app,axisType:this._xAxisProps.type,styles:this._xaxisstyles});this.yaxis=new B.Axis({parent:this.app,axisType:this._yAxisProps.type,styles:this._yaxisstyles});this.data={};this.graph=null;}B.extend(G,B.EventTarget,{_type:"line",_xAxisProps:{type:"Category",key:"item"},_yAxisProps:{type:"Numeric",key:"value"},setData:function(N,O,M){this.data=N;var P=this.chart,L=this.app,R=this.xaxis,Q=this.yaxis,S=this.graph,T=this._graphstyles;L.set("dataProvider",N);R.addKey(this._xAxisProps.key);Q.addKey(this._yAxisProps.key);if(this._type=="line"){S=new B.Graph({parent:P,seriesCollection:[{type:this._type,xAxisData:R,yAxisData:Q,xKey:O,yKey:M,styles:T}]});}P.addBottomItem(R);P.addLeftItem(Q);P.addCenterItem(S);},_chartstyles:{padding:{left:20,top:20,bottom:20,right:20}},_appstyles:{background:{fillColor:14607103,borderColor:14607103}},_xaxisstyles:{majorTicks:{color:0},line:{color:0},label:{fontName:"Georgia",fontSize:12,color:0,margin:{top:3}}},_yaxisstyles:{majorTicks:{color:6697779},line:{color:6697779},label:{fontName:"Georgia",fontSize:12,color:0,margin:{right:3}}},_graphstyles:{color:0,alpha:1,weight:"2",marker:{fillColor:0}},_parseConfig:function(L){var N,M;if(L){if(L.hasOwnProperty("swfurl")){this._chartConfig.swfurl=L.swfurl;}if(L.hasOwnProperty("xaxisprops")){M=L.xaxisprops;if(M.hasOwnProperty("type")){this._xAxisProps.type=M.type;
}if(M.hasOwnProperty("key")){this._xAxisProps.key=M.key;}}if(L.hasOwnProperty("yaxisprops")){M=L.yaxisprops;if(M.hasOwnProperty("type")){this._yAxisProps.type=M.type;}if(M.hasOwnProperty("key")){this._yAxisProps.key=M.key;}}if(L.hasOwnProperty("autoRender")){this._chartConfig.autoRender=L.autoRender;}if(this._yAxisProps.type=="Category"){this._yaxisstyles.padding={top:50,bottom:50};this._graphstyles.padding={top:50,bottom:50};}if(this._xAxisProps.type=="Category"){this._xaxisstyles.padding={left:50,right:50};this._graphstyles.padding={left:50,right:50};}if(L.hasOwnProperty("styles")){N=L.styles;if(N.hasOwnProperty("chart")){this._chartstyles=this._parseStyles(this._chartstyles,N.chart);}if(N.hasOwnProperty("background")){this._appstyles.background=this._parseStyles(this._appstyles.background,N.background);}if(N.hasOwnProperty("xaxisstyles")){this._xaxisstyles=this._parseStyles(this._xaxisstyles,N.xaxisstyles);}if(N.hasOwnProperty("yaxisstyles")){this._yaxisstyles=this._parseStyles(this._yaxisstyles,N.yaxisstyles);}if(N.hasOwnProperty("graphstyles")){this._graphstyles=this._parseStyles(this._graphstyles,N.graphstyles);}}}else{if(this._yAxisProps.type=="Category"){this._yaxisstyles.padding={top:50,bottom:50};this._graphstyles.padding={top:50,bottom:50};}if(this._xAxisProps.type=="Category"){this._xaxisstyles.padding={left:50,right:50};this._graphstyles.padding={left:50,right:50};}}this._chartConfig.styles=this._appstyles;},_chartConfig:{},_parseStyles:function(L,N){var M;if(!L){return N;}for(M in N){if(N.hasOwnProperty(M)){if(L.hasOwnProperty(M)&&B.Lang.isObject(L[M])){L[M]=this._parseStyles(L[M],N[M]);}else{L[M]=N[M];}}}return L;}});B.SimpleChart=G;function A(L){A.superclass.constructor.apply(this,arguments);}A.NAME="dataTip";A.ATTRS={layout:{value:"LayerStack",validator:function(L){return B.Array.indexOf(this.LAYOUTS,L)>-1;}},graph:{lazyAdd:false,getter:function(){return this._graph;},setter:function(L){this._graph=L;return L;}}};B.extend(A,B.Container,{GUID:"yuidataTip",AS_CLASS:"DataTip",_graph:null,_getArgs:function(){return["$"+this.get("graph")._id];}});B.DataTip=A;function J(L){J.superclass.constructor.apply(this,arguments);}J.NAME="swfButton";B.extend(J,B.SWFWidget,{GUID:"yuiswfButton",AS_CLASS:"Button"});B.SWFButton=J;},"@VERSION@");