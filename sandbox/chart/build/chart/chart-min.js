YUI.add("chart",function(A){function I(J){this._createId();I.superclass.constructor.apply(this,arguments);}I.NAME="swfWidget";I.ATTRS={parent:{lazyAdd:false,value:null},added:{value:false},className:{readOnly:true,getter:function(){return this.AS_CLASS;}},styles:{value:{},lazyAdd:false,setter:function(J){J=this._setStyles(J);if(this.swfReadyFlag){this._updateStyles();}return J;},validator:function(J){return A.Lang.isObject(J);}}};A.extend(I,A.Base,{_createId:function(){this._id=A.guid(this.GUID);},AS_CLASS:"SWFWidget",swfReadyFlag:false,GUID:"yuiswfwidget",_getDefaultStyles:function(){return{};},_styleObjHash:null,_setStyles:function(M){var J,K=this.get("styles")||{},L=this._styleObjHash;K[this._id]=K[this._id]||{};A.Object.each(M,function(O,N,P){if(L&&L.hasOwnProperty(N)){J=L[N];if(J instanceof I){J.set("styles",O);K[N]=J.get("styles");}else{if(A.Lang.isObject(K[J])){K[J]=this._mergeStyles(O,K[J]);}else{K[J]=P[J];}}}else{J=this._id;if(A.Lang.isObject(K[J])&&A.Lang.isObject(K[J][N])){K[J][N]=this._mergeStyles(O,K[J][N]);}else{K[J][N]=O;}}},this);return K;},_mergeStyles:function(K,J){A.Object.each(K,function(N,M,L){if(J.hasOwnProperty(M)&&A.Lang.isObject(N)){J[M]=this._mergeStyles(N,J[M]);}else{J[M]=N;}},this);return J;},_updateStyles:function(){var K=this._styleObjHash,J=this.get("styles");A.Object.each(J,function(N,L,M){if(this._id===L||(K&&K.hasOwnProperty(L)&&!(K[L] instanceof I))){this.appswf.applyMethod(L,"setStyles",[M[L]]);}},this);}});A.SWFWidget=I;function B(J){B.superclass.constructor.apply(this,arguments);}B.NAME="container";B.ATTRS={props:{value:null,setter:function(J){return J;},validator:function(J){return A.Lang.isObject(J);}},swfargs:{value:[],validator:function(J){return A.Lang.isArray(J);}},layout:{value:"LayoutStrategy",validator:function(J){return A.Array.indexOf(this.LAYOUTS,J)>-1;}},items:{value:[],setter:function(J){this._items=J;},getter:function(){return this._items;},validator:function(J){return A.Lang.isArray(J);}}};A.extend(B,A.SWFWidget,{_items:[],AS_CLASS:"Container",_backgroundId:"background",GUID:"yuicontainer",LAYOUTS:["LayoutStrategy","HLayout","VLayout","HFlowLayout","VFlowLayout","LayerStack","BorderContainer"],_init:function(L){var K,M,J;this.swfowner=L;this.appswf=L.appswf;this._addBackground();J=this._items.length;if(J<1){return;}for(K=0;K<J;K++){M=this._items[K];this.addItem(M.item,M.props);}this._updateStyles();},_addBackground:function(){this.appswf.createInstance("background","Skin");this.appswf.applyMethod(this._id,"addItem",["$background",{index:0}]);this._styleObjHash.background="background";},addItem:function(L,K){if(this.swfReadyFlag){var J=L.swfarguments&&typeof L.swfarguments=="array"?L.args:[];this.appswf.createInstance(L._id,L.get("className"),J);J=["$"+L._id];if(K){J.push(K);}this.appswf.applyMethod(this._id,"addItem",J);}else{this._items.push({item:L,props:K});}if(L instanceof I){L.set("added",true);}},_styleObjHash:{background:"background"}});A.Container=B;function C(J){C.superclass.constructor.apply(this,arguments);}C.NAME="borderContainer";A.extend(C,A.Container,{GUID:"yuibordercontainer",itemsQueue:{},AS_CLASS:"BorderContainer",layout:"LayoutStrategy",_init:function(L){var K,J;this.swfowner=L;this.appswf=this.swfowner.appswf;this.swfReadyFlag=true;this._updateStyles();for(K in this.itemsQueue){if(this.itemsQueue.hasOwnProperty(K)){J=this.itemsQueue[K];while(J.length>0){this.addItem(J.shift(),K);}}}},addBottomItem:function(J){this.addItem(J,"bottom");},addLeftItem:function(J){this.addItem(J,"left");},addTopItem:function(J){this.addItem(J,"top");},addRightItem:function(J){this.addItem(J,"right");},addCenterItem:function(J){this.addItem(J,"center");},addItem:function(L,J){var K=(J.charAt(0)).toUpperCase()+J.substr(1);if(this.swfReadyFlag){L._init(this.swfowner);this.appswf.applyMethod(this._id,"add"+K+"Item",["$"+L._id]);if(J!="center"){L.set("styles",{position:J});}}else{if(!this.itemsQueue||!this.itemsQueue.hasOwnProperty(J)){this.itemsQueue[J]=[];}this.itemsQueue[J].push(L);}}});function D(J){D.superclass.constructor.apply(this,arguments);this._dataId=this._id+"data";}D.NAME="chart";D.ATTRS={swfurl:{value:A.config.base+"chart/assets/cartesiancanvas.swf"},chartContainer:{value:null},chartContainerParent:{value:this,validator:function(J){return(J instanceof I);}},params:{value:{version:"10.0.0",useExpressInstall:true,fixedAttributes:{allowScriptAccess:"always",allowNetworking:"all",bgcolor:"#ffffff"}},lazyAdd:false,setOnce:true,setter:function(J){return this._mergeStyles(J,{version:"10.0.0",useExpressInstall:true,fixedAttributes:{allowScriptAccess:"always",allowNetworking:"all",bgcolor:"#ffffff"}});},validator:function(J){return A.Lang.isObject(J);}},flashvars:{value:{appname:this._id},lazyAdd:false,setOnce:true,setter:function(J){if(!J){return;}if(!J.hasOwnProperty("appname")||!J.appname){J.appname=this._id;}if(this.get("params").flashVars&&A.Lang.isObject(this.get("params").flashVars)){this.get("params").flashVars=this._mergeStyles(J,this.get("params").flashVars);}else{this.get("params").flashVars=J;}},validator:function(J){return A.Lang.isObject(J);}},autoLoad:{value:true},_autoRender:{lazyAdd:false,value:true,setter:function(J){return this.setAutoRender(J);}},_dataId:{value:null},dataProvider:{value:null,setter:function(J){this._dataProvider=A.JSON.stringify(J);this._initDataProvider();},getter:function(){return A.JSON.parse(this._dataProvider);}}};A.extend(D,A.Container,{AS_CLASS:"CartesianCanvas",GUID:"yuichart",loadswf:function(){this.appswf=new A.SWF(this.get("parent"),this.get("swfurl"),this.get("params"));this.appswf.on("swfReady",this._init,this);},initializer:function(K){var L,J=this.get("chartContainer");if(!J){this.set("chartContainer",new C({parent:this,styles:this.get("styles")[this._styleObjHash.chart]}));this._styleObjHash.chart=J=this.get("chartContainer");}if(!J.added){L=J.get("parent");L.addItem(J);}if(this.get("autoLoad")){this.loadswf();}},_init:function(M){var K,L,J;this._setAutoRender();this.swfReadyFlag=true;
if(this._dataProvider){this._initDataProvider();}this._addBackground();J=this._items.length;if(J<1){return;}for(K=0;K<J;K++){L=this._items[K];this.addItem(L.item,L.props);}this._updateStyles();},_initDataProvider:function(){if(this.appswf&&this.swfReadyFlag){this.appswf.createInstance(this._dataId,"ChartDataProvider",[this._dataProvider]);}},addTopItem:function(J){this.get("chartContainer").addTopItem(J);},addRightItem:function(J){this.get("chartContainer").addRightItem(J);},addBottomItem:function(J){this.get("chartContainer").addBottomItem(J);},addLeftItem:function(J){this.get("chartContainer").addLeftItem(J);},addCenterItem:function(J){this.get("chartContainer").addCenterItem(J);},addItem:function(K,J){B.prototype.addItem.apply(this,arguments);if(this.swfReadyFlag&&K._init){K._init(this);}},setAutoRender:function(J){if(J!=this._autoRender){this._autoRender=J;this._setAutoRender();}},_setAutoRender:function(){if(this.appswf){this.appswf.callSWF("setProperty",[this._id,"autoRender",this._autoRender]);}},_styleObjHash:{background:"background",chart:"chart"}});A.augment(D,A.EventTarget);A.Chart=D;function H(J){H.superclass.constructor.apply(this,arguments);}H.NAME="graph";H.ATTRS={layout:{value:"LayerStack",validator:function(J){return A.Array.indexOf(this.LAYOUTS,J)>-1;}},seriesCollection:{validator:function(J){return A.Lang.isArray(J);},setter:function(J){this._seriesCollection=this._convertReferences(J);}},handleEventListening:{validator:function(J){return A.Lang.isBoolean(J);},getter:function(){return this._handleEventListening;},setter:function(J){this._handleEventListening=J;return J;}}};A.extend(H,A.Container,{GUID:"yuigraph",_handleEventListening:false,AS_CLASS:"Graph",_seriesCollection:null,_init:function(J){this.swfowner=J;this.appswf=this.swfowner.appswf;if(this.get("seriesCollection")){this.appswf.createInstance(this._id,"Graph",[A.JSON.stringify(this.get("seriesCollection")),this.get("handleEventListening")]);}},_convertReferences:function(N){var M,K=N.length,L,J=[];for(M=0;M<K;++M){L=N[M];L.xAxisData="$"+L.xAxisData._id+"data";L.yAxisData="$"+L.yAxisData._id+"data";J.push(L);}return J;}});A.Graph=H;function E(J){E.superclass.constructor.apply(this,arguments);}E.NAME="lineGraph";E.ATTRS={xaxis:{value:null},yaxis:{value:null},xkey:{value:null},ykey:{value:null}};A.extend(E,A.SWFWidget,{AS_CLASS:"LineSeries",GUID:"yuilinechart",_init:function(J){this.swfowner=J;this.appswf=this.swfowner.appswf;this.appswf.createInstance(this._id,"LineSeries",[{xAxisData:"$"+this.get("xaxis")._id+"data",yAxisData:"$"+this.get("yaxis")._id+"data",xKey:this.get("xkey"),yKey:this.get("ykey")}]);this._updateStyles();}});A.LineGraph=E;function G(J){G.superclass.constructor.apply(this,arguments);this._dataId=this._id+"data";}G.NAME="axis";G.ATTRS={keys:{value:[],setter:function(J){this._keys=J;},getter:function(){return this._keys;}},axisType:{value:"Numeric",setter:function(J){this._axisType=J;},getter:function(){return this._axisType;}}};A.extend(G,A.SWFWidget,{GUID:"yuiaxis",_axisType:"Numeric",_keys:[],swfReadyFlag:false,AS_CLASS:"Axis",_init:function(K){this.swfowner=K;this.appswf=this.swfowner.appswf;this.appswf.createInstance(this._dataId,this.get("axisType")+"Data",["$"+this.swfowner._dataId]);var J,L=this.get("keys");for(J in L){if(L.hasOwnProperty(J)){this.appswf.applyMethod(this._dataId,"addKey",[L[J]]);}}this.appswf.createInstance(this._id,"Axis",["$"+this._dataId]);this.swfReadyFlag=true;},addKey:function(J){this.get("keys").push(J);if(this.appswf){this.appswf.applyMethod("$"+this._dataId,"addKey",[J]);}}});A.augment(G,A.SWFWidget);A.Axis=G;function F(K,L,J){if(L){this._type=L;}this._parseConfig(J);this._chartConfig.parent=K;this.chart=new A.Chart(this._chartConfig);this.xaxis=new A.Axis({parent:this.chart,axisType:this._xAxisProps.type,styles:this._xaxisstyles});this.yaxis=new A.Axis({parent:this.chart,axisType:this._yAxisProps.type,styles:this._yaxisstyles});this.data={};this.graph=null;}A.extend(F,A.EventTarget,{_type:"line",_xAxisProps:{type:"Category",key:"item"},_yAxisProps:{type:"Numeric",key:"value"},setData:function(P,O,J){this.data=P;var L=this.chart,Q=this.xaxis,K=this.yaxis,N=this.graph,M=this._graphstyles;L.set("dataProvider",P);Q.addKey(this._xAxisProps.key);K.addKey(this._yAxisProps.key);if(this._type=="line"){N=new A.LineGraph({parent:L,xaxis:Q,yaxis:K,xkey:O,ykey:J,styles:M});}L.addBottomItem(Q);L.addLeftItem(K);L.addCenterItem(N);},_chartstyles:{chart:{padding:{left:20,top:20,bottom:20,right:20}},background:{fillColor:14607103,borderColor:14607103}},_xaxisstyles:{majorTicks:{color:0},line:{color:0},label:{fontName:"Georgia",fontSize:12,color:0,margin:{top:3}}},_yaxisstyles:{majorTicks:{color:6697779},line:{color:6697779},label:{fontName:"Georgia",fontSize:12,color:0,margin:{right:3}}},_graphstyles:{color:0,alpha:1,weight:"2"},_parseConfig:function(J){var L,K;if(J){if(J.hasOwnProperty("swfurl")){this._chartConfig.swfurl=J.swfurl;}if(J.hasOwnProperty("xaxisprops")){K=J.xaxisprops;if(K.hasOwnProperty("type")){this._xAxisProps.type=K.type;}if(K.hasOwnProperty("key")){this._xAxisProps.key=K.key;}}if(J.hasOwnProperty("yaxisprops")){K=J.yaxisprops;if(K.hasOwnProperty("type")){this._yAxisProps.type=K.type;}if(K.hasOwnProperty("key")){this._yAxisProps.key=K.key;}}if(J.hasOwnProperty("autoRender")){this._chartConfig.autoRender=J.autoRender;}if(this._yAxisProps.type=="Category"){this._yaxisstyles.padding={top:50,bottom:50};this._graphstyles.padding={top:50,bottom:50};}if(this._xAxisProps.type=="Category"){this._xaxisstyles.padding={left:50,right:50};this._graphstyles.padding={left:50,right:50};}if(J.hasOwnProperty("styles")){L=J.styles;if(L.hasOwnProperty("chart")){this._chartstyles.chart=this._parseStyles(this._chartstyles.chart,L.chart);}if(L.hasOwnProperty("background")){this._chartstyles.background=this._parseStyles(this._chartstyles.background,L.background);}if(L.hasOwnProperty("xaxisstyles")){this._xaxisstyles=this._parseStyles(this._xaxisstyles,L.xaxisstyles);}if(L.hasOwnProperty("yaxisstyles")){this._yaxisstyles=this._parseStyles(this._yaxisstyles,L.yaxisstyles);
}if(L.hasOwnProperty("graphstyles")){this._graphstyles=this._parseStyles(this._graphstyles,L.graphstyles);}}}else{if(this._yAxisProps.type=="Category"){this._yaxisstyles.padding={top:50,bottom:50};this._graphstyles.padding={top:50,bottom:50};}if(this._xAxisProps.type=="Category"){this._xaxisstyles.padding={left:50,right:50};this._graphstyles.padding={left:50,right:50};}}this._chartConfig.styles=this._chartstyles;},_chartConfig:{},_parseStyles:function(J,L){var K;if(!J){return L;}for(K in L){if(L.hasOwnProperty(K)){if(J.hasOwnProperty(K)&&A.Lang.isObject(J[K])){J[K]=this._parseStyles(J[K],L[K]);}else{J[K]=L[K];}}}return J;}});A.SimpleChart=F;},"@VERSION@");