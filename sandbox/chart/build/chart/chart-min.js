YUI.add("chart",function(B){function J(K){this._createId();J.superclass.constructor.apply(this,arguments);}J.NAME="swfWidget";J._instances=J._instances||{};J.eventHandler=function(K,L){J._instances[K]._eventHandler(L);};J.ATTRS={parent:{lazyAdd:false,value:null},added:{value:false},className:{readOnly:true,getter:function(){return this.AS_CLASS;}},styles:{value:{},lazyAdd:false,setter:function(K){K=this._setStyles(K);if(this.swfReadyFlag){this._updateStyles();}return K;},validator:function(K){return B.Lang.isObject(K);}},id:{getter:function(){return this._id;}}};B.extend(J,B.Base,{_createId:function(){this._id=B.guid(this.GUID);},AS_CLASS:"SWFWidget",swfReadyFlag:false,GUID:"yuiswfwidget",_getDefaultStyles:function(){return{};},_styleObjHash:null,_setStyles:function(N){var K,L=this.get("styles")||{},M=this._styleObjHash;L[this._id]=L[this._id]||{};B.Object.each(N,function(P,O,Q){if(M&&M.hasOwnProperty(O)){K=M[O];if(K instanceof J){K.set("styles",P);L[O]=K.get("styles");}else{if(B.Lang.isObject(L[K])){L[K]=this._mergeStyles(P,L[K]);}else{L[K]=Q[K];}}}else{K=this._id;if(B.Lang.isObject(L[K])&&B.Lang.isObject(L[K][O])){L[K][O]=this._mergeStyles(P,L[K][O]);}else{L[K][O]=P;}}},this);return L;},_mergeStyles:function(L,K){B.Object.each(L,function(O,N,M){if(K.hasOwnProperty(N)&&B.Lang.isObject(O)){K[N]=this._mergeStyles(O,K[N]);}else{K[N]=O;}},this);return K;},_updateStyles:function(){var L=this._styleObjHash,K=this.get("styles");B.Object.each(K,function(O,M,N){if(this._id===M||(L&&L.hasOwnProperty(M)&&!(L[M] instanceof J))){this.appswf.applyMethod(M,"setStyles",[N[M]]);}},this);},_events:{},_init:function(K){this.swfowner=K;this.appswf=K.appswf;this._addSWFEventListeners();},_addSWFEventListeners:function(){var K=this._events,L;for(L in K){if(K.hasOwnProperty(L)&&!K[L].registered){K[L].registered=true;this.appswf.onFlash(L,this);}}},on:function(O,N,M,K){var L=this._events;if(!this._events.hasOwnProperty(O)){L[O]={type:O,args:arguments,registered:false};if(this.swfowner&&this.swfowner.swfReady&&this._id){L[O].registered=true;this.appswf.onFlash(O,this);}}J.superclass.on.apply(this,arguments);},_eventHandler:function(K){this.fire(K.type,K);}});B.SWFWidget=J;function C(K){C.superclass.constructor.apply(this,arguments);}C.NAME="container";C.ATTRS={props:{value:null,setter:function(K){return K;},validator:function(K){return B.Lang.isObject(K);}},swfargs:{value:[],validator:function(K){return B.Lang.isArray(K);}},layout:{value:"LayoutStrategy",validator:function(K){return B.Array.indexOf(this.LAYOUTS,K)>-1;}},items:{value:[],setter:function(K){this._items=K;},getter:function(){return this._items;},validator:function(K){return B.Lang.isArray(K);}}};B.extend(C,B.SWFWidget,{_items:[],AS_CLASS:"Container",_backgroundId:"background",GUID:"yuicontainer",LAYOUTS:["LayoutStrategy","HLayout","VLayout","HFlowLayout","VFlowLayout","LayerStack","BorderContainer"],_init:function(M){var L,N,K;this.swfowner=M;this.appswf=M.appswf;this._addBackground();K=this._items.length;if(K<1){return;}for(L=0;L<K;L++){N=this._items[L];this.addItem(N.item,N.props);}this._updateStyles();this._addSWFEventListeners();},_addBackground:function(){this.appswf.createInstance("background","Skin");this.appswf.applyMethod(this._id,"addItem",["$background",{index:0}]);this._styleObjHash.background="background";},addItem:function(M,L){if(this.swfReadyFlag){var K=M.swfarguments&&typeof M.swfarguments=="array"?M.args:[];this.appswf.createInstance(M._id,M.get("className"),K);K=["$"+M._id];if(L){K.push(L);}this.appswf.applyMethod(this._id,"addItem",K);}else{this._items.push({item:M,props:L});}if(M instanceof J){M.set("added",true);}},_events:{},_styleObjHash:{background:"background"}});B.Container=C;function F(K){F.superclass.constructor.apply(this,arguments);this._dataId=this._id+"data";}F.NAME="swfApplication";F.ATTRS={swfurl:{value:B.config.base+"chart/assets/cartesiancanvas.swf"},params:{value:{version:"10.0.0",useExpressInstall:true,fixedAttributes:{allowScriptAccess:"always",allowNetworking:"all",bgcolor:"#ffffff"}},lazyAdd:false,setOnce:true,setter:function(K){return this._mergeStyles(K,{version:"10.0.0",useExpressInstall:true,fixedAttributes:{allowScriptAccess:"always",allowNetworking:"all",bgcolor:"#ffffff"}});},validator:function(K){return B.Lang.isObject(K);}},flashvars:{value:{appname:this._id},lazyAdd:false,setOnce:true,setter:function(K){if(!K){return;}if(!K.hasOwnProperty("appname")||!K.appname){K.appname=this._id;}if(this.get("params").flashVars&&B.Lang.isObject(this.get("params").flashVars)){this.get("params").flashVars=this._mergeStyles(K,this.get("params").flashVars);}else{this.get("params").flashVars=K;}},validator:function(K){return B.Lang.isObject(K);}},autoLoad:{value:true},_autoRender:{lazyAdd:false,value:true,setter:function(K){return this.setAutoRender(K);}},_dataId:{value:null},dataProvider:{value:null,setter:function(K){this._dataProvider=B.JSON.stringify(K);this._initDataProvider();},getter:function(){return B.JSON.parse(this._dataProvider);}}};B.extend(F,B.Container,{_events:{},AS_CLASS:"CartesianCanvas",GUID:"yuiSWFApplication",loadswf:function(){this.appswf=new B.SWF(this.get("parent"),this.get("swfurl"),this.get("params"));this.appswf.on("swfReady",this._init,this);},initializer:function(K){if(this.get("autoLoad")){this.loadswf();}},_init:function(N){var L,M,K;this._setAutoRender();this.swfReadyFlag=true;if(this._dataProvider){this._initDataProvider();}this._addBackground();K=this._items.length;if(K<1){return;}for(L=0;L<K;L++){M=this._items[L];this.addItem(M.item,M.props);}this._updateStyles();this._addSWFEventListeners();this.fire("appReady");},_initDataProvider:function(){if(this.appswf&&this.swfReadyFlag){this.appswf.createInstance(this._dataId,"ChartDataProvider",[this._dataProvider]);}},addItem:function(L,K){C.prototype.addItem.apply(this,arguments);if(this.swfReadyFlag&&L._init){L._init(this);}},setAutoRender:function(K){if(K!=this._autoRender){this._autoRender=K;this._setAutoRender();}},_setAutoRender:function(){if(this.appswf){this.appswf.callSWF("setProperty",[this._id,"autoRender",this._autoRender]);
}},_styleObjHash:{background:"background"}});B.augment(F,B.EventTarget);B.SWFApplication=F;function D(K){D.superclass.constructor.apply(this,arguments);}D.NAME="borderContainer";B.extend(D,B.Container,{_events:{},GUID:"yuibordercontainer",itemsQueue:{},AS_CLASS:"BorderContainer",layout:"LayoutStrategy",_init:function(M){var L,K;this.swfowner=M;this.appswf=this.swfowner.appswf;this.swfReadyFlag=true;this._updateStyles();for(L in this.itemsQueue){if(this.itemsQueue.hasOwnProperty(L)){K=this.itemsQueue[L];while(K.length>0){this.addItem(K.shift(),L);}}}this._addSWFEventListeners();},addBottomItem:function(K){this.addItem(K,"bottom");},addLeftItem:function(K){this.addItem(K,"left");},addTopItem:function(K){this.addItem(K,"top");},addRightItem:function(K){this.addItem(K,"right");},addCenterItem:function(K){this.addItem(K,"center");},addItem:function(M,K){var L=(K.charAt(0)).toUpperCase()+K.substr(1);if(this.swfReadyFlag){M._init(this.swfowner);this.appswf.applyMethod(this._id,"add"+L+"Item",["$"+M._id]);if(K!="center"){M.set("styles",{position:K});}}else{if(!this.itemsQueue||!this.itemsQueue.hasOwnProperty(K)){this.itemsQueue[K]=[];}this.itemsQueue[K].push(M);}}});B.BorderContainer=D;function I(K){I.superclass.constructor.apply(this,arguments);}I.NAME="graph";I.ATTRS={layout:{value:"LayerStack",validator:function(K){return B.Array.indexOf(this.LAYOUTS,K)>-1;}},seriesCollection:{validator:function(K){return B.Lang.isArray(K);},setter:function(K){this._seriesCollection=this._convertReferences(K);}},handleEventListening:{validator:function(K){return B.Lang.isBoolean(K);},getter:function(){return this._handleEventListening;},setter:function(K){this._handleEventListening=K;return K;}}};B.extend(I,B.Container,{_events:{},GUID:"yuigraph",_handleEventListening:false,AS_CLASS:"Graph",_seriesCollection:null,_init:function(K){this.swfowner=K;this.appswf=this.swfowner.appswf;if(this.get("seriesCollection")){this.appswf.createInstance(this._id,"Graph",[B.JSON.stringify(this.get("seriesCollection")),this.get("handleEventListening")]);this.fire("graphReady",{swfowner:K});}this._addSWFEventListeners();},_convertReferences:function(O){var N,L=O.length,M,K=[];for(N=0;N<L;++N){M=O[N];M.xAxisData="$"+M.xAxisData._id+"data";M.yAxisData="$"+M.yAxisData._id+"data";K.push(M);}return K;}});B.Graph=I;function E(K){E.superclass.constructor.apply(this,arguments);}E.NAME="lineGraph";E.ATTRS={xaxis:{value:null},yaxis:{value:null},xkey:{value:null},ykey:{value:null}};B.extend(E,B.SWFWidget,{AS_CLASS:"LineSeries",GUID:"yuilinechart",_init:function(K){this.swfowner=K;this.appswf=this.swfowner.appswf;this.appswf.createInstance(this._id,"LineSeries",[{xAxisData:"$"+this.get("xaxis")._id+"data",yAxisData:"$"+this.get("yaxis")._id+"data",xKey:this.get("xkey"),yKey:this.get("ykey")}]);this._updateStyles();}});B.LineGraph=E;function H(K){H.superclass.constructor.apply(this,arguments);this._dataId=this._id+"data";}H.NAME="axis";H.ATTRS={keys:{value:[],setter:function(K){this._keys=K;},getter:function(){return this._keys;}},axisType:{value:"Numeric",setter:function(K){this._axisType=K;},getter:function(){return this._axisType;}}};B.extend(H,B.SWFWidget,{_events:{},GUID:"yuiaxis",_axisType:"Numeric",_keys:[],swfReadyFlag:false,AS_CLASS:"Axis",_init:function(L){this.swfowner=L;this.appswf=this.swfowner.appswf;this.appswf.createInstance(this._dataId,this.get("axisType")+"Data",["$"+this.swfowner._dataId]);var K,M=this.get("keys");for(K in M){if(M.hasOwnProperty(K)){this.appswf.applyMethod(this._dataId,"addKey",[M[K]]);}}this.appswf.createInstance(this._id,"Axis",["$"+this._dataId]);this._addSWFEventListeners();this.swfReadyFlag=true;},addKey:function(K){this.get("keys").push(K);if(this.appswf){this.appswf.applyMethod("$"+this._dataId,"addKey",[K]);}}});B.augment(H,B.SWFWidget);B.Axis=H;function G(L,M,K){if(M){this._type=M;}this._parseConfig(K);this._chartConfig.parent=L;this.app=new B.SWFApplication(this._chartConfig);this.chart=new B.BorderContainer({parent:this.app,styles:this._chartstyles});this.app.addItem(this.chart);this.xaxis=new B.Axis({parent:this.app,axisType:this._xAxisProps.type,styles:this._xaxisstyles});this.yaxis=new B.Axis({parent:this.app,axisType:this._yAxisProps.type,styles:this._yaxisstyles});this.data={};this.graph=null;}B.extend(G,B.EventTarget,{_type:"line",_xAxisProps:{type:"Category",key:"item"},_yAxisProps:{type:"Numeric",key:"value"},setData:function(M,N,L){this.data=M;var O=this.chart,K=this.app,Q=this.xaxis,P=this.yaxis,R=this.graph,S=this._graphstyles;K.set("dataProvider",M);Q.addKey(this._xAxisProps.key);P.addKey(this._yAxisProps.key);if(this._type=="line"){R=new B.Graph({parent:O,seriesCollection:[{type:this._type,xAxisData:Q,yAxisData:P,xKey:N,yKey:L,styles:S}]});}O.addBottomItem(Q);O.addLeftItem(P);O.addCenterItem(R);},_chartstyles:{padding:{left:20,top:20,bottom:20,right:20}},_appstyles:{background:{fillColor:14607103,borderColor:14607103}},_xaxisstyles:{majorTicks:{color:0},line:{color:0},label:{fontName:"Georgia",fontSize:12,color:0,margin:{top:3}}},_yaxisstyles:{majorTicks:{color:6697779},line:{color:6697779},label:{fontName:"Georgia",fontSize:12,color:0,margin:{right:3}}},_graphstyles:{color:0,alpha:1,weight:"2",marker:{fillColor:0}},_parseConfig:function(K){var M,L;if(K){if(K.hasOwnProperty("swfurl")){this._chartConfig.swfurl=K.swfurl;}if(K.hasOwnProperty("xaxisprops")){L=K.xaxisprops;if(L.hasOwnProperty("type")){this._xAxisProps.type=L.type;}if(L.hasOwnProperty("key")){this._xAxisProps.key=L.key;}}if(K.hasOwnProperty("yaxisprops")){L=K.yaxisprops;if(L.hasOwnProperty("type")){this._yAxisProps.type=L.type;}if(L.hasOwnProperty("key")){this._yAxisProps.key=L.key;}}if(K.hasOwnProperty("autoRender")){this._chartConfig.autoRender=K.autoRender;}if(this._yAxisProps.type=="Category"){this._yaxisstyles.padding={top:50,bottom:50};this._graphstyles.padding={top:50,bottom:50};}if(this._xAxisProps.type=="Category"){this._xaxisstyles.padding={left:50,right:50};this._graphstyles.padding={left:50,right:50};}if(K.hasOwnProperty("styles")){M=K.styles;
if(M.hasOwnProperty("chart")){this._chartstyles=this._parseStyles(this._chartstyles,M.chart);}if(M.hasOwnProperty("background")){this._appstyles.background=this._parseStyles(this._appstyles.background,M.background);}if(M.hasOwnProperty("xaxisstyles")){this._xaxisstyles=this._parseStyles(this._xaxisstyles,M.xaxisstyles);}if(M.hasOwnProperty("yaxisstyles")){this._yaxisstyles=this._parseStyles(this._yaxisstyles,M.yaxisstyles);}if(M.hasOwnProperty("graphstyles")){this._graphstyles=this._parseStyles(this._graphstyles,M.graphstyles);}}}else{if(this._yAxisProps.type=="Category"){this._yaxisstyles.padding={top:50,bottom:50};this._graphstyles.padding={top:50,bottom:50};}if(this._xAxisProps.type=="Category"){this._xaxisstyles.padding={left:50,right:50};this._graphstyles.padding={left:50,right:50};}}this._chartConfig.styles=this._appstyles;},_chartConfig:{},_parseStyles:function(K,M){var L;if(!K){return M;}for(L in M){if(M.hasOwnProperty(L)){if(K.hasOwnProperty(L)&&B.Lang.isObject(K[L])){K[L]=this._parseStyles(K[L],M[L]);}else{K[L]=M[L];}}}return K;}});B.SimpleChart=G;function A(K){A.superclass.constructor.apply(this,arguments);if(this.get("graph")&&this.get("graph").swfReady){}}A.NAME="dataTip";A.ATTRS={layout:{value:"LayerStack",validator:function(K){return B.Array.indexOf(this.LAYOUTS,K)>-1;}},graph:{lazyAdd:false,getter:function(){return this._graph;},setter:function(K){this._graph=K;if(this._graph&&this._graph.swfReady){this._init(this._graph);}else{this._graph.on("graphReady",B.bind(function(L){this._initDataTip(L.swfowner);},this));}return K;}}};B.extend(A,B.Container,{GUID:"yuidataTip",AS_CLASS:"DataTip",_graph:null,_initDataTip:function(K){this.swfowner=K;this.swfReady=true;this.appswf=this.swfowner.appswf;this.appswf.createInstance(this._id,"DataTip",["$"+this.get("graph")._id]);this.appswf.applyMethod(this.get("parent")._id,"addItem",["$"+this._id,{excludeFromLayout:true}]);}});B.DataTip=A;},"@VERSION@");