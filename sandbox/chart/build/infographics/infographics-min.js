YUI.add("infographics",function(C){function N(P){this._createId();this._keys={};this._data=[];N.superclass.constructor.apply(this,arguments);}N.NAME="baseAxis";N.ATTRS={parent:{lazyAdd:false,value:null},roundingUnit:{getter:function(){return this._roundingUnit;},setter:function(P){this._roundingUnit=P;if(this._roundMinAndMax){this._updateMinAndMax();}return P;}},roundMinAndMax:{getter:function(){return this._roundMinAndMax;},setter:function(P){if(this._roundMinAndMax==P){return P;}this._roundMinAndMax=P;this._updateMinAndMax();}},dataType:{getter:function(){return this._dataType;}},dataProvider:{getter:function(){return this._dataProvider;},setter:function(P){if(P===this._dataProvider){return;}if(this._dataProvider){}P=C.merge(P);this._dataProvider={data:P.data.concat()};this._dataClone=this._dataProvider.data.concat();return P;},lazyAdd:false},dataMaximum:{getter:function(){return this._dataMaximum;}},maximum:{getter:function(){if(this._autoMax||!this._setMaximum){return this._dataMaximum;}return this._setMaximum;},setter:function(P){this._setMaximum=P;}},dataMinimum:{getter:function(){return this._dataMinimum;}},minimum:{getter:function(){if(this._autoMin||!this._setMinimum){return this._dataMinimum;}return this._setMinimum;},setter:function(P){this._setMinimum=P;return P;}},autoMax:{getter:function(){return this._autoMax;},setter:function(P){this._autoMax=P;}},autoMin:{getter:function(){return this._autoMin;},setter:function(P){this._autoMin=P;}},data:{getter:function(){return this._data;}},keys:{getter:function(){return this._keys;}}};C.extend(N,C.Base,{GUID:"yuibaseaxis",_createId:function(){this._id=C.guid(this.GUID);},_roundingUnit:NaN,_roundMinAndMax:true,_dataType:null,_dataProvider:null,_dataClone:null,_setMaximum:null,_dataMaximum:null,_autoMax:true,_setMinimum:null,_dataMinimum:null,_autoMin:true,_data:null,_keys:null,_axisReady:false,addKey:function(S){if(this._keys.hasOwnProperty(S)){return;}this._dataClone=this._dataProvider.data.concat();var R=this._keys,P={},Q={axis:this};this._setDataByKey(S);P[S]=R[S].concat();this._updateMinAndMax();Q.keysAdded=P;if(!this._dataReady){this._dataReady=true;this.publish("axisReady",{fireOnce:true});this.fire("axisReady",Q);}else{this.fire("axisUpdate",Q);}},_setDataByKey:function(T){var S,U,Q=[],R=this._dataClone.concat(),P=R.length;for(S=0;S<P;++S){U=R[S];Q[S]=U[T];}this._keys[T]=Q;this._data=this._data.concat(Q);},removeKey:function(V){if(!this._keys.hasOwnProperty(V)){return;}var Q,W,P={},S=[],R={},U=this._keys,T={};R[V]=U[V].concat();for(Q in U){if(U.hasOwnProperty(Q)){if(Q==V){continue;}W=U[Q];S=S.concat(W);P[Q]=W;}}U=P;this._data=S;this._updateMinAndMax();T.keysRemoved=R;this.fire("axisUpdate",T);},getKeyValueAt:function(Q,P){var S=NaN,R=this.keys;if(R[Q]&&R[Q][P]){S=R[Q][P];}return S;},getDataByKey:function(Q){var P=this._keys;if(P[Q]){return P[Q];}return null;},_updateMinAndMax:function(){var U=this.get("data"),Q=0,T=0,P,R,S;if(U&&U.length&&U.length>0){P=U.length;Q=T=U[0];if(P>1){for(S=1;S<P;S++){R=U[S];if(isNaN(R)){continue;}Q=Math.max(R,Q);T=Math.min(R,T);}}}this._dataMaximum=Q;this._dataMinimum=T;},newDataUpdateHandler:function(){var P,R=this._keys,Q={};this._data=[];this._dataClone=this._dataProvider.data.concat();for(P in R){if(R.hasOwnProperty(P)){R[P]=this._setDataByKey(P);this._data=this._data.concat(R[P]);}}this._updateMinAndMax();Q.keysAdded=R;this.fire("axisUpdate",Q);},_keyDataUpdateHandler:function(){var P=false,S={},T=S.keysAdded,U=S.keysRemoved,R=this._keys,Q;for(Q in R){if(R.hasOwnProperty(Q)){if(T.hasOwnProperty(Q)){P=true;R[Q]=R[Q];}if(U.hasOwnProperty(Q)){P=true;R[Q]=[];}}}if(!P){return;}this._data=[];for(Q in R){if(R.hasOwnProperty(Q)){this._data=this._data.concat(R[Q]);}}this._updateMinAndMax();S.keysAdded=T;S.keysRemoved=U;this.fire("axisUpdate",S);},getTotalMajorUnits:function(R,P){var Q;if(R.determinant==="count"){Q=R.count;}else{if(R.determinant==="distance"){Q=(P/R.distance)+1;}}return Math.min(Q,this._data.length);},getLabelAtPosition:function(U,Q,S){var R=this.get("minimum"),P=this.get("maximum"),T=(U/Q*(P-R))+R;return this.getFormattedLabel(T,S);},getFormattedLabel:function(Q,P){return Q;}});C.BaseAxis=N;function K(P){K.superclass.constructor.apply(this,arguments);}K.NAME="numericAxis";K.ATTRS={alwaysShowZero:{getter:function(){return this._alwaysShowZero;},setter:function(P){if(P==this._alwaysShowZero){return;}this._alwaysShowZero=P;this._updateMinAndMax();return P;}}};C.extend(K,C.BaseAxis,{_dataType:"numeric",_alwaysShowZero:true,_updateMinAndMax:function(){var U=this.get("data"),Q=0,T=0,P,R,S,V="";if(U&&U.length&&U.length>0){P=U.length;Q=T=U[0];if(P>1){for(S=1;S<P;S++){R=U[S];if(isNaN(R)){continue;}Q=Math.max(R,Q);T=Math.min(R,T);V+="\n"+R;}}}if(this._roundMinAndMax&&!isNaN(this._roundingUnit)){this._dataMaximum=this._roundUpToNearest(Q,this._roundingUnit);this._dataMinimum=this._roundDownToNearest(T,this._roundingUnit);}else{this._dataMaximum=Q;this._dataMinimum=T;}if(this._alwaysShowZero){this._dataMinimum=Math.min(0,this._dataMinimum);}},_roundToNearest:function(R,Q){Q=Q||1;if(Q===0){return R;}var P=Math.round(this._roundToPrecision(R/Q,10))*Q;return this._roundToPrecision(P,10);},_roundUpToNearest:function(Q,P){P=P||1;if(P===0){return Q;}return Math.ceil(this._roundToPrecision(Q/P,10))*P;},_roundDownToNearest:function(Q,P){P=P||1;if(P===0){return Q;}return Math.floor(this._roundToPrecision(Q/P,10))*P;},_roundToPrecision:function(R,P){P=P||0;var Q=Math.pow(10,P);return Math.round(Q*R)/Q;},getFormattedLabel:function(Q,P){return C.DataType.Number.format(Q,P);}});C.NumericAxis=K;function G(P){G.superclass.constructor.apply(this,arguments);}G.NAME="timeAxis";G.ATTRS={maximum:{getter:function(){if(this._autoMax||this._setMaximum===null){return this._getNumber(this._dataMaximum);}return this._setMaximum;},setter:function(P){this._setMaximum=this._getNumber(P);this.fire("dataChange");}},minimum:{getter:function(){if(this._autoMin||this._setMinimum===null){return this._dataMinimum;}return this._setMinimum;
},setter:function(P){this._setMinimum=this._getNumber(P);this.fire("dataChange");}}};C.extend(G,C.BaseAxis,{GUID:"yuitimeaxis",_dataType:"time",_setDataByKey:function(T){var U,Q=[],S=this._dataClone.concat(),R,V,P=S.length;for(R=0;R<P;++R){U=S[R][T];if(C.Lang.isDate(U)){V=U.valueOf();}else{if(!C.Lang.isNumber(U)){V=new Date(U.toString()).valueOf();}else{V=U;}}Q[R]=V;}this._keys[T]=Q;this._data=this._data.concat(Q);},_getNumber:function(P){if(C.Lang.isDate(P)){P=P.valueOf();}else{if(!C.Lang.isNumber(P)){P=new Date(P.toString()).valueOf();}}return P;},updateMaxByPosition:function(R,P){var Q=this._dataMaximum-this._dataMinimum,S=(R/P)*Q;S+=this._dataMinimum;this.set("maximum",S);},updateMinByPosition:function(R,P){var Q=this._dataMaximum-this._dataMinimum,S=(R/P)*Q;S+=this._dataMinimum;this.set("minimum",S);},updateMinAndMaxByPosition:function(R,T,Q){var S=R/Q,P=T/Q;S+=this._dataMinimum;P+=this._dataMaximum;this._setMaximum=this._getNumber(P);this._setMinimum=this._getNumber(S);this.fire("dataChange");},getFormattedLabel:function(Q,P){return C.DataType.Date.format(C.DataType.Date.parse(Q),{format:P});}});C.TimeAxis=G;function D(P){D.superclass.constructor.apply(this,arguments);}D.NAME="categoryAxis";C.extend(D,C.BaseAxis,{GUID:"yuicategoryaxis",_dataType:"category",_getKeyValueAt:function(Q,P){var R=NaN;if(this.keys[Q]){R=P;}return R;},_updateMinAndMax:function(){this._dataMaximum=Math.max(this._data.length-1,0);this._dataMinimum=0;},_setDataByKey:function(T){var S,U,Q=[],V=[],R=this._dataClone.concat(),P=R.length;for(S=0;S<P;++S){U=R[S];Q[S]=S;V[S]=U[T];}this._keys[T]=Q;this._data=this._data.concat(V);},getTotalMajorUnits:function(Q,P){return this._data.length;},getLabelAtPosition:function(T,P,S){var R=this._data.length-1,Q=Math.round(T/(P/R));return this._data[Q];}});C.CategoryAxis=D;function J(P){this._createId();J.superclass.constructor.apply(this,arguments);}J.NAME="renderer";J.ATTRS={width:{getter:function(){return this._width;},setter:function(P){this._width=P;return P;}},height:{getter:function(){return this._height;},setter:function(P){this._height=P;return P;}},rendering:{getter:function(){return this._rendering;},setter:function(P){this._rendering=P;return P;}},previousWidth:{getter:function(){return this._previousWidth;},validator:function(P){return C.Lang.isNumber(P)&&(this._previousWidth!==P);},setter:function(P){this._previousWidth=P;return P;}},previousHeight:{getter:function(){return this._previousHeight;},validator:function(P){return C.Lang.isNumber(P)&&(this._previousHeight!==P);},setter:function(P){this._previousHeight=P;return P;}},styles:{value:{},getter:function(){this._styles=this._styles||this._getDefaultStyles();return this._styles;},setter:function(P){this._styles=this._setStyles(P);return this._styles;},validator:function(P){return C.Lang.isObject(P);}}};C.extend(J,C.Base,{GUID:"yuirenderer",_createId:function(){this._id=C.guid(this.GUID);},_width:0,_height:0,_styles:null,_rendering:false,_previousWidth:0,_previousHeight:0,_hasFlag:false,_hasLaterFlag:false,_renderFlags:{},_laterFlags:{},_styleObjHash:null,_setStyles:function(Q){var P=this.get("styles");return this._mergeStyles(Q,P);},_mergeStyles:function(Q,P){C.Object.each(Q,function(T,S,R){if(P.hasOwnProperty(S)&&C.Lang.isObject(T)){P[S]=this._mergeStyles(T,P[S]);}else{P[S]=T;}},this);return P;},callRender:function(){if(!this.get("rendering")){this.set("rendering",true);this.render();this.clearFlags();this._updateRenderStatus();}},_updateRenderStatus:function(){this.set("rendering",false);this._dispatchRenderEvents();},_dispatchRenderEvents:function(){var P={type:"renderComplete"};P.changeFlags=this._renderFlags;this.fire(P.type,P);if(this._hasFlag){this.callRender();}},setFlag:function(P){if(!this._hasFlag){this._hasFlag=true;}this._renderFlags[P]=true;},setLaterFlag:function(P){if(!this._hasLaterFlag){this._hasLaterFlag=true;}this._laterFlags[P]=true;},setFlags:function(R){var Q=0,P=R.length;for(;Q<P;Q++){this.setFlag(R[Q]);}},clearFlags:function(){var P;this._renderFlags={};this._hasFlag=false;for(P in this._laterFlags){if(this._laterFlags.hasOwnProperty(P)){this._renderFlags[P]=this._laterFlags[P];this._hasFlag=true;}}this._hasLaterFlag=false;this._laterFlags={};},checkFlag:function(P){return this._renderFlags[P];},checkFlags:function(P){var R=false,Q;for(Q in P){if(this._renderFlags[Q]){R=true;break;}}return R;},_getDefaultStyles:function(){return{};}});C.Renderer=J;function E(P){E.superclass.constructor.apply(this,arguments);}E.NAME="cartesianSeries";E.ATTRS={parent:{lazyAdd:false,getter:function(){return this._parent;},setter:function(P){if(C.Lang.isString(P)){this._parent=document.getElementById(P);}else{this._parent=P;}this._setCanvas();return this._parent;}},type:{getter:function(){return this._type;},setter:function(P){this._type=P;return P;}},order:{getter:function(){return this._order;},setter:function(P){this._order=P;return P;}},xcoords:{getter:function(){return this._xcoords;},setter:function(P){this._xcoords=P;return P;}},ycoords:{getter:function(){return this._ycoords;},setter:function(P){this._ycoords=P;return P;}},graph:{getter:function(){return this._graph;},setter:function(P){this._graph=P;return P;}},xAxis:{getter:function(){return this._xAxis;},validator:function(P){return P!==this._xAxis;},setter:function(P){this._xAxis=P;this._xAxis.on("axisReady",C.bind(this.xAxisChangeHandler,this));this._xAxis.on("dataChange",C.bind(this.xAxisChangeHandler,this));this.setFlag("axisDataChange");return P;},lazyAdd:false},yAxis:{getter:function(){return this._yAxis;},validator:function(P){return P!==this._yAxis;},setter:function(P){this._yAxis=P;this._yAxis.on("axisReady",C.bind(this.yAxisChangeHandler,this));this.setFlag("axisDataChange");return P;},lazyAdd:false},xKey:{getter:function(){return this._xKey;},validator:function(P){return P!==this._xKey;},setter:function(P){this._xKey=P;this.setFlag("xKeyChange");return P;}},yKey:{getter:function(){return this._yKey;},validator:function(P){return P!==this._yKey;
},setter:function(P){this._yKey=P;this.setFlag("yKeyChange");return P;}},graphic:{getter:function(){return this._graphic;},setter:function(P){this._graphic=P;return P;}}};C.extend(E,C.Renderer,{GUID:"yuicartesianseries",_setCanvas:function(){this._graphic=new C.Graphic();this._graphic.render(this.get("parent"));},_parent:null,_graphic:null,xAxisChangeHandler:function(P){if(this.get("xKey")){this.setFlag("axisDataChange");}if(this.get("yKey")){this.callRender();}},yAxisChangeHandler:function(P){if(this.get("yKey")){this.setFlag("axisDataChange");}if(this.get("xKey")){this.callRender();}},_type:"cartesian",_order:NaN,_xcoords:[],_xKey:null,_ycoords:[],_graph:null,_xAxis:null,_yAxis:null,_yKey:null,_xMin:NaN,_xMax:NaN,_yMin:NaN,_yMax:NaN,_xCoords:[],setAreaData:function(){var m,l,X=this.get("parent"),Y=X.offsetWidth,f=X.offsetHeight,a=this.get("styles").padding,c=a.left,k=a.top,V=Y-(c+a.right),e=f-(k+a.bottom),b=[],o=[],n=this.get("xAxis").get("maximum"),j=this.get("xAxis").get("minimum"),Q=this.get("yAxis").get("maximum"),P=this.get("yAxis").get("minimum"),R=this.get("xKey"),U=this.get("yKey"),T=V/(n-j),Z=e/(Q-P),S=this.get("xAxis").getDataByKey(R),g=this.get("yAxis").getDataByKey(U),W=S.length,d;this._leftOrigin=Math.round(((0-j)*T)+c);this._bottomOrigin=Math.round((e+k)-(0-P)*Z);for(d=0;d<W;++d){m=Math.round((((S[d]-j)*T)+c));l=Math.round(((e+k)-(g[d]-P)*Z));b.push(m);o.push(l);}this.set("xcoords",b);this.set("ycoords",o);},_leftOrigin:null,_bottomOrigin:null,drawGraph:function(){this.drawMarkers();},initialize:function(){this._initialized=true;this.setFlag("drawGraph");this.callRender();},_initialized:false,render:function(){var Q=this.checkDataFlags(),S=this.checkResizeFlags(),W=this.checkStyleFlags(),U=this.get("parent"),P=U.offsetWidth,T=U.offsetHeight,V=this.get("xAxis"),R=this.get("yAxis");if(Q){this._xMin=V.get("minimum");this._xMax=V.get("maximum");this._yMin=R.get("minimum");this._yMax=R.get("maximum");}if((S||Q)&&(!isNaN(P)&&!isNaN(T)&&P>0&&T>0)){this.setAreaData();if(this.get("xcoords")&&this.get("ycoords")&&this._initialized){this.setLaterFlag("drawGraph");}return;}if(this.checkFlag("drawGraph")||(W&&this._xcoords&&this._ycoords)){this.drawGraph();}},drawMarkers:function(){if(this._xcoords.length<1){return;}var Y=this.get("graphic"),j=this.get("styles").marker,W=j.width,g=j.height,T=j.fillColor,S=j.fillAlpha,X=j.fillType||"solid",l=j.borderWidth,P=j.borderColor,b=j.borderAlpha||1,V=j.colors,U=j.alpha||[],a=j.ratios||[],d=j.rotation||0,Z=this._xcoords,k=this._ycoords,R=j.func||"drawCircle",e=0,f=Z.length,c=k[0],Q;for(;e<f;++e){c=k[e];Q=Z[e];if(l>0){Y.lineStyle(l,P,b);}if(X==="solid"){Y.beginFill(T,S);}else{Y.beginGradientFill(X,V,U,a,{rotation:d,width:W,height:g});}this.drawMarker(Y,R,Q,c,W,g);Y.endFill();}},drawMarker:function(U,R,T,S,P,Q){if(R==="drawCircle"){U.drawCircle(T,S,P/2);}else{T-=P/2;S-=Q/2;U[R].call(U,T,S,P,Q);}},checkDataFlags:function(){return this.checkFlags({axisDataChange:true,xKeyChange:true,yKeyChange:true});},checkResizeFlags:function(){return this.checkFlags({padding:true,resize:true});},checkStyleFlags:function(){return false;},_getDefaultStyles:function(){return{padding:{top:0,left:0,right:0,bottom:0}};}});C.CartesianSeries=E;function F(P){F.superclass.constructor.apply(this,arguments);}F.name="lineSeries";F.ATTRS={type:{getter:function(){return this._type;}}};C.extend(F,C.CartesianSeries,{GUID:"yuilineseries",_type:"line",checkStyleFlags:function(){return this.checkFlags({color:true,weight:true,alpha:true,type:true,marker:true,dashLength:true,gapLength:true,connectDiscontinuousPoints:true,discontinuousType:true,discontinuousDashLength:true,discontinuousGapLength:true});},drawGraph:function(){var P=this.get("styles");if(P.showLines){this.drawLines();}if(P.showMarkers){this.drawMarkers();}},drawLines:function(){if(this._xcoords.length<1){return;}var S=this.get("parent"),h=S.offsetHeight,Y=this._xcoords,k=this._ycoords,b=Y.length,R=Y[0],Q=k[0],j=R,f=Q,e,c,a,U=this.get("styles"),d=U.lineType,g=U.dashLength,W=U.gapSpace,V=U.connectDiscontinuousPoints,P=U.discontinuousType,T=U.discontinuousDashLength,Z=U.discontinuousGapSpace,X=this.get("graphic");X.clear();X.lineStyle(U.weight,U.color);X.beginFill(U.color,0.5);X.moveTo(R,Q);for(a=1;a<b;a=++a){e=Y[a];c=k[a];if(isNaN(c)){j=e;f=c;continue;}if(j==R){if(d!="dashed"){X.lineTo(e,c);}else{this.drawDashedLine(j,f,e,c,g,W);}}else{if(!V){X.moveTo(e,c);}else{if(P!="solid"){this.drawDashedLine(j,f,e,c,T,Z);}else{X.lineTo(e,c);}}}R=j=e;Q=f=c;}X.lineTo(R,h);X.lineTo(0,h);X.lineTo(0,k[0]);X.endFill();},drawDashedLine:function(a,e,Q,c,S,R){S=S||10;R=R||10;var U=S+R,X=Q-a,b=c-e,d=Math.sqrt(Math.pow(X,2)+Math.pow(b,2)),V=Math.floor(Math.abs(d/U)),T=Math.atan2(b,X),Z=a,Y=e,W,P=this.get("graphic");X=Math.cos(T)*U;b=Math.sin(T)*U;for(W=0;W<V;++W){P.moveTo(Z,Y);P.lineTo(Z+Math.cos(T)*S,Y+Math.sin(T)*S);Z+=X;Y+=b;}P.moveTo(Z,Y);d=Math.sqrt((Q-Z)*(Q-Z)+(c-Y)*(c-Y));if(d>S){P.lineTo(Z+Math.cos(T)*S,Y+Math.sin(T)*S);}else{if(d>0){P.lineTo(Z+Math.cos(T)*d,Y+Math.sin(T)*d);}}P.moveTo(Q,c);},_getDefaultStyles:function(){return{color:"#000000",alpha:1,weight:1,marker:{fillColor:"#000000",alpha:1,weight:1,width:6,height:6},showMarkers:false,showLines:true,lineType:"solid",dashLength:10,gapSpace:10,connectDiscontinuousPoint:true,discontinuousType:"dashed",discontinuousDashLength:10,discontinuousGapSpace:10,padding:{top:0,left:0,right:0,bottom:0}};}});C.LineSeries=F;function M(P){M.superclass.constructor.apply(this,arguments);}M.name="columnSeries";M.ATTRS={type:{getter:function(){return this._type;}}};C.extend(M,C.CartesianSeries,{GUID:"yuicolumnseries",_type:"column",drawMarkers:function(){if(this._xcoords.length<1){return;}var f=this.get("graphic"),t=this.get("styles").marker,d=t.width,s=t.height,X=t.fillColor,W=t.fillAlpha,e=t.fillType||"solid",v=t.borderWidth,P=t.borderColor,k=t.borderAlpha||1,c=t.colors,Y=t.alpha||[],j=t.ratios||[],n=t.rotation||0,g=this._xcoords,u=this._ycoords,V=t.func||"drawCircle",p=0,r=g.length,l=u[0],T=this.get("type"),R=this.get("graph"),b=R.seriesTypes[T],q=b.length,Q=0,S=0,Z=0,a,m,o=this.get("order"),U;
for(;p<q;++p){m=b[p];Q+=m.get("styles").marker.width;if(o>p){Z=Q;}}S=r*Q;if(S>this.get("parent").offsetWidth){a=this.width/S;Q*=a;Z*=a;d*=a;d=Math.max(d,1);}Z-=Q/2;for(p=0;p<r;++p){l=u[p];U=g[p]+Z;if(v>0){f.lineStyle(v,P,k);}if(e==="solid"){f.beginFill(X,W);}else{f.beginGradientFill(e,c,Y,j,{rotation:n,width:d,height:s});}this.drawMarker(f,V,U,l,d,s);f.endFill();}},drawMarker:function(U,R,T,S,P,Q){Q=this._bottomOrigin-S;U.drawRect(T,S,P,Q);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});C.ColumnSeries=M;function B(P){B.superclass.constructor.apply(this,arguments);}B.NAME="graphstack";B.ATTRS={seriesCollection:{lazyAdd:false,getter:function(){return this._seriesCollection;},setter:function(P){this._parseSeriesCollection(P);return this._seriesCollection;}},parent:{getter:function(){return this._parent;},setter:function(P){this._parent=P;return P;}}};C.extend(B,C.Base,{GUID:"yuigraphstack",_parent:null,_seriesCollection:null,seriesTypes:null,_parseSeriesCollection:function(S){var P=S.length,R=0,Q;if(!S){return;}if(!this._seriesCollection){this._seriesCollection=[];}if(!this.seriesTypes){this.seriesTypes=[];}for(;R<P;++R){Q=S[R];if(C.Lang.isObject(Q)){this._createSeries(Q);continue;}this.addSeries(Q);}P=this._seriesCollection.length;for(R=0;R<P;++R){this._seriesCollection[R].initialize();}},_addSeries:function(R){var S=R.get("type"),U=this._seriesCollection,T=U.length,Q=this.seriesTypes,P;if(!R.get("graph")){R.set("graph",this);}R.graphOrder=T;U.push(R);if(!Q.hasOwnProperty(S)){this.seriesTypes[S]=[];}P=this.seriesTypes[S];R.set("order",P.length);P.push(R);this.fire("seriesAdded",R);},_createSeries:function(T){var U=T.type,V=this._seriesCollection,R=this.seriesTypes,Q,P,S;T.graph=this;T.parent=this.get("parent");if(!R.hasOwnProperty(U)){R[U]=[];}Q=R[U];T.graph=this;T.order=Q.length;P=this._getSeries(T.type);S=new P(T);Q.push(S);V.push(S);},_getSeries:function(P){var Q;switch(P){case"line":Q=C.LineSeries;break;case"column":Q=C.ColumnSeries;break;default:Q=C.CartesianSeries;break;}return Q;}});C.GraphStack=B;function I(P){I.superclass.constructor.apply(this,arguments);}I.NAME="AxisRenderer";I.ATTRS={graphic:{getter:function(){return this._graphic;},setter:function(P){this._graphic=P;return P;}},parent:{lazyAdd:false,getter:function(){return this._parent;},setter:function(P){if(C.Lang.isString(P)){this._parent=document.getElementById(P);}else{this._parent=P;}this._setCanvas();return this._parent;}},axis:{getter:function(){return this._axis;},validator:function(P){return P!==this._axis;},setter:function(P){this._axis=P;this._axis.on("axisReady",C.bind(this.axisChangeHandler,this));this._axis.on("dataChange",C.bind(this.axisChangeHandler,this));this.setFlag("axisDataChange");return P;},lazyAdd:false},topTickOffset:{getter:function(){return this._topTickOffset;},setter:function(P){this._topTickOffset=P;return P;}},bottomTickOffset:{getter:function(){return this._bottomTickOffset;},setter:function(P){this._bottomTickOffset=P;return P;}},leftTickOffset:{getter:function(){return this._leftTickOffset;},setter:function(P){this._leftTickOffset=P;return P;}},rightTickOffset:{getter:function(){return this._rightTickOffset;},setter:function(P){this._rightTickOffset=P;return P;}},maxTickLength:{getter:function(){return this._maxTickLength;},setter:function(P){this._maxTickLength=P;}}};C.extend(I,C.Renderer,{axisChangeHandler:function(P){this.setFlag("data");this.callRender();},_node:null,GUID:"yuiaxisrenderer",_graphic:null,_parent:null,_setCanvas:function(){var P=this.get("parent"),Q=document.createElement("div");P.appendChild(Q);Q.style.position="absolute";Q.style.display="block";Q.style.top=P.style.top;Q.style.left=P.style.left;Q.style.width=P.offsetWidth+"px";Q.style.minHeight=P.offsetHeight+"px";this._node=Q;this._graphic=new C.Graphic();this._graphic.render(this._node);},_keys:null,render:function(){var Q=this.get("styles").position,P=this.checkFlag("position");if(!Q){return;}if(P||!this._layout){this._layout=this.getLayout(Q);}if(this.checkFlag("calculateSizeByTickLength")){this.calculateSizeByTickLength=this.get("styles").calculateSizeByTickLength;}if(this.checkFlag("dataFormat")||this.checkFlag("majorTicks")||P||this.checkFlag("padding")||this.checkFlag("data")||this.checkFlag("resize")||this.checkFlag("majorUnit")||this.checkFlag("label")||this.checkFlag("styles")||this.checkFlag("calculateSizeByTickLength")){this.drawAxis();}},_layout:null,getLayout:function(Q){var P;switch(Q){case"top":P=new C.TopAxisLayout({axisRenderer:this});break;case"bottom":P=new C.BottomAxisLayout({axisRenderer:this});break;case"left":P=new C.LeftAxisLayout({axisRenderer:this});break;case"right":P=new C.RightAxisLayout({axisRenderer:this});break;}return P;},drawLine:function(R,Q,P){var S=this.get("graphic");S.lineStyle(P.weight,P.color,P.alpha);S.moveTo(R.x,R.y);S.lineTo(Q.x,Q.y);S.endFill();},drawAxis:function(){var Q=this.get("styles"),Z=Q.majorTicks,a=Z.display!="none",T,Y=Q.majorUnit,S=this.get("axis"),X,b,U=0,R,V,W,c,P=this.get("graphic");P.clear();this._layout.setTickOffsets();R=this.getLength();W=this._layout.getLineStart();T=this.getFirstPoint(W);this.drawLine(W,this.getLineEnd(T),this.get("styles").line);if(a){this._layout.drawTick(T,Z);}X=S.getTotalMajorUnits(Y,R);if(X<1){return;}b=R/(X-1);for(;U<X;++U){if(a){this._layout.drawTick(T,Z);}V=this.getPosition(T);c=this.getLabel(T,S.getLabelAtPosition(V,R));this._layout.positionLabel(c,this._layout.getLabelPoint(T));T=this.getNextPoint(T,b);}if(this._calculateSizeByTickLength){this._layout.offsetNodeForTick(this._node);}},getLabel:function(R,P,T){var Q=document.createElement("div"),S=document.createTextNode(P);Q.nodeValue=P;Q.style.display="block";Q.style.position="absolute";this._node.appendChild(Q);Q.appendChild(S);return Q;},_calculateSizeByTickLength:true,getLineEnd:function(R){var P=this._node.offsetWidth,Q=this._node.offsetHeight,S=this.get("styles").position;
if(S==="top"||S==="bottom"){return{x:P,y:R.y};}else{return{x:R.x,y:Q};}},getLength:function(){var Q,S=this.get("styles"),T=S.padding,P=this._node.offsetWidth,R=this._node.offsetHeight,U=S.position;if(U==="top"||U==="bottom"){Q=P-(T.left+T.right);}else{Q=R-(T.top+T.bottom);}return Q;},getFirstPoint:function(S){var P=this.get("styles"),T=P.position,R=P.padding,Q={x:S.x,y:S.y};if(T==="top"||T==="bottom"){Q.x+=R.left;}else{Q.y+=R.top;}return Q;},getNextPoint:function(P,R){var Q=this.get("styles"),S=Q.position;if(S==="top"||S==="bottom"){P.x=P.x+R;}else{P.y=P.y+R;}return P;},getLastPoint:function(){var Q=this.get("styles"),R=Q.padding,P=this._node.offsetWidth,S=Q.position;if(S==="top"||S==="bottom"){return{x:P-R.right,y:R.top};}else{return{x:R.left,y:R.top};}},getPosition:function(P){var T,R=this._node.offsetHeight,Q=this.get("styles"),S=Q.padding,U=Q.position;if(U==="left"||U==="right"){T=(R-(S.top+S.bottom))-(P.y-S.top);}else{T=P.x-S.left;}return T;},_leftTickOffset:0,_topTickOffset:0,_rightTickOffset:0,_bottomTickOffset:0,_maxTickLength:0,_getDefaultStyles:function(){return{majorTicks:{display:"inside",length:4,color:"#000000",weight:1,alpha:1},minorTicks:{display:"none",length:2,color:"#000000",weight:1},line:{weight:1,color:"#000000",alpha:1},majorUnit:{determinant:"count",count:5,distance:75},padding:{top:0,left:0,right:0,bottom:0},calculateSizeByTickLength:false,hideOverlappingLabelTicks:false};}});C.AxisRenderer=I;function H(P){H.superclass.constructor.apply(this,arguments);}H.ATTRS={axisRenderer:{lazyAdd:false,getter:function(){return this._axisRenderer;},setter:function(P){this._axisRenderer=P;return P;}}};C.extend(H,C.Base,{_axisRenderer:null,setTickOffsets:function(){var P=this.get("axisRenderer"),T=P.get("styles").majorTicks,R=T.length,Q=R*0.5,S=T.display;P.set("topTickOffset",0);P.set("bottomTickOffset",0);P.set("maxTickLength",R);switch(S){case"inside":P.set("rightTickOffset",R);break;case"outside":P.set("leftTickOffset",R);break;case"cross":P.set("rightTickOffset",Q);P.set("leftTickOffset",Q);break;}},getLineStart:function(){var P=this.get("axisRenderer"),Q=P.get("styles"),U=Q.padding,V=Q.majorTicks,R=V.length,T=V.display,S={x:U.left,y:0};if(T==="outside"){S.x+=R;}else{if(T==="cross"){S.x+=R/2;}}return S;},drawTick:function(V,T){var Q=this.get("axisRenderer"),R=Q.get("styles"),U=R.padding,S=T.length,W={x:U.left,y:V.y},P={x:S+U.left,y:V.y};Q.drawLine(W,P,T);},getLabelPoint:function(P){var Q=this.get("axisRenderer");return{x:P.x-Q.get("leftTickOffset"),y:P.y};},positionLabel:function(X,Z){var T=this.get("axisRenderer"),P=T.get("styles").label,R=0,V=0,S=Math.min(90,Math.max(-90,P.rotation)),U=Math.abs(S),W=Math.PI/180,Y=Math.sin(U*W),Q=Math.cos(U*W);if(S===0){R=X.offsetWidth;V=X.offsetHeight*0.5;X.style.left=(Z.x-R)+"px";X.style.top=(Z.y-V)+"px";}else{if(S===90){R=0;V=X.offsetWidth*0.5;X.style.left=(Z.x-R)+"px";X.style.top=(Z.y-V)+"px";}else{if(S===-90){R=X.offsetHeight;V=X.offsetWidth*0.5;X.style.left=(Z.x-R)+"px";X.style.top=(Z.y+V)+"px";}else{if(S<0){R=(Q*X.offsetWidth)+(Y*X.offsetHeight);V=(Y*X.offsetWidth)-(Q*(X.offsetHeight*0.6));X.style.left=(Z.x-R)+"px";X.style.top=(Z.y+V)+"px";}else{V=(Y*X.offsetWidth)+(Q*(X.offsetHeight*0.6));R=(Q*X.offsetWidth);X.style.left=(Z.x-R)+"px";X.style.top=(Z.y-V)+"px";}}}}X.style.MozTransformOrigin="0 0";X.style.MozTransform="rotate("+S+"deg)";X.style.webkitTransformOrigin="0 0";X.style.webkitTransform="rotate("+S+"deg)";},offsetNodeForTick:function(R){var U,P=this.get("axisRenderer"),T=P.get("styles").majorTicks,Q=T.length,S=T.display;if(S==="inside"){R.style.marginRight=(0-Q)+"px";}else{if(S==="cross"){R.style.marginRight=(0-(Q*0.5))+"px";}}}});C.LeftAxisLayout=H;function A(P){A.superclass.constructor.apply(this,arguments);}A.ATTRS={axisRenderer:{lazyAdd:false,getter:function(){return this._axisRenderer;},setter:function(P){this._axisRenderer=P;return P;}}};C.extend(A,C.Base,{_axisRenderer:null,setTickOffsets:function(){var P=this.get("axisRenderer"),T=P.get("styles").majorTicks,R=T.length,Q=R*0.5,S=T.display;P.set("topTickOffset",0);P.set("bottomTickOffset",0);P.set("maxTickLength",R);switch(S){case"inside":P.set("leftTickOffset",R);break;case"outside":P.set("rightTickOffset",R);break;case"cross":P.set("rightTickOffset",Q);P.set("leftTickOffset",Q);break;}},drawTick:function(V,T){var Q=this.get("axisRenderer"),R=Q.get("styles"),U=R.padding,S=T.length,W={x:U.left,y:V.y},P={x:U.left+S,y:V.y};Q.drawLine(W,P,T);},getLineStart:function(){var P=this.get("axisRenderer"),Q=P.get("styles"),U=Q.padding,V=Q.majorTicks,R=V.length,T=V.display,S={x:0,y:U.top};if(T==="inside"){S.x+=R;}else{if(T==="cross"){S.x+=R/2;}}return S;},getLabelPoint:function(P){var Q=this.get("axisRenderer");return{x:P.x+Q.get("rightTickOffset"),y:P.y};},positionLabel:function(X,Z){var T=this.get("axisRenderer"),P=T.get("styles").label,R=0,V=0,S=P.rotation,U=Math.abs(S),W=Math.PI/180,Y=Math.sin(U*W),Q=Math.cos(U*W);S=Math.min(90,S);S=Math.max(-90,S);if(S===0){V=X.offsetHeight*0.5;X.style.left=Z.x+"px";X.style.top=(Z.y-V)+"px";}else{if(S===90){R=X.offsetHeight;V=X.offsetWidth*0.5;X.style.left=(Z.x+R)+"px";X.style.top=(Z.y-V)+"px";}else{if(S===-90){V=X.offsetWidth*0.5;X.style.left=Z.x+"px";X.style.top=(Z.y+V)+"px";}else{if(S<0){V=(Q*(X.offsetHeight*0.6));X.style.left=Z.x+"px";X.style.top=(Z.y-V)+"px";}else{V=Q*(X.offsetHeight*0.6);R=Y*X.offsetHeight;X.style.left=(Z.x+R)+"px";X.style.top=(Z.y-V)+"px";}}}}X.style.MozTransformOrigin="0 0";X.style.MozTransform="rotate("+S+"deg)";X.style.webkitTransformOrigin="0 0";X.style.webkitTransform="rotate("+S+"deg)";},offsetNodeForTick:function(R){var U,P=this.get("axisRenderer"),T=P.get("styles").majorTicks,Q=T.length,S=T.display;if(S==="inside"){R.style.marginLeft=(0-Q)+"px";}else{if(S==="cross"){R.style.marginLeft=(0-(Q*0.5))+"px";}}}});C.RightAxisLayout=A;function L(P){L.superclass.constructor.apply(this,arguments);}L.ATTRS={axisRenderer:{lazyAdd:false,getter:function(){return this._axisRenderer;},setter:function(P){this._axisRenderer=P;return P;
}}};C.extend(L,C.Base,{_axisRenderer:null,setTickOffsets:function(){var P=this.get("axisRenderer"),T=P.get("styles").majorTicks,R=T.length,Q=R*0.5,S=T.display;P.set("leftTickOffset",0);P.set("rightTickOffset",0);P.set("maxTickLength",R);switch(S){case"inside":P.set("topTickOffset",R);break;case"outside":P.set("bottomTickOffset",R);break;case"cross":P.set("topTickOffset",Q);P.set("bottomTickOffset",Q);break;}},getLineStart:function(){var P=this.get("axisRenderer"),Q=P.get("styles"),U=Q.padding,V=Q.majorTicks,R=V.length,T=V.display,S={x:0,y:U.top};if(T==="inside"){S.y+=R;}else{if(T==="cross"){S.y+=R/2;}}return S;},drawTick:function(V,T){var Q=this.get("axisRenderer"),R=Q.get("styles"),U=R.padding,S=T.length,W={x:V.x,y:U.top},P={x:V.x,y:S+U.top};Q.drawLine(W,P,T);},getLabelPoint:function(P){var Q=this.get("axisRenderer");return{x:P.x,y:P.y+Q.get("bottomTickOffset")};},positionLabel:function(X,Z){var T=this.get("axisRenderer"),P=T.get("styles").label,R=0,V=0,S=P.rotation,U=Math.abs(S),W=Math.PI/180,Y=Math.sin(U*W),Q=Math.cos(U*W);S=Math.min(90,S);S=Math.max(-90,S);if(S===0){R=X.offsetWidth*0.5;X.style.left=(Z.x-R)+"px";X.style.top=(Z.y-V)+"px";}else{if(Math.abs(S)===90){R=X.offsetWidth*0.5;V=X.offsetHeight*0.5;X.style.left=(Z.x-R)+"px";X.style.top=((Z.y-V)+R)+"px";}else{if(S<0){R=(Q*X.offsetWidth)+(Y*(X.offsetHeight*0.6));V=(Y*X.offsetWidth);X.style.left=(Z.x-R)+"px";X.style.top=(Z.y+V)+"px";}else{V=Y*(X.offsetHeight*0.6);R=Y*(X.offsetHeight*0.6);X.style.left=(Z.x+R)+"px";X.style.top=(Z.y)+"px";}}}X.style.MozTransformOrigin="0 0";X.style.MozTransform="rotate("+S+"deg)";X.style.webkitTransformOrigin="0 0";X.style.webkitTransform="rotate("+S+"deg)";},offsetNodeForTick:function(R){var U,P=this.get("axisRenderer"),T=P.get("styles").majorTicks,Q=T.length,S=T.display;if(S==="inside"){R.style.marginTop=(0-Q)+"px";}else{if(S==="cross"){R.style.marginTop=(0-(Q*0.5))+"px";}}}});C.BottomAxisLayout=L;function O(P){O.superclass.constructor.apply(this,arguments);}O.ATTRS={axisRenderer:{lazyAdd:false,getter:function(){return this._axisRenderer;},setter:function(P){this._axisRenderer=P;return P;}}};C.extend(O,C.Base,{_axisRenderer:null,setTickOffsets:function(){var P=this.get("axisRenderer"),T=P.get("styles").majorTicks,R=T.length,Q=R*0.5,S=T.display;P.set("leftTickOffset",0);P.set("rightTickOffset",0);P.set("maxTickLength",R);switch(S){case"inside":P.set("bottomTickOffset",R);break;case"outside":P.set("topTickOffset",R);break;case"cross":P.set("topTickOffset",Q);P.set("bottomTickOffset",Q);break;}},getLineStart:function(){var P=this.get("axisRenderer"),Q=P.get("styles"),U=Q.padding,V=Q.majorTicks,R=V.length,T=V.display,S={x:0,y:U.top};if(T==="outside"){S.y+=R;}else{if(T==="cross"){S.y+=R/2;}}return S;},drawTick:function(V,T){var Q=this.get("axisRenderer"),R=Q.get("styles"),U=R.padding,S=T.length,W={x:V.x,y:U.top},P={x:V.x,y:S+U.top};Q.drawLine(W,P,T);},getLabelPoint:function(Q){var P=this.get("axisRenderer");return{x:Q.x,y:Q.y-P.get("topTickOffset")};},positionLabel:function(X,Z){var T=this.get("axisRenderer"),P=T.get("styles").label,R=0,V=0,S=Math.max(-90,Math.min(90,P.rotation)),U=Math.abs(S),W=Math.PI/180,Y=Math.sin(U*W),Q=Math.cos(U*W);if(S===0){R=X.offsetWidth*0.5;V=X.offsetHeight;X.style.left=(Z.x-R)+"px";X.style.top=((Z.y-V))+"px";}else{if(S===90){R=X.offsetHeight*0.5;V=X.offsetWidth;X.style.left=(Z.x+R)+"px";X.style.top=(Z.y-V)+"px";}else{if(S===-90){R=X.offsetHeight*0.5;V=0;X.style.left=(Z.x-R)+"px";X.style.top=(Z.y-V)+"px";}else{if(S<0){R=(Y*(X.offsetHeight*0.6));V=(Q*X.offsetHeight);X.style.left=(Z.x-R)+"px";X.style.top=(Z.y-V)+"px";}else{V=(Y*X.offsetWidth)+(Q*X.offsetHeight);R=(Q*X.offsetWidth)-(Y*(X.offsetHeight*0.6));X.style.left=(Z.x-R)+"px";X.style.top=(Z.y-V)+"px";}}}}X.style.MozTransformOrigin="0 0";X.style.MozTransform="rotate("+S+"deg)";X.style.webkitTransformOrigin="0 0";X.style.webkitTransform="rotate("+S+"deg)";},offsetNodeForTick:function(R){var U,P=this.get("axisRenderer"),T=P.get("styles").majorTicks,Q=T.length,S=T.display;if(S==="inside"){R.style.marginBottom=(0-Q)+"px";}else{if(S==="cross"){R.style.marginBottom=(0-(Q*0.5))+"px";}}}});C.TopAxisLayout=O;},"@VERSION@");