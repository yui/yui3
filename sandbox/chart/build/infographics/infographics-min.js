YUI.add("infographics",function(B){function O(Y){this._createId();this._keys={};this._data=[];O.superclass.constructor.apply(this,arguments);}O.NAME="baseAxis";O.ATTRS={parent:{lazyAdd:false,value:null},roundingUnit:{getter:function(){return this._roundingUnit;},setter:function(Y){this._roundingUnit=Y;if(this._roundMinAndMax){this._updateMinAndMax();}return Y;}},roundMinAndMax:{getter:function(){return this._roundMinAndMax;},setter:function(Y){if(this._roundMinAndMax==Y){return Y;}this._roundMinAndMax=Y;this._updateMinAndMax();}},dataType:{getter:function(){return this._dataType;}},dataProvider:{getter:function(){return this._dataProvider;},setter:function(Y){if(Y===this._dataProvider){return;}if(this._dataProvider){}Y=B.merge(Y);this._dataProvider={data:Y.data.concat()};this._dataClone=this._dataProvider.data.concat();return Y;},lazyAdd:false},dataMaximum:{getter:function(){return this._dataMaximum;}},maximum:{getter:function(){if(this._autoMax||!this._setMaximum){return this._dataMaximum;}return this._setMaximum;},setter:function(Y){this._setMaximum=Y;}},dataMinimum:{getter:function(){return this._dataMinimum;}},minimum:{getter:function(){if(this._autoMin||!this._setMinimum){return this._dataMinimum;}return this._setMinimum;},setter:function(Y){this._setMinimum=Y;return Y;}},autoMax:{getter:function(){return this._autoMax;},setter:function(Y){this._autoMax=Y;}},autoMin:{getter:function(){return this._autoMin;},setter:function(Y){this._autoMin=Y;}},data:{getter:function(){return this._data;}},keys:{getter:function(){return this._keys;}}};B.extend(O,B.Base,{GUID:"yuibaseaxis",_createId:function(){this._id=B.guid(this.GUID);},_roundingUnit:NaN,_roundMinAndMax:true,_dataType:null,_dataProvider:null,_dataClone:null,_setMaximum:null,_dataMaximum:null,_autoMax:true,_setMinimum:null,_dataMinimum:null,_autoMin:true,_data:null,_keys:null,_axisReady:false,addKey:function(b){if(this._keys.hasOwnProperty(b)){return;}this._dataClone=this._dataProvider.data.concat();var a=this._keys,Y={},Z={axis:this};this._setDataByKey(b);Y[b]=a[b].concat();this._updateMinAndMax();Z.keysAdded=Y;if(!this._dataReady){this._dataReady=true;this.publish("axisReady",{fireOnce:true});this.fire("axisReady",Z);}else{this.fire("axisUpdate",Z);}},_setDataByKey:function(c){var b,d,Z=[],a=this._dataClone.concat(),Y=a.length;for(b=0;b<Y;++b){d=a[b];Z[b]=d[c];}this._keys[c]=Z;this._data=this._data.concat(Z);},removeKey:function(e){if(!this._keys.hasOwnProperty(e)){return;}var Z,f,Y={},b=[],a={},d=this._keys,c={};a[e]=d[e].concat();for(Z in d){if(d.hasOwnProperty(Z)){if(Z==e){continue;}f=d[Z];b=b.concat(f);Y[Z]=f;}}d=Y;this._data=b;this._updateMinAndMax();c.keysRemoved=a;this.fire("axisUpdate",c);},getKeyValueAt:function(Z,Y){var b=NaN,a=this.keys;if(a[Z]&&a[Z][Y]){b=a[Z][Y];}return b;},getDataByKey:function(Z){var Y=this._keys;if(Y[Z]){return Y[Z];}return null;},_updateMinAndMax:function(){var d=this.get("data"),Z=0,c=0,Y,a,b;if(d&&d.length&&d.length>0){Y=d.length;Z=c=d[0];if(Y>1){for(b=1;b<Y;b++){a=d[b];if(isNaN(a)){continue;}Z=Math.max(a,Z);c=Math.min(a,c);}}}this._dataMaximum=Z;this._dataMinimum=c;},newDataUpdateHandler:function(){var Y,a=this._keys,Z={};this._data=[];this._dataClone=this._dataProvider.data.concat();for(Y in a){if(a.hasOwnProperty(Y)){a[Y]=this._setDataByKey(Y);this._data=this._data.concat(a[Y]);}}this._updateMinAndMax();Z.keysAdded=a;this.fire("axisUpdate",Z);},_keyDataUpdateHandler:function(){var Y=false,b={},c=b.keysAdded,d=b.keysRemoved,a=this._keys,Z;for(Z in a){if(a.hasOwnProperty(Z)){if(c.hasOwnProperty(Z)){Y=true;a[Z]=a[Z];}if(d.hasOwnProperty(Z)){Y=true;a[Z]=[];}}}if(!Y){return;}this._data=[];for(Z in a){if(a.hasOwnProperty(Z)){this._data=this._data.concat(a[Z]);}}this._updateMinAndMax();b.keysAdded=c;b.keysRemoved=d;this.fire("axisUpdate",b);},getTotalMajorUnits:function(a,Y){var Z;if(a.determinant==="count"){Z=a.count;}else{if(a.determinant==="distance"){Z=(Y/a.distance)+1;}}return Math.min(Z,this._data.length);},getLabelAtPosition:function(d,Z,b){var a=this.get("minimum"),Y=this.get("maximum"),c=(d/Z*(Y-a))+a;return this.getFormattedLabel(c,b);},getFormattedLabel:function(Z,Y){return Z;}});B.BaseAxis=O;function K(Y){K.superclass.constructor.apply(this,arguments);}K.NAME="numericAxis";K.ATTRS={alwaysShowZero:{getter:function(){return this._alwaysShowZero;},setter:function(Y){if(Y==this._alwaysShowZero){return;}this._alwaysShowZero=Y;this._updateMinAndMax();return Y;}}};B.extend(K,B.BaseAxis,{_dataType:"numeric",_alwaysShowZero:true,_updateMinAndMax:function(){var e=this.get("data"),Z=0,d=0,Y,a,c,b;if(e&&e.length&&e.length>0){Y=e.length;Z=d=e[0];if(Y>1){for(c=1;c<Y;c++){a=e[c];if(isNaN(a)){if(B.Lang.isObject(a)){for(b in a){if(a.hasOwnProperty(b)){Z=Math.max(a[b],Z);d=Math.min(a[b],d);}}}continue;}Z=Math.max(a,Z);d=Math.min(a,d);}}}if(this._roundMinAndMax&&!isNaN(this._roundingUnit)){this._dataMaximum=this._roundUpToNearest(Z,this._roundingUnit);this._dataMinimum=this._roundDownToNearest(d,this._roundingUnit);}else{this._dataMaximum=Z;this._dataMinimum=d;}if(this._alwaysShowZero){this._dataMinimum=Math.min(0,this._dataMinimum);}},_roundToNearest:function(a,Z){Z=Z||1;if(Z===0){return a;}var Y=Math.round(this._roundToPrecision(a/Z,10))*Z;return this._roundToPrecision(Y,10);},_roundUpToNearest:function(Z,Y){Y=Y||1;if(Y===0){return Z;}return Math.ceil(this._roundToPrecision(Z/Y,10))*Y;},_roundDownToNearest:function(Z,Y){Y=Y||1;if(Y===0){return Z;}return Math.floor(this._roundToPrecision(Z/Y,10))*Y;},_roundToPrecision:function(a,Y){Y=Y||0;var Z=Math.pow(10,Y);return Math.round(Z*a)/Z;},getFormattedLabel:function(Z,Y){return B.DataType.Number.format(Z,Y);}});B.NumericAxis=K;function E(Y){E.superclass.constructor.apply(this,arguments);}E.NAME="stackedAxis";B.extend(E,B.NumericAxis,{_updateMinAndMax:function(){var e=0,Z=0,d=0,Y=0,c=0,a=0,f,b,g=this.get("keys");for(f in g){if(g.hasOwnProperty(f)){c=Math.max(c,g[f].length);}}for(;a<c;++a){d=0;Y=0;for(f in g){if(g.hasOwnProperty(f)){b=g[f][a];if(isNaN(b)){continue;
}if(b>=0){d+=b;}else{Y+=b;}}}if(d>0){e=Math.max(e,d);}else{e=Math.max(e,Y);}if(Y<0){Z=Math.min(Z,Y);}else{Z=Math.min(Z,d);}}if(this._roundMinAndMax&&!isNaN(this._roundingUnit)){this._dataMaximum=this._roundUpToNearest(e,this._roundingUnit);this._dataMinimum=this._roundDownToNearest(Z,this._roundingUnit);}else{this._dataMaximum=e;this._dataMinimum=Z;}if(this._alwaysShowZero&&Z>0){this._dataMinimum=Math.min(0,this._dataMinimum);}}});B.StackedAxis=E;function D(Y){D.superclass.constructor.apply(this,arguments);}D.NAME="timeAxis";D.ATTRS={maximum:{getter:function(){if(this._autoMax||this._setMaximum===null){return this._getNumber(this._dataMaximum);}return this._setMaximum;},setter:function(Y){this._setMaximum=this._getNumber(Y);this.fire("dataChange");}},minimum:{getter:function(){if(this._autoMin||this._setMinimum===null){return this._dataMinimum;}return this._setMinimum;},setter:function(Y){this._setMinimum=this._getNumber(Y);this.fire("dataChange");}}};B.extend(D,B.BaseAxis,{GUID:"yuitimeaxis",_dataType:"time",_setDataByKey:function(c){var d,Z=[],b=this._dataClone.concat(),a,e,Y=b.length;for(a=0;a<Y;++a){d=b[a][c];if(B.Lang.isDate(d)){e=d.valueOf();}else{if(!B.Lang.isNumber(d)){e=new Date(d.toString()).valueOf();}else{e=d;}}Z[a]=e;}this._keys[c]=Z;this._data=this._data.concat(Z);},_getNumber:function(Y){if(B.Lang.isDate(Y)){Y=Y.valueOf();}else{if(!B.Lang.isNumber(Y)){Y=new Date(Y.toString()).valueOf();}}return Y;},updateMaxByPosition:function(Z){var Y=this._dataMaximum-this._dataMinimum;Z=Math.round(Z*100)/100;Z=Z*Y;Z+=this._dataMinimum;this.set("maximum",Z);},updateMinByPosition:function(Z){var Y=this._dataMaximum-this._dataMinimum;Z=Math.round(Z*100)/100;Z=Z*Y;Z+=this._dataMinimum;this.set("minimum",Z);},updateMinAndMaxByPosition:function(a,c,Z){var b=a/Z,Y=c/Z;b+=this._dataMinimum;Y+=this._dataMaximum;this._setMaximum=this._getNumber(Y);this._setMinimum=this._getNumber(b);this.fire("dataChange");},getFormattedLabel:function(Z,Y){return B.DataType.Date.format(B.DataType.Date.parse(Z),{format:Y});}});B.TimeAxis=D;function F(Y){F.superclass.constructor.apply(this,arguments);}F.NAME="categoryAxis";B.extend(F,B.BaseAxis,{GUID:"yuicategoryaxis",_dataType:"category",_getKeyValueAt:function(Z,Y){var a=NaN;if(this.keys[Z]){a=Y;}return a;},_updateMinAndMax:function(){this._dataMaximum=Math.max(this._data.length-1,0);this._dataMinimum=0;},_setDataByKey:function(c){var b,d,Z=[],e=[],a=this._dataClone.concat(),Y=a.length;for(b=0;b<Y;++b){d=a[b];Z[b]=b;e[b]=d[c];}this._keys[c]=Z;this._data=this._data.concat(e);},getTotalMajorUnits:function(Z,Y){return this._data.length;},getLabelAtPosition:function(c,Y,b){var a=this._data.length-1,Z=Math.round(c/(Y/a));return this._data[Z];}});B.CategoryAxis=F;function T(Y){}T.NAME="renderer";T.ATTRS={styles:{value:{},getter:function(){this._styles=this._styles||this._getDefaultStyles();return this._styles;},setter:function(Y){this._styles=this._setStyles(Y);return this._styles;},validator:function(Y){return B.Lang.isObject(Y);}}};T.prototype={_newStyles:null,_styles:null,_setStyles:function(Z){var Y=this.get("styles");return this._mergeStyles(Z,Y);},_mergeStyles:function(Z,Y){this._newStyles={};B.Object.each(Z,function(d,c,b){if(Y.hasOwnProperty(c)&&B.Lang.isObject(d)){Y[c]=this._mergeStyles(d,Y[c]);}else{Y[c]=d;this._newStyles[c]=d;}},this);return Y;},_getDefaultStyles:function(){return{};}};B.Renderer=T;B.CartesianSeries=B.Base.create("cartesianSeries",B.Widget,[B.Renderer],{_leftOrigin:null,_bottomOrigin:null,renderUI:function(){this._setCanvas();},bindUI:function(){var Z=this.get("xAxis"),Y=this.get("yAxis");if(Z){Z.after("axisReady",B.bind(this._xAxisChangeHandler,this));Z.after("axisUpdate",B.bind(this._xAxisChangeHandler,this));}if(Y){Y.after("axisReady",B.bind(this._yAxisChangeHandler,this));Y.after("axisUpdate",B.bind(this._yAxisChangeHandler,this));}this.after("xAxisChange",B.bind(this.xAxisChangeHandler,this));this.after("yAxisChange",B.bind(this.yAxisChangeHandler,this));this.after("stylesChange",B.bind(this._updateHandler,this));},syncUI:function(){this.draw();},_updateHandler:function(Y){if(this.get("rendered")){this.draw();}},GUID:"yuicartesianseries",_setCanvas:function(){var Y=this.get("contentBox"),a=document.createElement("div"),Z=a.style;Y.appendChild(a);Z.position="absolute";Z.display="block";Z.top="0px";Z.left="0px";Z.width="100%";Z.height="100%";this.set("node",a);this.set("graphic",new B.Graphic());this.get("graphic").render(this.get("node"));},_xAxisChangeHandler:function(Y){if(this.get("rendered")&&this.get("xKey")&&this.get("yKey")){this.draw();}},_yAxisChangeHandler:function(Y){if(this.get("rendered")&&this.get("xKey")&&this.get("yKey")){this.draw();}},setAreaData:function(){var z,x,p=B.Node.one(this._parentNode).get("parentNode"),k=p.get("offsetWidth"),s=p.get("offsetHeight"),m=this.get("styles").padding,o=m.left,v=m.top,f=k-(o+m.right),r=s-(v+m.bottom),n=[],AB=[],j=this.get("xAxis"),Z=this.get("yAxis"),AA=j.get("maximum"),u=j.get("minimum"),a=Z.get("maximum"),Y=Z.get("minimum"),b=this.get("xKey"),e=this.get("yKey"),d=f/(AA-u),l=r/(a-Y),c=j.getDataByKey(b).concat(),t=Z.getDataByKey(e).concat(),g=c.length,y=this.get("direction"),q=0;if(y==="vertical"){t=t.reverse();}this.get("graphic").setSize(k,s);this._leftOrigin=Math.round(((0-u)*d)+o);this._bottomOrigin=Math.round((r+v)-(0-Y)*l);for(;q<g;++q){z=Math.round((((c[q]-u)*d)+o));x=Math.round(((r+v)-(t[q]-Y)*l));n.push(z);AB.push(x);}this.set("xcoords",n);this.set("ycoords",AB);},draw:function(){var a=B.Node.one(this._parentNode).get("parentNode"),Y=a.get("offsetWidth"),Z=a.get("offsetHeight");if(!isNaN(Y)&&!isNaN(Z)&&Y>0&&Z>0){this.setAreaData();this.drawSeries();}},_getDefaultStyles:function(){return{padding:{top:0,left:0,right:0,bottom:0}};}},{ATTRS:{type:{value:"cartesian"},order:{value:NaN},xcoords:{value:null},ycoords:{value:null},graph:{value:null},xAxis:{value:null,validator:function(Y){return Y!==this.get("xAxis");},lazyAdd:false},yAxis:{value:null,validator:function(Y){return Y!==this.get("yAxis");
},lazyAdd:false},xKey:{value:null,validator:function(Y){return Y!==this.get("xKey");}},yKey:{value:null,validator:function(Y){return Y!==this.get("yKey");}},node:{value:null},graphic:{value:null},direction:{value:"horizontal"}}});function R(Y){R.superclass.constructor.apply(this,arguments);}R.NAME="markerSeries";R.ATTRS={type:{value:"marker"}};B.extend(R,B.CartesianSeries,{drawSeries:function(){if(!this.get("xcoords")||this.get("xcoords").length<1){return;}var j=this.get("graphic"),t=this.get("styles"),f=t.width,s=t.height,b=t.fill.color,p=t.fill.alpha,g=t.fill.type||"solid",d=t.border.weight,Y=t.border.color,m=t.border.alpha||1,e=t.fill.colors,c=t.fill.alphas||[],l=t.fill.ratios||[],o=t.fill.rotation||0,k=this.get("xcoords"),u=this.get("ycoords"),a=t.func||"drawCircle",q=0,r=k.length,n=u[0],Z;for(;q<r;++q){n=u[q];Z=k[q];if(d>0){j.lineStyle(d,Y,m);}if(g==="solid"){j.beginFill(b,p);}else{j.beginGradientFill(g,e,c,l,{rotation:o,width:f,height:s});}this.drawMarker(j,a,Z,n,f,s);j.end();}},drawMarker:function(d,a,c,b,Y,Z){if(a==="drawCircle"){d.drawCircle(c,b,Y/2);}else{c-=Y/2;b-=Z/2;d[a].call(d,c,b,Y,Z);}},_getDefaultStyles:function(){return{fill:{type:"solid",color:"#000000",alpha:1,colors:null,alphas:null,ratios:null},border:{color:"#000000",weight:1,alpha:1},width:6,height:6,shape:"circle",padding:{top:0,left:0,right:0,bottom:0}};}});B.MarkerSeries=R;function I(Y){I.superclass.constructor.apply(this,arguments);}I.NAME="lineSeries";I.ATTRS={type:{value:"line"}};B.extend(I,B.CartesianSeries,{drawSeries:function(){if(this.get("xcoords").length<1){return;}var g=this.get("xcoords"),r=this.get("ycoords"),k=g.length,a=g[0],Z=r[0],q=a,o=Z,n,l,j,c=this.get("styles"),m=c.lineType,p=c.dashLength,e=c.gapSpace,d=c.connectDiscontinuousPoints,Y=c.discontinuousType,b=c.discontinuousDashLength,h=c.discontinuousGapSpace,f=this.get("graphic");f.clear();f.lineStyle(c.weight,c.color);f.moveTo(a,Z);for(j=1;j<k;j=++j){n=g[j];l=r[j];if(isNaN(l)){q=n;o=l;continue;}if(q==a){if(m!="dashed"){f.lineTo(n,l);}else{this.drawDashedLine(q,o,n,l,p,e);}}else{if(!d){f.moveTo(n,l);}else{if(Y!="solid"){this.drawDashedLine(q,o,n,l,b,h);}else{f.lineTo(n,l);}}}a=q=n;Z=o=l;}f.end();},drawDashedLine:function(k,o,Z,m,b,a){b=b||10;a=a||10;var d=b+a,g=Z-k,l=m-o,n=Math.sqrt(Math.pow(g,2)+Math.pow(l,2)),e=Math.floor(Math.abs(n/d)),c=Math.atan2(l,g),j=k,h=o,f,Y=this.get("graphic");g=Math.cos(c)*d;l=Math.sin(c)*d;for(f=0;f<e;++f){Y.moveTo(j,h);Y.lineTo(j+Math.cos(c)*b,h+Math.sin(c)*b);j+=g;h+=l;}Y.moveTo(j,h);n=Math.sqrt((Z-j)*(Z-j)+(m-h)*(m-h));if(n>b){Y.lineTo(j+Math.cos(c)*b,h+Math.sin(c)*b);}else{if(n>0){Y.lineTo(j+Math.cos(c)*n,h+Math.sin(c)*n);}}Y.moveTo(Z,m);},_getDefaultStyles:function(){return{color:"#000000",alpha:1,weight:1,marker:{fillColor:"#000000",alpha:1,weight:1,width:6,height:6},showMarkers:false,showLines:true,lineType:"solid",dashLength:10,gapSpace:10,connectDiscontinuousPoint:true,discontinuousType:"dashed",discontinuousDashLength:10,discontinuousGapSpace:10,padding:{top:0,left:0,right:0,bottom:0}};}});B.LineSeries=I;function C(Y){C.superclass.constructor.apply(this,arguments);}C.NAME="columnSeries";C.ATTRS={type:{value:"column"}};B.extend(C,B.CartesianSeries,{drawSeries:function(){if(this.get("xcoords").length<1){return;}var q=this.get("graphic"),AE=this.get("styles").marker,o=AE.width,AD=AE.height,g=AE.fillColor,f=AE.fillAlpha,p=AE.fillType||"solid",AG=AE.borderWidth,Y=AE.borderColor,t=AE.borderAlpha||1,n=AE.colors,j=AE.alpha||[],s=AE.ratios||[],y=AE.rotation||0,r=this.get("xcoords"),AF=this.get("ycoords"),e=AE.func||"drawRect",AA=0,AC=r.length,u=AF[0],c=this.get("type"),a=this.get("graph"),m=a.seriesTypes[c],AB=m.length,Z=0,b=0,k=0,l,x,z=this.get("order"),v=B.Node.one(this._parentNode).get("parentNode"),d;for(;AA<AB;++AA){x=m[AA];Z+=x.get("styles").marker.width;if(z>AA){k=Z;}}b=AC*Z;if(b>v.offsetWidth){l=this.width/b;Z*=l;k*=l;o*=l;o=Math.max(o,1);}k-=Z/2;for(AA=0;AA<AC;++AA){u=AF[AA];AD=this._bottomOrigin-u;d=r[AA]+k;if(AG>0){q.lineStyle(AG,Y,t);}if(p==="solid"){q.beginFill(g,f);}else{q.beginGradientFill(p,n,j,s,{rotation:y,width:o,height:AD});}this.drawMarker(q,e,d,u,o,AD);q.end();}},drawMarker:function(d,a,c,b,Y,Z){d.drawRect(c,b,Y,Z);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.ColumnSeries=C;function S(Y){S.superclass.constructor.apply(this,arguments);}S.NAME="barSeries";S.ATTRS={type:{value:"bar"},direction:{value:"vertical"}};B.extend(S,B.CartesianSeries,{drawSeries:function(){if(this.get("xcoords").length<1){return;}var p=this.get("graphic"),AD=this.get("styles").marker,n=AD.width,AC=AD.height,e=AD.fillColor,d=AD.fillAlpha,o=AD.fillType||"solid",AG=AD.borderWidth,Y=AD.borderColor,s=AD.borderAlpha||1,m=AD.colors,f=AD.alpha||[],r=AD.ratios||[],x=AD.rotation||0,q=this.get("xcoords"),AF=this.get("ycoords"),c=AD.func||"drawRect",z=0,AB=q.length,t=AF[0],a=this.get("type"),Z=this.get("graph"),l=Z.seriesTypes[a],AA=l.length,k=0,AE=0,g=0,j,v,y=this.get("order"),u=B.Node.one(this._parentNode).get("parentNode"),b;for(;z<AA;++z){v=l[z];k+=v.get("styles").marker.height;if(y>z){g=k;}}AE=AB*k;if(AE>u.offsetHeight){j=this.height/AE;k*=j;g*=j;AC*=j;AC=Math.max(AC,1);}g-=k/2;for(z=0;z<AB;++z){t=AF[z]+g;b=q[z];n=b-this._leftOrigin;if(AG>0){p.lineStyle(AG,Y,s);}if(o==="solid"){p.beginFill(e,d);}else{p.beginGradientFill(o,m,f,r,{rotation:x,width:n,height:AC});}this.drawMarker(p,c,b,t,n,AC);p.end();}},drawMarker:function(d,a,c,b,Y,Z){d.drawRect(this._leftOrigin,b,Y,Z);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.BarSeries=S;function M(Y){M.superclass.constructor.apply(this,arguments);}M.NAME="areaSeries";M.ATTRS={type:{value:"area"},direction:{value:"horizontal"}};
B.extend(M,B.CartesianSeries,{drawSeries:function(){if(this.get("xcoords").length<1){return;}var j=this.get("xcoords"),f=this.get("ycoords"),h=j.length,c=j[0],b=f[0],a=c,Z=b,g=a,e=Z,m,l,d,k=this.get("styles"),Y=this.get("graphic");Y.clear();Y.beginFill(k.color,k.alpha);Y.moveTo(a,Z);for(d=1;d<h;d=++d){m=j[d];l=f[d];if(isNaN(l)){g=m;e=l;continue;}Y.lineTo(m,l);a=g=m;Z=e=l;}if(this.get("direction")==="vertical"){Y.lineTo(this._leftOrigin,Z);Y.lineTo(this._leftOrigin,b);}else{Y.lineTo(a,this._bottomOrigin);Y.lineTo(c,this._bottomOrigin);}Y.lineTo(c,b);Y.end();},_getDefaultStyles:function(){return{color:"#000000",alpha:1,padding:{top:0,left:0,right:0,bottom:0}};}});B.AreaSeries=M;function V(Y){V.superclass.constructor.apply(this,arguments);}V.NAME="rangeSeries";V.ATTRS={type:{value:"range"}};B.extend(V,B.CartesianSeries,{setAreaData:function(){var z,y,q=B.Node.one(this._parentNode).get("parentNode"),l=q.get("offsetWidth"),t=q.get("offsetHeight"),n=this.get("styles").padding,p=n.left,x=n.top,g=l-(p+n.right),s=t-(x+n.bottom),o=[],AB=[],k=this.get("xAxis"),Z=this.get("yAxis"),AA=k.get("maximum"),v=k.get("minimum"),a=Z.get("maximum"),Y=Z.get("minimum"),b=this.get("xKey"),f=this.get("yKey"),e=g/(AA-v),m=s/(a-Y),d=k.getDataByKey(b),u=Z.getDataByKey(f),j=d.length,r,c;this.get("graphic").setSize(l,t);this._leftOrigin=Math.round(((0-v)*e)+p);this._bottomOrigin=Math.round((s+x)-(0-Y)*m);for(r=0;r<j;++r){c=u[r];z=Math.round((((d[r]-v)*e)+p));y={h:Math.round(((s+x)-(c.high-Y)*m)),l:Math.round(((s+x)-(c.low-Y)*m)),o:Math.round(((s+x)-(c.open-Y)*m)),c:Math.round(((s+x)-(c.close-Y)*m))};o.push(z);AB.push(y);}this.set("xcoords",o);this.set("ycoords",AB);},drawSeries:function(){if(this.get("xcoords").length<1){return;}var h=this.get("graphic"),q=this.get("styles").marker,g=q.width,j=this.get("xcoords"),s=this.get("ycoords"),n=0,o=j.length,b=this.get("type"),Z=this.get("graph"),f=Z.seriesTypes[b],p=f.length,Y=0,a=0,d=0,e,l,m=this.get("order"),k=B.Node.one(this._parentNode).get("parentNode"),c,r;for(;n<p;++n){l=f[n];Y+=l.get("styles").marker.width;if(m>n){d=Y;}}a=o*Y;if(a>k.offsetWidth){e=this.width/a;Y*=e;d*=e;g*=e;g=Math.max(g,1);}d-=Y/2;for(n=0;n<o;++n){r=s[n];c=j[n]+d;this.drawMarker(h,r,c,q);}}});B.RangeSeries=V;function L(Y){L.superclass.constructor.apply(this,arguments);}L.NAME="ohlcSeries";L.ATTRS={type:{value:"ohlc"}};B.extend(L,B.RangeSeries,{drawMarker:function(g,t,a,p){var n=t.h,i=t.o,k=t.l,r=t.c,f=p.width,m,Z=p.upColor,d=p.downColor,b,j=p.upAlpha,q=p.downAlpha,e=r<i,Y=p.thickness,s=a+f*0.5;m=e?Z:d;b=e?j:q;g.lineStyle(Y,m,b);g.moveTo(a,i);g.lineTo(s,i);g.moveTo(s,n);g.lineTo(s,k);g.moveTo(s,r);g.lineTo(a+f,r);g.end();},_getDefaultStyles:function(){return{marker:{upColor:"#aaaaaa",upAlpha:1,thickness:1,borderAlpha:1,downColor:"#000000",downAlpha:1,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.OHLCSeries=L;function Q(Y){Q.superclass.constructor.apply(this,arguments);}Q.NAME="candlestickSeries";Q.ATTRS={type:{value:"candlestick"}};B.extend(Q,B.RangeSeries,{drawMarker:function(i,AK,f,AD){var AI=AK.h,AE=AK.o,AG=AK.l,AL=AK.c,AF=Math.abs(AL-AE),AA=AD.width,AO,z=AD.upFillColor,b=AD.downFillColor,AH,u=AD.upFillAlpha,AN=AD.downFillAlpha,s=AL<AE,AB=AD.upFillType||"solid",x=AD.downFillType||"solid",d=AD.borderWidth,t=AD.borderColor,AM=AD.borderAlpha||1,AC,y=AD.upColors,AJ=AD.downColors,q,p=AD.upAlphas||[],v=AD.downAlphas||[],m,j=AD.upRatios||[],n=AD.downRatios||[],r,e=AD.upRotation||0,a=AD.downRotation||0,k=s?AB:x,g=AL<AE?AL:AE,Z=AL<AE?AE:AL,Y=f+AA*0.5;if(d>0){i.lineStyle(d,t,AM);}if(k==="solid"){AO=s?z:b;AH=s?u:AN;i.beginFill(AO,AH);}else{AC=s?y:AJ;r=s?e:a;m=s?j:n;q=s?p:v;i.beginGradientFill(k,AC,q,m,{rotation:r,width:AA,height:AF});}if(g>AI){i.moveTo(Y,AI);i.lineTo(Y,g);}i.drawRect(f,g,AA,AF);if(AG>AL&&AG>AE){i.moveTo(Y,Z);i.lineTo(Y,AG);}i.end();},_getDefaultStyles:function(){return{marker:{upFillColor:"#ffffff",upFillAlpha:1,borderColor:"#000000",borderWidth:1,borderAlpha:1,upColors:[],upAlphas:[],upRatios:[],upRotation:0,downFillColor:"#000000",downFillAlpha:1,downBorderColor:"#000000",downBorderWidth:0,downBorderAlpha:1,downColors:[],downAlphas:[],downRatios:[],downRotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.CandlestickSeries=Q;function H(Y){H.superclass.constructor.apply(this,arguments);}H.NAME="stackedLineSeries";H.ATTRS={type:{value:"stackedLine"}};B.extend(H,B.CartesianSeries,{drawSeries:function(){if(this.get("xcoords").length<1){return;}var m=this.get("xcoords"),AB=this.get("ycoords"),y=this.get("direction"),o=B.Node.one(this._parentNode).get("parentNode"),t=o.get("offsetHeight"),q=this.get("order"),a=this.get("type"),Y=this.get("graph"),f=Y.seriesTypes[a],Z,n,s=m.length,d=m[0],c=AB[0],AA=d,z=c,x,v,r=0,g=this.get("styles"),u=g.lineType,w=g.dashLength,k=g.gapSpace,j=g.connectDiscontinuousPoints,b=g.discontinuousType,e=g.discontinuousDashLength,p=g.discontinuousGapSpace,l=this.get("graphic");if(q>0){Z=f[q-1].get("xcoords").concat();n=f[q-1].get("ycoords").concat();if(y==="vertical"){s=Z.length;for(;r<s;++r){if(!isNaN(Z[r])&&!isNaN(m[r])){m[r]+=Z[r];}}d=AA=m[0];s=m.length;}else{s=n.length;for(;r<s;++r){if(!isNaN(n[r])&&!isNaN(AB[r])){AB[r]=n[r]-(t-AB[r]);}}c=z=AB[0];s=AB.length;}}l.clear();l.lineStyle(g.weight,g.color);l.moveTo(d,c);for(r=1;r<s;r=++r){x=m[r];v=AB[r];if(isNaN(v)){AA=x;z=v;continue;}if(AA==d){if(u!="dashed"){l.lineTo(x,v);}else{this.drawDashedLine(AA,z,x,v,w,k);}}else{if(!j){l.moveTo(x,v);}else{if(b!="solid"){this.drawDashedLine(AA,z,x,v,e,p);}else{l.lineTo(x,v);}}}d=AA=x;c=z=v;}l.end();},drawDashedLine:function(k,o,Z,m,b,a){b=b||10;a=a||10;var d=b+a,g=Z-k,l=m-o,n=Math.sqrt(Math.pow(g,2)+Math.pow(l,2)),e=Math.floor(Math.abs(n/d)),c=Math.atan2(l,g),j=k,h=o,f,Y=this.get("graphic");g=Math.cos(c)*d;l=Math.sin(c)*d;for(f=0;f<e;++f){Y.moveTo(j,h);Y.lineTo(j+Math.cos(c)*b,h+Math.sin(c)*b);j+=g;h+=l;}Y.moveTo(j,h);n=Math.sqrt((Z-j)*(Z-j)+(m-h)*(m-h));if(n>b){Y.lineTo(j+Math.cos(c)*b,h+Math.sin(c)*b);}else{if(n>0){Y.lineTo(j+Math.cos(c)*n,h+Math.sin(c)*n);
}}Y.moveTo(Z,m);},_getDefaultStyles:function(){return{color:"#000000",alpha:1,weight:1,marker:{fillColor:"#000000",alpha:1,weight:1,width:6,height:6},showMarkers:false,showLines:true,lineType:"solid",dashLength:10,gapSpace:10,connectDiscontinuousPoint:true,discontinuousType:"dashed",discontinuousDashLength:10,discontinuousGapSpace:10,padding:{top:0,left:0,right:0,bottom:0}};}});B.StackedLineSeries=H;function X(Y){X.superclass.constructor.apply(this,arguments);}X.NAME="stackedSeries";X.ATTRS={type:{value:"stacked"},direction:{value:"horizontal"}};B.extend(X,B.CartesianSeries,{drawSeries:function(){if(this.get("xcoords").length<1){return;}var u=this.get("direction"),m=B.Node.one(this._parentNode).get("parentNode"),q=m.get("offsetHeight"),n=this.get("order"),a=this.get("type"),Y=this.get("graph"),b=Y.seriesTypes[a],j=this.get("xcoords"),w=this.get("ycoords"),Z,l,k,g,p=j.length,e=j[0],d=w[0],v=e,t=d,s,r,o=0,c=this.get("styles"),f=this.get("graphic");if(n>0){Z=b[n-1].get("xcoords").concat();l=b[n-1].get("ycoords").concat();if(u==="vertical"){p=Z.length;for(;o<p;++o){if(!isNaN(Z[o])&&!isNaN(j[o])){j[o]+=Z[o];}}}else{p=l.length;for(;o<p;++o){if(!isNaN(l[o])&&!isNaN(w[o])){w[o]=l[o]-(q-w[o]);}}}g=w.concat();k=j.concat();k=k.concat(Z.concat().reverse());g=g.concat(l.concat().reverse());e=k[0];d=g[0];k.push(e);g.push(d);}else{g=w.concat();k=j.concat();if(u==="vertical"){k.push(this._leftOrigin);k.push(this._leftOrigin);g.push(g[g.length-1]);g.push(d);}else{k.push(k[k.length-1]);k.push(e);g.push(this._bottomOrigin);g.push(this._bottomOrigin);}k.push(e);g.push(d);}p=k.length;f.clear();f.beginFill(c.color,c.alpha);f.moveTo(e,d);for(o=1;o<p;o=++o){s=k[o];r=g[o];if(isNaN(r)){v=s;t=r;continue;}f.lineTo(s,r);v=s;t=r;}f.end();},_getDefaultStyles:function(){return{color:"#000000",alpha:1,padding:{top:0,left:0,right:0,bottom:0}};}});B.StackedAreaSeries=X;function P(Y){P.superclass.constructor.apply(this,arguments);}P.NAME="stackedColumnSeries";P.ATTRS={type:{value:"stackedColumn"},negativeBaseValues:{value:null},positiveBaseValues:{value:null}};B.extend(P,B.CartesianSeries,{drawSeries:function(){if(this.get("xcoords").length<1){return;}var r=this.get("graphic"),AE=this.get("styles").marker,p=AE.width,AD=AE.height,g=AE.fillColor,f=AE.fillAlpha,q=AE.fillType||"solid",AG=AE.borderWidth,Y=AE.borderColor,u=AE.borderAlpha||1,o=AE.colors,j=AE.alpha||[],t=AE.ratios||[],z=AE.rotation||0,s=this.get("xcoords"),AF=this.get("ycoords"),e=AE.func||"drawRect",AB=0,AC=s.length,v=AF[0],c=this.get("type"),a=this.get("graph"),m=a.seriesTypes[c],k,AA=this.get("order"),y=B.Node.one(this._parentNode).get("parentNode"),n,x,Z=AA===0,d,l,b=AC*p;if(b>y.offsetWidth){l=this.width/b;p*=l;p=Math.max(p,1);}if(!Z){k=m[AA-1];n=k.get("negativeBaseValues");x=k.get("positiveBaseValues");}else{n=[];x=[];}this.set("negativeBaseValues",n);this.set("positiveBaseValues",x);for(AB=0;AB<AC;++AB){v=AF[AB];if(Z){AD=this._bottomOrigin-v;if(v<this._bottomOrigin){x[AB]=v;n[AB]=this._bottomOrigin;}else{if(v>this._bottomOrigin){x[AB]=this._bottomOrigin;n[AB]=v;}else{x[AB]=v;n[AB]=v;}}}else{if(v>this._bottomOrigin){v+=(n[AB]-this._bottomOrigin);AD=n[AB]-v;n[AB]=v;}else{if(v<this._bottomOrigin){v=x[AB]-(this._bottomOrigin-AF[AB]);AD=x[AB]-v;x[AB]=v;}}}d=s[AB]-p/2;if(AG>0){r.lineStyle(AG,Y,u);}if(q==="solid"){r.beginFill(g,f);}else{r.beginGradientFill(q,o,j,t,{rotation:z,width:p,height:AD});}this.drawMarker(r,e,d,v,p,AD);r.end();}},drawMarker:function(d,a,c,b,Y,Z){d.drawRect(c,b,Y,Z);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.StackedColumnSeries=P;function G(Y){G.superclass.constructor.apply(this,arguments);}G.NAME="stackedBarSeries";G.ATTRS={type:{value:"stackedBar"},direction:{value:"vertical"},negativeBaseValues:{value:null},positiveBaseValues:{value:null}};B.extend(G,B.CartesianSeries,{drawSeries:function(){if(this.get("xcoords").length<1){return;}var q=this.get("graphic"),AD=this.get("styles").marker,o=AD.width,AC=AD.height,f=AD.fillColor,e=AD.fillAlpha,p=AD.fillType||"solid",AG=AD.borderWidth,Y=AD.borderColor,t=AD.borderAlpha||1,n=AD.colors,g=AD.alpha||[],s=AD.ratios||[],y=AD.rotation||0,r=this.get("xcoords"),AF=this.get("ycoords"),d=AD.func||"drawRect",AA=0,AB=r.length,u=AF[0],b=this.get("type"),a=this.get("graph"),l=a.seriesTypes[b],AE=0,k,z=this.get("order"),j,m,v,Z=z===0,x=B.Node.one(this._parentNode).get("parentNode"),c;AE=AB*AC;if(AE>x.offsetHeight){k=this.height/AE;AC*=k;AC=Math.max(AC,1);}if(!Z){j=l[z-1];m=j.get("negativeBaseValues");v=j.get("positiveBaseValues");}else{m=[];v=[];}this.set("negativeBaseValues",m);this.set("positiveBaseValues",v);for(AA=0;AA<AB;++AA){u=AF[AA];c=r[AA];if(Z){o=c-this._leftOrigin;if(c>this._leftOrigin){v[AA]=c;m[AA]=this._leftOrigin;}else{if(c<this._leftOrigin){v[AA]=this._leftOrigin;m[AA]=c;}else{v[AA]=c;m[AA]=this._leftOrigin;}}c-=o;}else{if(c<this._leftOrigin){c=m[AA]-(this._leftOrigin-r[AA]);o=m[AA]-c;m[AA]=c;}else{if(c>this._leftOrigin){c+=(v[AA]-this._leftOrigin);o=c-v[AA];v[AA]=c;c-=o;}}}u-=AC/2;if(AG>0){q.lineStyle(AG,Y,t);}if(p==="solid"){q.beginFill(f,e);}else{q.beginGradientFill(p,n,g,s,{rotation:y,width:o,height:AC});}this.drawMarker(q,d,c,u,o,AC);q.end();}},drawMarker:function(d,a,c,b,Y,Z){d.drawRect(c,b,Y,Z);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.StackedBarSeries=G;function W(Y){W.superclass.constructor.apply(this,arguments);}W.NAME="graphstack";W.ATTRS={seriesCollection:{lazyAdd:false,getter:function(){return this._seriesCollection;},setter:function(Y){this._parseSeriesCollection(Y);return this._seriesCollection;}},parent:{value:null}};B.extend(W,B.Base,{_seriesCollection:null,seriesTypes:null,_parseSeriesCollection:function(b){var Y=b.length,a=0,Z;
if(!b){return;}if(!this._seriesCollection){this._seriesCollection=[];}if(!this.seriesTypes){this.seriesTypes=[];}for(;a<Y;++a){Z=b[a];if(!(Z instanceof B.CartesianSeries)){this._createSeries(Z);continue;}this._addSeries(Z);}Y=this._seriesCollection.length;for(a=0;a<Y;++a){this._seriesCollection[a].render(this.get("parent"));}},_addSeries:function(a){var b=a.get("type"),d=this._seriesCollection,c=d.length,Z=this.seriesTypes,Y;if(!a.get("graph")){a.set("graph",this);}a.graphOrder=c;d.push(a);if(!Z.hasOwnProperty(b)){this.seriesTypes[b]=[];}Y=this.seriesTypes[b];a.set("order",Y.length);Y.push(a);this.fire("seriesAdded",a);},_createSeries:function(c){var d=c.type,e=this._seriesCollection,a=this.seriesTypes,Z,Y,b;c.graph=this;if(!a.hasOwnProperty(d)){a[d]=[];}Z=a[d];c.graph=this;c.order=Z.length;Y=this._getSeries(c.type);b=new Y(c);Z.push(b);e.push(b);},_getSeries:function(Y){var Z;switch(Y){case"line":Z=B.LineSeries;break;case"column":Z=B.ColumnSeries;break;case"bar":Z=B.BarSeries;break;case"area":Z=B.AreaSeries;break;case"candlestick":Z=B.CandlestickSeries;break;case"ohlc":Z=B.OHLCSeries;break;case"stackedarea":Z=B.StackedAreaSeries;break;case"stackedline":Z=B.StackedLineSeries;break;case"stackedcolumn":Z=B.StackedColumnSeries;break;case"stackedbar":Z=B.StackedBarSeries;break;case"markerseries":Z=B.MarkerSeries;break;default:Z=B.CartesianSeries;break;}return Z;}});B.GraphStack=W;B.AxisRenderer=B.Base.create("axisrenderer",B.Widget,[B.Renderer],{axisChangeHandler:function(a){var Y=a.newVal,Z=a.prevVal;if(Z){Z.detach("axisReady",this._axisDataChangeHandler);Z.detach("axisUpdate",this._axisDataChangeHandler);}Y.after("axisReady",B.bind(this._axisDataChangeHandler,this));Y.after("axisUpdate",B.bind(this._axisDataChangeHandler,this));},_axisDataChangeHandler:function(Y){if(this.get("rendered")){this._drawAxis();}},_updateHandler:function(Y){if(this.get("rendered")){this._drawAxis();}},_positionChangeHandler:function(Y){this._ui=this.getLayout(this.get("position"));if(this.get("rendered")){this._drawAxis();}},renderUI:function(){this._ui=this.getLayout(this.get("position"));this._setCanvas();},bindUI:function(){var Y=this.get("axis");if(Y){Y.after("axisReady",B.bind(this._axisDataChangeHandler,this));Y.after("axisUpdate",B.bind(this._axisDataChangeHandler,this));}this.after("axisChange",this.axisChangeHandler);this.after("stylesChange",this._updateHandler);this.after("positionChange",this._positionChangeHandler);this.after("overlapGraphChange",this._updateHandler);},syncUI:function(){this._drawAxis();},_setCanvas:function(){var Y=this.get("contentBox"),b=this.get("position"),c=document.createElement("div"),a=c.style,Z=this._parentNode;Y.appendChild(c);a.position="absolute";a.display="block";a.top="0px";a.left="0px";a.border="1px";if(b==="top"||b==="bottom"){Y.setStyle("width",Z.getStyle("width"));}else{Y.setStyle("height",Z.getStyle("height"));}a.width=Y.getStyle("width");a.height=Y.getStyle("height");this.set("node",c);this.set("graphic",new B.Graphic());this.get("graphic").render(this.get("node"));},_getDefaultStyles:function(){return{majorTicks:{display:"inside",length:4,color:"#000000",weight:1,alpha:1},minorTicks:{display:"none",length:2,color:"#000000",weight:1},line:{weight:1,color:"#000000",alpha:1},majorUnit:{determinant:"count",count:5,distance:75},padding:{top:0,left:0,right:0,bottom:0},top:"0px",left:"0px",width:"100px",height:"100px",hideOverlappingLabelTicks:false};}},{NAME:"axisRenderer",ATTRS:{graphic:{value:null},axis:{value:null,validator:function(Y){return Y!==this.get("axis");}},node:{value:null},position:{value:"bottom",validator:function(Y){return((Y!==this.get("position"))&&(Y==="bottom"||Y==="top"||Y==="left"||Y==="right"));}},topTickOffset:{value:0},bottomTickOffset:{value:0},leftTickOffset:{value:0},rightTickOffset:{value:0},overlapGraph:{value:true,validator:function(Y){return B.Lang.isBoolean(Y);}}}});function J(Y){J.superclass.constructor.apply(this,arguments);}J.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};B.extend(J,B.Base,{setTickOffsets:function(){var Y=this.get("axisRenderer"),c=Y.get("styles").majorTicks,a=c.length,Z=a*0.5,b=c.display;Y.set("topTickOffset",0);Y.set("bottomTickOffset",0);switch(b){case"inside":Y.set("rightTickOffset",a);break;case"outside":Y.set("leftTickOffset",a);break;case"cross":Y.set("rightTickOffset",Z);Y.set("leftTickOffset",Z);break;}},getLineStart:function(){var Y=this.get("axisRenderer"),Z=Y.get("styles"),d=Z.padding,e=Z.majorTicks,a=e.length,c=e.display,b={x:d.left,y:0};if(c==="outside"){b.x+=a;}else{if(c==="cross"){b.x+=a/2;}}return b;},drawTick:function(e,c){var Z=this.get("axisRenderer"),a=Z.get("styles"),d=a.padding,b=c.length,f={x:d.left,y:e.y},Y={x:b+d.left,y:e.y};Z.drawLine(f,Y,c);},getLabelPoint:function(Y){var Z=this.get("axisRenderer");return{x:Y.x-Z.get("leftTickOffset"),y:Y.y};},positionLabel:function(m,o){var f=this.get("axisRenderer"),Z=f.get("styles").label,c=o.x,i=o.y,d=Math.min(90,Math.max(-90,Z.rotation)),g=Math.abs(d),k=Math.PI/180,n=parseFloat(parseFloat(Math.sin(g*k)).toFixed(8)),b=parseFloat(parseFloat(Math.cos(g*k)).toFixed(8)),j=b,h=d>0?-n:n,e=-h,a=j,l=0,Y=this.get("maxLabelSize");if(B.UA.ie){m.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(d===0){c-=m.offsetWidth;i-=m.offsetHeight*0.5;}else{if(g===90){c-=m.offsetHeight;i-=m.offsetWidth*0.5;}else{if(d===-90){c-=m.offsetHeight;i-=m.offsetWidth*0.5;}else{if(d>0){c-=(b*m.offsetWidth)+(m.offsetHeight*d/90);i-=(n*m.offsetWidth)+(b*(m.offsetHeight*0.5));}else{c-=(b*m.offsetWidth)+(g/90*m.offsetHeight);i-=b*(m.offsetHeight*0.5);}}}}m.style.left=c+"px";m.style.top=i+"px";m.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+j+" M12="+h+" M21="+e+" M22="+a+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(Y,m.offsetWidth));return;}if(d===0){l=m.offsetWidth;c-=l;i-=m.offsetHeight*0.5;}else{if(d===90){l=m.offsetHeight;i-=m.offsetWidth*0.5;}else{if(d===-90){l=m.offsetHeight;c-=l;i+=m.offsetWidth*0.5;}else{l=(b*m.offsetWidth)+(n*m.offsetHeight);
if(d<0){c-=l;i+=(n*m.offsetWidth)-(b*(m.offsetHeight*0.6));}else{c-=(b*m.offsetWidth);i-=(n*m.offsetWidth)+(b*(m.offsetHeight*0.6));}}}}m.style.left=c+"px";m.style.top=i+"px";m.style.MozTransformOrigin="0 0";m.style.MozTransform="rotate("+d+"deg)";m.style.webkitTransformOrigin="0 0";m.style.webkitTransform="rotate("+d+"deg)";this.set("maxLabelSize",Math.max(l,Y));},setSizeAndPosition:function(){var Y=this.get("maxLabelSize"),Z=this.get("axisRenderer"),a=Z.get("styles"),c=a.line.weight,d=a.majorTicks,b=d.display,e=d.length;if(b==="outside"){c+=e;}else{if(b==="cross"){c+=e*0.5;}}c+=Y;Z.get("node").style.left=Y+"px";Z.set("width",c);},offsetNodeForTick:function(a){var Y=this.get("axisRenderer"),c=Y.get("styles").majorTicks,Z=c.length,b=c.display;if(b==="inside"){a.style.marginRight=(0-Z)+"px";}else{if(b==="cross"){a.style.marginRight=(0-(Z*0.5))+"px";}}}});B.LeftAxisLayout=J;function N(Y){N.superclass.constructor.apply(this,arguments);}N.ATTRS={axisRenderer:{value:null}};B.extend(N,B.Base,{setTickOffsets:function(){var Y=this.get("axisRenderer"),c=Y.get("styles").majorTicks,a=c.length,Z=a*0.5,b=c.display;Y.set("topTickOffset",0);Y.set("bottomTickOffset",0);switch(b){case"inside":Y.set("leftTickOffset",a);break;case"outside":Y.set("rightTickOffset",a);break;case"cross":Y.set("rightTickOffset",Z);Y.set("leftTickOffset",Z);break;}},drawTick:function(e,c){var Z=this.get("axisRenderer"),a=Z.get("styles"),d=a.padding,b=c.length,f={x:d.left,y:e.y},Y={x:d.left+b,y:e.y};Z.drawLine(f,Y,c);},getLineStart:function(){var Y=this.get("axisRenderer"),Z=Y.get("styles"),d=Z.padding,e=Z.majorTicks,a=e.length,c=e.display,b={x:d.left,y:d.top};if(c==="inside"){b.x+=a;}else{if(c==="cross"){b.x+=a/2;}}return b;},getLabelPoint:function(Y){var Z=this.get("axisRenderer");return{x:Y.x+Z.get("rightTickOffset"),y:Y.y};},positionLabel:function(k,m){var e=this.get("axisRenderer"),Y=e.get("styles").label,b=m.x,h=m.y,c=Math.min(Math.max(Y.rotation,-90),90),f=Math.abs(c),j=Math.PI/180,l=parseFloat(parseFloat(Math.sin(f*j)).toFixed(8)),a=parseFloat(parseFloat(Math.cos(f*j)).toFixed(8)),i=a,g=c>0?-l:l,d=-g,Z=i;if(B.UA.ie){k.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(c===0){h-=k.offsetHeight*0.5;}else{if(f===90){h-=k.offsetWidth*0.5;}else{if(c>0){h-=(a*(k.offsetHeight*0.5));}else{h-=(l*k.offsetWidth)+(a*(k.offsetHeight*0.5));}}}k.style.left=b+"px";k.style.top=h+"px";k.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+i+" M12="+g+" M21="+d+" M22="+Z+' sizingMethod="auto expand")';return;}if(c===0){h-=k.offsetHeight*0.5;}else{if(c===90){b+=k.offsetHeight;h-=k.offsetWidth*0.5;}else{if(c===-90){h+=k.offsetWidth*0.5;}else{if(c<0){h-=(a*(k.offsetHeight*0.6));}else{h-=a*(k.offsetHeight*0.6);b+=l*k.offsetHeight;}}}}k.style.left=b+"px";k.style.top=h+"px";k.style.MozTransformOrigin="0 0";k.style.MozTransform="rotate("+c+"deg)";k.style.webkitTransformOrigin="0 0";k.style.webkitTransform="rotate("+c+"deg)";},setSizeAndPosition:function(Y){var Z=this.get("axisRenderer"),a=Z.get("styles"),c=a.line.weight,d=a.majorTicks,b=d.display,e=d.length;if(b==="outside"){c+=e;}else{if(b==="cross"){c+=e*0.5;}}c+=Y;Z.set("width",c);},offsetNodeForTick:function(a){var Y=this.get("axisRenderer"),c=Y.get("styles").majorTicks,Z=c.length,b=c.display;if(b==="inside"){a.style.marginLeft=(0-Z)+"px";}else{if(b==="cross"){a.style.marginLeft=(0-(Z*0.5))+"px";}}}});B.RightAxisLayout=N;function U(Y){U.superclass.constructor.apply(this,arguments);}U.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};B.extend(U,B.Base,{setTickOffsets:function(){var Y=this.get("axisRenderer"),c=Y.get("styles").majorTicks,a=c.length,Z=a*0.5,b=c.display;Y.set("leftTickOffset",0);Y.set("rightTickOffset",0);switch(b){case"inside":Y.set("topTickOffset",a);break;case"outside":Y.set("bottomTickOffset",a);break;case"cross":Y.set("topTickOffset",Z);Y.set("bottomTickOffset",Z);break;}},setSizeAndPosition:function(){var Y=this.get("maxLabelSize"),Z=this.get("axisRenderer"),a=Z.get("styles"),c=a.line.weight,d=a.majorTicks,b=d.display,e=d.length;if(b==="outside"){c+=e;}else{if(b==="cross"){c+=e*0.5;}}c+=Y;Z.set("height",c);},getLineStart:function(){var Y=this.get("axisRenderer"),Z=Y.get("styles"),d=Z.padding,e=Z.majorTicks,a=e.length,c=e.display,b={x:0,y:d.top};if(c==="inside"){b.y+=a;}else{if(c==="cross"){b.y+=a/2;}}return b;},drawTick:function(e,c){var Z=this.get("axisRenderer"),a=Z.get("styles"),d=a.padding,b=c.length,f={x:e.x,y:d.top},Y={x:e.x,y:b+d.top};Z.drawLine(f,Y,c);},getLabelPoint:function(Y){var Z=this.get("axisRenderer");return{x:Y.x,y:Y.y+Z.get("bottomTickOffset")};},positionLabel:function(m,o){var f=this.get("axisRenderer"),Z=f.get("styles").label,c=o.x,i=o.y,d=Math.min(90,Math.max(-90,Z.rotation)),g=Math.abs(d),k=Math.PI/180,n=parseFloat(parseFloat(Math.sin(g*k)).toFixed(8)),b=parseFloat(parseFloat(Math.cos(g*k)).toFixed(8)),j=b,h=d>0?-n:n,e=-h,a=j,l=0,Y=this.get("maxLabelSize");if(B.UA.ie){j=b;h=d>0?-n:n;e=-h;a=j;m.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(g===90){c-=m.offsetHeight*0.5;}else{if(d<0){c-=b*m.offsetWidth;c-=n*(m.offsetHeight*0.5);}else{if(d>0){c-=n*(m.offsetHeight*0.5);}else{c-=m.offsetWidth*0.5;}}}m.style.left=c+"px";m.style.top=i+"px";m.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+j+" M12="+h+" M21="+e+" M22="+a+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(m.offsetHeight,Y));return;}if(d===0){c-=m.offsetWidth*0.5;l=m.offsetHeight;}else{if(g===90){l=m.offsetWidth;if(d===90){c+=m.offsetHeight*0.5;}else{i+=l;c-=m.offsetHeight*0.5;}}else{l=(n*m.offsetWidth)+(b*m.offsetHeight);if(d<0){c-=(b*m.offsetWidth)+(n*(m.offsetHeight*0.6));i+=n*m.offsetWidth;}else{c+=n*(m.offsetHeight*0.6);}}}m.style.left=c+"px";m.style.top=i+"px";m.style.MozTransformOrigin="0 0";m.style.MozTransform="rotate("+d+"deg)";m.style.webkitTransformOrigin="0 0";m.style.webkitTransform="rotate("+d+"deg)";this.set("maxLabelSize",Math.max(l,Y));},offsetNodeForTick:function(a){var Y=this.get("axisRenderer"),c=Y.get("styles").majorTicks,Z=c.length,b=c.display;
if(b==="inside"){a.style.marginTop=(0-Z)+"px";}else{if(b==="cross"){a.style.marginTop=(0-(Z*0.5))+"px";}}}});B.BottomAxisLayout=U;function A(Y){A.superclass.constructor.apply(this,arguments);}A.ATTRS={axisRenderer:{value:null}};B.extend(A,B.Base,{setTickOffsets:function(){var Y=this.get("axisRenderer"),c=Y.get("styles").majorTicks,a=c.length,Z=a*0.5,b=c.display;Y.set("leftTickOffset",0);Y.set("rightTickOffset",0);switch(b){case"inside":Y.set("bottomTickOffset",a);break;case"outside":Y.set("topTickOffset",a);break;case"cross":Y.set("topTickOffset",Z);Y.set("bottomTickOffset",Z);break;}},getLineStart:function(){var Y=this.get("axisRenderer"),Z=Y.get("styles"),d=Z.padding,e=Z.majorTicks,a=e.length,c=e.display,b={x:0,y:d.top};if(c==="outside"){b.y+=a;}else{if(c==="cross"){b.y+=a/2;}}return b;},drawTick:function(e,c){var Z=this.get("axisRenderer"),a=Z.get("styles"),d=a.padding,b=c.length,f={x:e.x,y:d.top},Y={x:e.x,y:b+d.top};Z.drawLine(f,Y,c);},getLabelPoint:function(Z){var Y=this.get("axisRenderer");return{x:Z.x,y:Z.y-Y.get("topTickOffset")};},positionLabel:function(k,m){var e=this.get("axisRenderer"),Y=e.get("styles").label,b=m.x,h=m.y,c=Math.max(-90,Math.min(90,Y.rotation)),f=Math.abs(c),j=Math.PI/180,l=parseFloat(parseFloat(Math.sin(f*j)).toFixed(8)),a=parseFloat(parseFloat(Math.cos(f*j)).toFixed(8)),i,g,d,Z;c=Math.min(90,c);c=Math.max(-90,c);if(B.UA.ie){k.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";i=a;g=c>0?-l:l;d=-g;Z=i;if(c===0){b-=k.offsetWidth*0.5;h-=k.offsetHeight;}else{if(f===90){b-=k.offsetHeight*0.5;h-=k.offsetWidth;}else{if(c>0){b-=(a*k.offsetWidth)+Math.min((l*k.offsetHeight),(c/180*k.offsetHeight));h-=(l*k.offsetWidth)+(a*(k.offsetHeight));}else{b-=l*(k.offsetHeight*0.5);h-=(l*k.offsetWidth)+(a*(k.offsetHeight));}}}k.style.left=b;k.style.top=h;k.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+i+" M12="+g+" M21="+d+" M22="+Z+' sizingMethod="auto expand")';return;}if(c===0){b-=k.offsetWidth*0.5;h-=k.offsetHeight;}else{if(c===90){b+=k.offsetHeight*0.5;h-=k.offsetWidth;}else{if(c===-90){b-=k.offsetHeight*0.5;h-=0;}else{if(c<0){b-=(l*(k.offsetHeight*0.6));h-=(a*k.offsetHeight);}else{b-=(a*k.offsetWidth)-(l*(k.offsetHeight*0.6));h-=(l*k.offsetWidth)+(a*k.offsetHeight);}}}}k.style.left=b+"px";k.style.top=h+"px";k.style.MozTransformOrigin="0 0";k.style.MozTransform="rotate("+c+"deg)";k.style.webkitTransformOrigin="0 0";k.style.webkitTransform="rotate("+c+"deg)";},setSizeAndPosition:function(Y){var Z=this.get("axisRenderer"),a=Z.get("styles"),c=a.line.weight,d=a.majorTicks,b=d.display,e=d.length;if(b==="outside"){c+=e;}else{if(b==="cross"){c+=e*0.5;}}c+=Y;Z.get("node").style.top=Y+"px";Z.set("height",c);},offsetNodeForTick:function(a){var Y=this.get("axisRenderer"),c=Y.get("styles").majorTicks,Z=c.length,b=c.display;if(b==="inside"){a.style.marginBottom=(0-Z)+"px";}else{if(b==="cross"){a.style.marginBottom=(0-(Z*0.5))+"px";}}}});B.TopAxisLayout=A;B.mix(B.AxisRenderer.prototype,{_ui:null,getLayout:function(Z){var Y;switch(Z){case"top":Y=new B.TopAxisLayout({axisRenderer:this});break;case"bottom":Y=new B.BottomAxisLayout({axisRenderer:this});break;case"left":Y=new B.LeftAxisLayout({axisRenderer:this});break;case"right":Y=new B.RightAxisLayout({axisRenderer:this});break;}return Y;},drawLine:function(a,Z,Y){var b=this.get("graphic");b.lineStyle(Y.weight,Y.color,Y.alpha);b.moveTo(a.x,a.y);b.lineTo(Z.x,Z.y);b.end();},_drawAxis:function(){var Z=this.get("styles"),j=Z.majorTicks,k=j.display!="none",c,h=Z.majorUnit,a=this.get("axis"),g,m,d=0,b,e,f,n,l=this._ui,Y=this.get("graphic");Y.clear();l.setTickOffsets();b=this.getLength();f=l.getLineStart();c=this.getFirstPoint(f);this.drawLine(f,this.getLineEnd(c),this.get("styles").line);if(k){l.drawTick(c,j);}g=a.getTotalMajorUnits(h,b);if(g<1){return;}m=b/(g-1);this._createLabelCache();l.set("maxLabelSize",0);for(;d<g;++d){if(k){l.drawTick(c,j);}e=this.getPosition(c);n=this.getLabel(c,a.getLabelAtPosition(e,b));l.positionLabel(n,l.getLabelPoint(c));c=this.getNextPoint(c,m);}l.setSizeAndPosition();this._clearLabelCache();if(this.get("overlapGraph")){l.offsetNodeForTick(this.get("node"));}},_labels:null,_labelCache:null,getLabel:function(b,Y,c){var a,Z=this._labelCache;if(Z.length>0){a=Z.shift();}else{a=document.createElement("span");}a.innerHTML=Y;a.style.display="block";a.style.position="absolute";this.get("node").appendChild(a);this._labels.push(a);return a;},_createLabelCache:function(){if(this._labels){this._labelCache=this._labels.concat();}else{this._labelCache=[];}this._labels=[];},_clearLabelCache:function(){var Y=this._labelCache.length,a=0,Z,b;for(;a<Y;++a){Z=b[a];Z.parentNode.removeChild(Z);}this._labelCache=[];},_calculateSizeByTickLength:true,getLineEnd:function(a){var Y=this.get("node").offsetWidth,Z=this.get("node").offsetHeight,b=this.get("position");if(b==="top"||b==="bottom"){return{x:Y,y:a.y};}else{return{x:a.x,y:Z};}},getLength:function(){var Z,b=this.get("styles"),c=b.padding,Y=this.get("node").offsetWidth,a=this.get("node").offsetHeight,d=this.get("position");if(d==="top"||d==="bottom"){Z=Y-(c.left+c.right);}else{Z=a-(c.top+c.bottom);}return Z;},getFirstPoint:function(b){var Y=this.get("styles"),c=this.get("position"),a=Y.padding,Z={x:b.x,y:b.y};if(c==="top"||c==="bottom"){Z.x+=a.left;}else{Z.y+=a.top;}return Z;},getNextPoint:function(Y,Z){var a=this.get("position");if(a==="top"||a==="bottom"){Y.x=Y.x+Z;}else{Y.y=Y.y+Z;}return Y;},getLastPoint:function(){var Z=this.get("styles"),a=Z.padding,Y=this.get("node").offsetWidth,b=this.get("position");if(b==="top"||b==="bottom"){return{x:Y-a.right,y:a.top};}else{return{x:a.left,y:a.top};}},getPosition:function(Y){var d,b=this.get("node").offsetHeight,a=this.get("styles"),c=a.padding,e=this.get("position"),Z=this.get("axis").get("dataType");if(e==="left"||e==="right"){if(Z==="numeric"){d=(b-(c.top+c.bottom))-(Y.y-c.top);}else{d=Y.y-c.top;}}else{d=Y.x-c.left;}return d;}});},"@VERSION@");