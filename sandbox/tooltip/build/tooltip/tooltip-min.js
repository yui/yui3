YUI.add("tooltip",function(E){var D=E.Lang,C=E.Node,B=-10000,A=-10000;E.Tooltip=E.Base.create("tooltip",E.Widget,[E.WidgetPosition,E.WidgetStack],{initializer:function(F){this._triggerClassName=this.getClassName("trigger");this._currTrigger={node:null,title:null,mouseX:E.Tooltip.OFFSCREEN_X,mouseY:E.Tooltip.OFFSCREEN_Y};this._eventHandles={delegate:null,trigger:{mouseMove:null,mouseOut:null}};this._timers={show:null,hide:null};this.publish("triggerEnter",{defaultFn:this._defTriggerEnterFn,preventable:true});this.publish("triggerLeave",{preventable:false});},destructor:function(){this._clearCurrentTrigger();this._clearTimers();this._clearHandles();},bindUI:function(){this.after("delegateChange",this._afterSetDelegate);this.after("nodesChange",this._afterSetNodes);this._bindDelegate();},syncUI:function(){this._uiSetNodes(this.get("triggerNodes"));},setTriggerContent:function(I){var G=this.get("contentBox"),H=0,F;G.set("innerHTML","");if(I){if(I instanceof C){F=I.size();for(;H<F;++H){G.appendChild(I.item(H));}}else{if(D.isString(I)){G.set("innerHTML",I);}}}},_afterSetNodes:function(F){this._uiSetNodes(F.newVal);},_afterSetDelegate:function(F){this._bindDelegate(F.newVal);},_uiSetNodes:function(F){if(this._triggerNodes){this._triggerNodes.removeClass(this._triggerClassName);}if(F){this._triggerNodes=F;this._triggerNodes.addClass(this._triggerClassName);}},_bindDelegate:function(){var F=this._eventHandles;if(F.delegate){F.delegate.detach();F.delegate=null;}F.delegate=E.delegate("mouseenter",E.bind(this._onNodeMouseEnter,this),this.get("delegate"),"."+this._triggerClassName);},_onNodeMouseEnter:function(G){var F=G.currentTarget;if(F&&(!this._currTrigger.node||!F.compareTo(this._currTrigger.node))){this._enterTrigger(F,G.pageX,G.pageY);}},_onNodeMouseLeave:function(F){this._leaveTrigger(F.currentTarget);},_onNodeMouseMove:function(F){this._overTrigger(F.pageX,F.pageY);},_enterTrigger:function(G,F,H){this._setCurrentTrigger(G,F,H);this.fire("triggerEnter",{node:G,pageX:F,pageY:H});},_defTriggerEnterFn:function(H){var G=H.node,F;if(!this.get("disabled")){this._clearTimers();F=(this.get("visible"))?0:this.get("showDelay");this._timers.show=E.later(F,this,this._showTooltip,[G]);}},_leaveTrigger:function(F){this.fire("triggerLeave");this._clearCurrentTrigger();this._clearTimers();this._timers.hide=E.later(this.get("hideDelay"),this,this._hideTooltip);},_overTrigger:function(F,G){this._currTrigger.mouseX=F;this._currTrigger.mouseY=G;},_showTooltip:function(G){var F=this._currTrigger.mouseX,H=this._currTrigger.mouseY;this.move(F+E.Tooltip.OFFSET_X,H+E.Tooltip.OFFSET_Y);this.show();this._clearTimers();this._timers.hide=E.later(this.get("autoHideDelay"),this,this._hideTooltip);},_hideTooltip:function(){this._clearTimers();this.hide();},_setTriggerContent:function(G){var F=this.get("content");if(F&&!(F instanceof C||D.isString(F))){F=F[G.get("id")]||G.getAttribute("title");}this.setTriggerContent(F);},_setCurrentTrigger:function(G,F,K){var H=this._currTrigger,J=this._eventHandles.trigger,I;this._setTriggerContent(G);J.mouseMove=E.on("mousemove",E.bind(this._onNodeMouseMove,this),G);J.mouseOut=E.on("mouseleave",E.bind(this._onNodeMouseLeave,this),G);I=G.getAttribute("title");G.setAttribute("title","");H.mouseX=F;H.mouseY=K;H.node=G;H.title=I;},_clearCurrentTrigger:function(){var G=this._currTrigger,I=this._eventHandles.trigger,F,H;if(G.node){F=G.node;H=G.title||"";G.node=null;G.title="";I.mouseMove.detach();I.mouseOut.detach();I.mouseMove=null;I.mouseOut=null;F.setAttribute("title",H);}},_clearTimers:function(){var F=this._timers;if(F.hide){F.hide.cancel();F.hide=null;}if(F.show){F.show.cancel();F.show=null;}},_clearHandles:function(){var F=this._eventHandles;if(F.delegate){this._eventHandles.delegate.detach();}if(F.trigger.mouseOut){F.trigger.mouseOut.detach();}if(F.trigger.mouseMove){F.trigger.mouseMove.detach();}}},{OFFSET_X:15,OFFSET_Y:15,OFFSCREEN_X:B,OFFSCREEN_Y:A,ATTRS:{content:{value:null},triggerNodes:{value:null,setter:function(F){if(F&&D.isString(F)){F=C.all(F);}return F;}},delegate:{value:null,setter:function(F){return E.one(F)||E.one("document");}},showDelay:{value:250},hideDelay:{value:10},autoHideDelay:{value:2000},visible:{value:false},xy:{value:[B,A]}}});},"@VERSION@");