YUI.add("graphics",function(D){var C=function(E){this.initializer.apply(this,arguments);};C.prototype={initializer:function(E){this._dummy=this._createDummy();this._canvas=this._createGraphic();this._context=this._canvas.getContext("2d");this._initProps();},beginBitmapFill:function(E){var F=this._context,H=E.bitmap,G=E.repeat||"repeat";this._fillWidth=E.width||null;this._fillHeight=E.height||null;this._fillX=!isNaN(E.tx)?E.tx:NaN;this._fillY=!isNaN(E.ty)?E.ty:NaN;this._fillType="bitmap";this._bitmapFill=F.createPattern(H,G);return this;},beginFill:function(E,G){var F=this._context;F.beginPath();if(E){if(G){E=this._2RGBA(E,G);}else{E=this._2RGB(E);}this._fillColor=E;this._fillType="solid";}return this;},beginGradientFill:function(I){var H,K,J=0,G=I.colors,F=I.alphas||[],E=G.length;this._fillAlphas=F;this._fillColors=G;this._fillType=I.type||"linear";this._fillRatios=I.ratios||[];this._fillRotation=I.rotation||0;this._fillWidth=I.width||null;this._fillHeight=I.height||null;this._fillX=!isNaN(I.tx)?I.tx:NaN;this._fillY=!isNaN(I.ty)?I.ty:NaN;for(;J<E;++J){K=F[J];H=G[J];if(K){H=this._2RGBA(H,K);}else{H=this._2RGB(H);}G[J]=H;}this._context.beginPath();return this;},lineStyle:function(L,I,H,K,M,G,E,J){I=I||"#000000";var F=this._context;if(this._stroke){F.stroke();}F.lineWidth=L;if(L){this._stroke=1;}else{this._stroke=0;}if(I){this._strokeStyle=I;if(H){this._strokeStyle=this._2RGBA(this._strokeStyle,H);}}if(!this._fill){F.beginPath();}if(G==="butt"){G="none";}if(F.lineCap){}this._drawingComplete=false;return this;},lineTo:function(K,J,G){var F=arguments,I=this._context,H,E;if(typeof K==="string"||typeof K==="number"){F=[[K,J]];}for(H=0,E=F.length;H<E;++H){I.lineTo(F[H][0],F[H][1]);this._updateShapeProps.apply(this,F[H]);this._trackSize.apply(this,F[H]);}this._drawingComplete=false;return this;},moveTo:function(E,F){this._context.moveTo(E,F);this._trackPos(E,F);this._updateShapeProps(E,F);this._drawingComplete=false;return this;},clear:function(){this._initProps();this._canvas.width=this._canvas.width;this._canvas.height=this._canvas.height;return this;},curveTo:function(G,F,I,H,E,J){this._context.bezierCurveTo(G,F,I,H,E,J);this._drawingComplete=false;this._updateShapeProps(E,J);this._trackSize(E,J);this._trackPos(E,J);return this;},quadraticCurveTo:function(G,F,E,H){this._context.quadraticCurveTo(G,F,E,H);this._drawingComplete=false;this._updateShapeProps(E,H);return this;},drawCircle:function(F,J,E){var I=this._context,H=0,G=2*Math.PI;this._shape={x:F-E,y:J-E,w:E*2,h:E*2};this._drawingComplete=false;this._trackPos(F,J);this._trackSize(E*2,E*2);I.beginPath();I.arc(F,J,E,H,G,false);this._drawShape();return this;},drawEllipse:function(P,N,Q,V){this._shape={x:P,y:N,w:Q,h:V};if(this._stroke&&this._context.lineWidth>0){Q-=this._context.lineWidth*2;V-=this._context.lineWidth*2;P+=this._context.lineWidth;N+=this._context.lineWidth;}var F=this._context,S=8,K=-(45/180)*Math.PI,X=0,J,H=Q/2,I=V/2,T=0,M=P+H,L=N+I,R,O,W,U,G,E;this._drawingComplete=false;this._trackPos(P,N);this._trackSize(P+Q,N+V);F.beginPath();R=M+Math.cos(0)*H;O=L+Math.sin(0)*I;F.moveTo(R,O);for(;T<S;T++){X+=K;J=X-(K/2);W=M+Math.cos(X)*H;U=L+Math.sin(X)*I;G=M+Math.cos(J)*(H/Math.cos(K/2));E=L+Math.sin(J)*(I/Math.cos(K/2));F.quadraticCurveTo(G,E,W,U);}this._drawShape();return this;},drawRect:function(E,I,G,H){var F=this._context;this._shape={x:E,y:I,w:G,h:H};this._drawingComplete=false;F.beginPath();F.moveTo(E,I);F.lineTo(E+G,I);F.lineTo(E+G,I+H);F.lineTo(E,I+H);F.lineTo(E,I);this._trackPos(E,I);this._trackSize(G,H);this._drawShape();return this;},drawRoundRect:function(E,K,G,I,H,J){this._shape={x:E,y:K,w:G,h:I};var F=this._context;this._drawingComplete=false;F.beginPath();F.moveTo(E,K+J);F.lineTo(E,K+I-J);F.quadraticCurveTo(E,K+I,E+H,K+I);F.lineTo(E+G-H,K+I);F.quadraticCurveTo(E+G,K+I,E+G,K+I-J);F.lineTo(E+G,K+J);F.quadraticCurveTo(E+G,K,E+G-H,K);F.lineTo(E+H,K);F.quadraticCurveTo(E,K,E,K+J);this._trackPos(E,K);this._trackSize(G,I);this._drawShape();return this;},drawWedge:function(N,L,R,K,G,H){var Q,P,J,V,I,O,M,U,T,F,E,S=0;this._drawingComplete=false;this.moveTo(N,L);H=H||G;if(Math.abs(K)>360){K=360;}Q=Math.ceil(Math.abs(K)/45);P=K/Q;J=-(P/180)*Math.PI;V=-(R/180)*Math.PI;if(Q>0){O=N+Math.cos(R/180*Math.PI)*G;M=L+Math.sin(-R/180*Math.PI)*H;this.lineTo(O,M);for(;S<Q;++S){V+=J;I=V-(J/2);U=N+Math.cos(V)*G;T=L+Math.sin(V)*H;F=N+Math.cos(I)*(G/Math.cos(J/2));E=L+Math.sin(I)*(H/Math.cos(J/2));this.quadraticCurveTo(F,E,U,T);}this.lineTo(N,L);}this._trackPos(N,L);this._trackSize(G,G);this._drawShape();},end:function(){this._drawShape();this._initProps();return this;},lineGradientStyle:function(){return this;},setSize:function(E,F){this._node.style.width=E+"px";this._node.style.height=F+"px";this._canvas.style.top="0px";this._canvas.style.left="0px";this._canvas.width=E;this._canvas.height=F;},getWidth:function(){return this._canvas.offsetWidth;},setPosition:function(E,F){this._node.style.left=E+"px";this._node.style.top=F+"px";},render:function(E){E=E||D.config.doc.body;this._node=document.createElement("div");this._node.style.width=E.offsetWidth+"px";this._node.style.height=E.offsetHeight+"px";this._node.style.display="block";this._node.style.position="absolute";this._node.style.left=E.style.left;this._node.style.top=E.style.top;E.appendChild(this._node);this._node.appendChild(this._canvas);this._canvas.width=E.offsetWidth>0?E.offsetWidth:100;this._canvas.height=E.offsetHeight>0?E.offsetHeight:100;this._canvas.style.position="absolute";return this;},_initProps:function(){var E=this._context;E.fillStyle="rgba(0, 0, 0, 1)";E.lineWidth=1;E.lineJoin="miter";E.miterLimit=3;this._strokeStyle="rgba(0, 0, 0, 1)";this._width=0;this._height=0;this._x=0;this._y=0;this._fillType=null;this._stroke=null;this._bitmapFill=null;this._drawingComplete=false;},_getFill:function(){var E=this._fillType,F;switch(E){case"linear":F=this._getLinearGradient("fill");break;case"radial":F=this._getRadialGradient("fill");break;case"bitmap":F=this._bitmapFill;break;case"solid":F=this._fillColor;
break;}return F;},_getLinearGradient:function(J){var I="_"+J,O=this[I+"Colors"],S=this[I+"Ratios"],P=!isNaN(this._fillX)?this._fillX:this._shape.x,N=!isNaN(this._fillY)?this._fillY:this._shape.y,Q=this._fillWidth||(this._shape.w),a=this._fillHeight||(this._shape.h),V=this._context,U=this[I+"Rotation"],Y,W,X,M,R,L,b,Z,H,F,G=P+Q/2,E=N+a/2,K=Math.PI/180,T=parseFloat(parseFloat(Math.tan(U*K)).toFixed(8));if(Math.abs(T)*Q/2>=a/2){if(U<180){H=N;F=N+a;}else{H=N+a;F=N;}b=G-((E-H)/T);Z=G-((E-F)/T);}else{if(U>90&&U<270){b=P+Q;Z=P;}else{b=P;Z=P+Q;}H=((T*(G-b))-E)*-1;F=((T*(G-Z))-E)*-1;}L=V.createLinearGradient(b,H,Z,F);W=O.length;R=0;for(Y=0;Y<W;++Y){X=O[Y];M=S[Y]||Y/(W-1);L.addColorStop(M,X);R=(Y+1)/W;}return L;},_getRadialGradient:function(N){var F="_"+N,E=this[F+"Colors"],K=this[F+"Ratios"],J,H,R=this._fillWidth||this._shape.w,L=this._fillHeight||this._shape.h,P=!isNaN(this._fillX)?this._fillX:this._shape.x,O=!isNaN(this._fillY)?this._fillY:this._shape.y,I,M,G,Q,S=this._context;P+=R/2;O+=L/2;Q=S.createRadialGradient(P,O,1,P,O,R/2);H=E.length;G=0;for(J=0;J<H;++J){I=E[J];M=K[J]||J/(H-1);Q.addColorStop(M,I);}return Q;},_drawShape:function(){if(this._drawingComplete||!this._shape){return;}var E=this._context,F;if(this._fillType){F=this._getFill();if(F){E.fillStyle=F;}E.closePath();}if(this._fillType){E.fill();}if(this._stroke){E.strokeStyle=this._strokeStyle;E.stroke();}this._drawingComplete=true;},_drawingComplete:false,_node:null,_reHex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,_2RGBA:function(F,E){E=(E!==undefined)?E:1;if(this._reHex.exec(F)){F="rgba("+[parseInt(RegExp.$1,16),parseInt(RegExp.$2,16),parseInt(RegExp.$3,16)].join(",")+","+E+")";}return F;},_createDummy:function(){var E=D.config.doc.createElement("div");E.style.height=0;E.style.width=0;E.style.overflow="hidden";D.config.doc.documentElement.appendChild(E);return E;},_createGraphic:function(E){var F=D.config.doc.createElement("canvas");F.width=600;F.height=600;return F;},_2RGB:function(E){this._dummy.style.background=E;return this._dummy.style.backgroundColor;},_trackSize:function(E,F){if(E>this._width){this._width=E;}if(F>this._height){this._height=F;}},_trackPos:function(E,F){if(E>this._x){this._x=E;}if(F>this._y){this._y=F;}},_updateShapeProps:function(E,H){var F,G;if(!this._shape){this._shape={};}if(!this._shape.x){this._shape.x=E;}else{this._shape.x=Math.min(this._shape.x,E);}if(!this._shape.y){this._shape.y=H;}else{this._shape.y=Math.min(this._shape.y,H);}F=Math.abs(E-this._shape.x);if(!this._shape.w){this._shape.w=F;}else{this._shape.w=Math.max(F,this._shape.w);}G=Math.abs(H-this._shape.y);if(!this._shape.h){this._shape.h=G;}else{this._shape.h=Math.max(G,this._shape.h);}},getShape:function(H){var F,K,J=H.shape||H.type,L=H.fill,G=H.border,E=H.width,I=H.height;this.clear();this.setPosition(0,0);this.setSize(E,I);if(G&&G.weight&&G.weight>0){G.color=G.color||"#000";G.alpha=G.alpha||1;this.lineStyle(G.weight,G.color,G.alpha);}if(L.type==="radial"||L.type==="linear"){this.beginGradientFill(L);}else{if(L.type==="bitmap"){this.beginBitmapFill(L);}else{this.beginFill(L.color,L.alpha);}}switch(J){case"circle":this.drawEllipse(0,0,E,I);break;case"rect":this.drawRect(0,0,E,I);break;}F={type:J,width:E,height:I,fill:L,node:this._node,border:G};return F;},updateShape:function(E,F){if(F.fill){E.fill=D.merge(E.fill,F.fill);}if(F.border){E.border=D.merge(E.border,F.border);}if(F.width){E.width=F.width;}if(F.height){E.height=F.height;}if(F.shape!==E.type){E.type=F.shape;}return this.getShape(E);}};D.Graphic=C;var A=function(E){this.initializer.apply(this,arguments);};A.prototype={initializer:function(F){F=F||{};var E=F.width||0,G=F.height||0;this._vml=this._createGraphics();this.setSize(E,G);this._initProps();},beginBitmapFill:function(E){var F={};F.src=E.bitmap.src;F.type="tile";this._fillProps=F;if(!isNaN(E.tx)||!isNaN(E.ty)||!isNaN(E.width)||!isNaN(E.height)){this._gradientBox={tx:E.tx,ty:E.ty,width:E.width,height:E.height};}else{this._gradientBox=null;}},beginFill:function(E,F){if(E){if(F){this._fillProps={type:"solid",opacity:F};}this._fillColor=E;this._fill=1;}return this;},beginGradientFill:function(G){var L=G.type,E=G.colors,F=G.alphas||[],J=G.ratios||[],O={colors:E,ratios:J},K=F.length,I=0,H,M,N=G.rotation||0;for(;I<K;++I){H=F[I];M=I>0?I+1:"";F[I]=Math.round(H*100)+"%";O["opacity"+M]=F[I];}if(L==="linear"){if(G){}if(N>0&&N<=90){N=450-N;}else{if(N<=270){N=270-N;}else{if(N<=360){N=630-N;}else{N=270;}}}O.type="gradientunscaled";O.angle=N;}else{if(L==="radial"){O.alignshape=false;O.type="gradientradial";O.focus="100%";O.focusposition="50%,50%";}}O.ratios=J||[];if(!isNaN(G.tx)||!isNaN(G.ty)||!isNaN(G.width)||!isNaN(G.height)){this._gradientBox={tx:G.tx,ty:G.ty,width:G.width,height:G.height};}else{this._gradientBox=null;}this._fillProps=O;},clear:function(){this._path="";this._removeChildren(this._vml);},_removeChildren:function(E){if(E.hasChildNodes()){var F;while(E.firstChild){F=E.firstChild;this._removeChildren(F);E.removeChild(F);}}},curveTo:function(G,F,I,H,E,J){this._shape="shape";this._path+=" c "+Math.round(G)+", "+Math.round(F)+", "+Math.round(I)+", "+Math.round(H)+", "+E+", "+J;this._trackSize(E,J);},quadraticCurveTo:function(G,F,E,H){this._path+=" qb "+G+", "+F+", "+E+", "+H;},drawCircle:function(E,G,F){this._width=this._height=F*2;this._x=E-F;this._y=G-F;this._shape="oval";this._drawVML();},drawEllipse:function(E,H,F,G){this._width=F;this._height=G;this._x=E;this._y=H;this._shape="oval";this._drawVML();},drawRect:function(E,H,F,G){this._x=E;this._y=H;this._width=F;this._height=G;this.moveTo(E,H);this.lineTo(E+F,H);this.lineTo(E+F,H+G);this.lineTo(E,H+G);this.lineTo(E,H);this._drawVML();},drawRoundRect:function(E,J,F,H,G,I){this._x=E;this._y=J;this._width=F;this._height=H;this.moveTo(E,J+I);this.lineTo(E,J+H-I);this.quadraticCurveTo(E,J+H,E+G,J+H);this.lineTo(E+F-G,J+H);this.quadraticCurveTo(E+F,J+H,E+F,J+H-I);this.lineTo(E+F,J+I);this.quadraticCurveTo(E+F,J,E+F-G,J);this.lineTo(E+G,J);this.quadraticCurveTo(E,J,E,J+I);this._drawVML();
},drawWedge:function(G,J,I,H,F,E){this._drawingComplete=false;this._width=F;this._height=F;E=E||F;if(Math.abs(H)>360){H=360;}I*=65535;H*=65536;this._path+=" m "+G+" "+J+" ae "+G+" "+J+" "+F+" "+F+" "+I+" "+H;this._width=F*2;this._height=this._width;this._shape="shape";this._drawVML();},end:function(){if(this._shape){this._drawVML();}this._initProps();},lineGradientStyle:function(){},lineStyle:function(H,G,L,J,I,K,E,F){this._stroke=1;this._strokeWeight=H*0.7;this._strokeColor=G;},lineTo:function(J,I,G){var F=arguments,H,E;if(typeof J==="string"||typeof J==="number"){F=[[J,I]];}E=F.length;this._shape="shape";this._path+=" l ";for(H=0;H<E;++H){this._path+=" "+F[H][0]+", "+F[H][1];this._trackSize.apply(this,F[H]);}},moveTo:function(E,F){this._path+=" m "+E+", "+F;},setSize:function(E,F){this._vml.style.width=E+"px";this._vml.style.height=F+"px";this._vml.coordSize=E+" "+F;},setPosition:function(E,F){this._vml.style.left=E+"px";this._vml.style.top=F+"px";},render:function(G){var E=G.offsetWidth,F=G.offsetHeight;G=G||D.config.doc.body;G.appendChild(this._vml);this.setSize(E,F);this._initProps();return this;},_shape:null,_trackSize:function(E,F){if(E>this._width){this._width=E;}if(F>this._height){this._height=F;}},_initProps:function(){this._fillColor=null;this._strokeColor=null;this._strokeWeight=0;this._fillProps=null;this._path="";this._width=0;this._height=0;this._x=0;this._y=0;this._fill=null;this._stroke=0;this._stroked=false;},_clearPath:function(){this._shape=null;this._path="";this._width=0;this._height=0;this._x=0;this._y=0;},_drawVML:function(){var G=this._createGraphicNode(this._shape),E=this._width,H=this._height,F=this._fillProps;if(this._path){if(this._fill||this._fillProps){this._path+=" x";}if(this._stroke){this._path+=" e";}G.path=this._path;G.coordSize=E+", "+H;}else{G.style.display="block";G.style.position="absolute";G.style.left=this._x+"px";G.style.top=this._y+"px";}if(this._fill){G.fillColor=this._fillColor;}else{G.filled=false;}if(this._stroke&&this._strokeWeight>0){G.strokeColor=this._strokeColor;G.strokeWeight=this._strokeWeight;}else{G.stroked=false;}G.style.width=E+"px";G.style.height=H+"px";if(F){G.filled=true;G.appendChild(this._getFill());}this._vml.appendChild(G);this._clearPath();},_getFill:function(){var R=this._createGraphicNode("fill"),P=this._width,K=this._height,L=this._fillProps,F,Q,I=0,E,O="",M,J,N=Math.sqrt(Math.pow(P,2)+Math.pow(K,2)),H=50,G=50;if(this._gradientBox){H=Math.round((this._gradientBox.width/2-((this._x-this._gradientBox.tx)*N/P))/(P*P/N)*100);G=Math.round((this._gradientBox.height/2-((this._y-this._gradientBox.ty)*N/K))/(K*K/N)*100);L.focussize=(this._gradientBox.width/P)/10+" "+(this._gradientBox.height/K)/10;}if(L.colors){E=L.colors.concat();J=L.ratios.concat();M=E.length;for(;I<M;++I){Q=J[I]||I/(M-1);Q=Math.round(100*Q)+"%";O+=", "+Q+" "+E[I];}if(parseInt(Q,10)<100){O+=", 100% "+E[M-1];}}for(F in L){if(L.hasOwnProperty(F)){R.setAttribute(F,L[F]);}}R.colors=O.substr(2);if(L.type==="gradientradial"){R.focusposition=H+"%,"+G+"%";}return R;},_createGraphics:function(){var E=this._createGraphicNode("group");E.style.display="inline-block";E.style.position="absolute";return E;},_createGraphicNode:function(E){return document.createElement("<"+E+' xmlns="urn:schemas-microsft.com:vml" class="vml'+E+'"/>');},getShape:function(E){var J,F,K,M=E.fill,G=E.border,I,L=E.width,H=E.height;if(E.node){F=E.node;}else{this.clear();K=E.shape||"shape";if(K==="circle"||K==="ellipse"){K="oval";}F=this._createGraphicNode(K);}this.setPosition(0,0);if(G&&G.weight&&G.weight>0){F.strokecolor=G.color||"#000000";F.strokeweight=G.weight||1;F.stroked=true;L-=G.weight;H-=G.weight;}else{F.stroked=false;}this.setSize(L,H);F.style.width=L+"px";F.style.height=H+"px";F.filled=true;if(M.type==="linear"||M.type==="radial"){this.beginGradientFill(M);F.appendChild(this._getFill());}else{if(M.type==="bitmap"){this.beginBitmapFill(M);F.appendChild(this._getFill());}else{if(!M.color){F.filled=false;}else{if(E.fillnode){this._removeChildren(E.fillnode);}I=this._createGraphicNode("fill");I.setAttribute("type","solid");M.alpha=M.alpha||1;I.setAttribute("color",M.color);I.setAttribute("opacity",M.alpha);F.appendChild(I);}}}F.style.display="block";F.style.position="absolute";if(!E.node){this._vml.appendChild(F);}J={width:L,height:H,fill:M,node:F,fillnode:I,border:G};return J;},updateShape:function(E,F){if(F.fill){E.fill=D.merge(E.fill,F.fill);}if(F.border){E.border=D.merge(E.border,F.border);}if(F.width){E.width=F.width;}if(F.height){E.height=F.height;}if(F.shape!==E.type){F.node=null;F.fillnode=null;}return this.getShape(E);},addChild:function(E){this._vml.appendChild(E);}};if(D.UA.ie){var B=document.createStyleSheet();B.addRule(".vmlgroup","behavior:url(#default#VML)",B.rules.length);B.addRule(".vmlgroup","display:inline-block",B.rules.length);B.addRule(".vmlgroup","zoom:1",B.rules.length);B.addRule(".vmlshape","behavior:url(#default#VML)",B.rules.length);B.addRule(".vmlshape","display:inline-block",B.rules.length);B.addRule(".vmloval","behavior:url(#default#VML)",B.rules.length);B.addRule(".vmloval","display:inline-block",B.rules.length);B.addRule(".vmlrect","behavior:url(#default#VML)",B.rules.length);B.addRule(".vmlrect","display:block",B.rules.length);B.addRule(".vmlfill","behavior:url(#default#VML)",B.rules.length);D.Graphic=A;}},"@VERSION@");