<!doctype html>
<html>
<head>
    <title>Test Page</title>
    <style type="text/css">
    .yui-slider,
    .yui-slider-rail {
        /* xbrowser inline-block styles */
        display: -moz-inline-stack; /* FF2 */
        display: inline-block;
        *display: inline; /* IE 7- (with zoom) */
        zoom: 1;
    }

    .yui-slider .yui-slider-x .yui-slider-thumb-range {
        xvertical-align: middle;
    }

    .yui-slider-content {
        position: relative;
        display: block;
    }
    .yui-slider-rail {
        position: relative;
    }

    .yui-slider-rail-cap-top,
    .yui-slider-rail-cap-left,
    .yui-slider-rail-cap-bottom,
    .yui-slider-rail-cap-right,
    .yui-slider-thumb,
    .yui-slider-thumb-image,
    .yui-slider-thumb-shadow {
        position: absolute;
    }

    .yui-slider-thumb {
        overflow: hidden;
    }

    /* With the absolute positioning, is this still needed? */
    .yui-slider-thumb-image,
    .yui-slider-thumb-shadow {
        /* to collapse vertical space around short thumbs in tall line-height */
        display: block;
    }

    /* SKINS */
    /* Horizontal Slider */
    .yui-slider-skin-1 .yui-slider-x .yui-slider-rail,
    .yui-slider-skin-1 .yui-slider-x .yui-slider-rail-cap-left,
    .yui-slider-skin-1 .yui-slider-x .yui-slider-rail-cap-right {
        background-image: url(skin_research/round1/images/rail_white_00_h_3px_thick-1.png);
    }

    .yui-slider-skin-1 .yui-slider-x .yui-slider-rail {
        height: 26px;
        width: 200px; /* Example.  This will be supplied via js */
    }
    .yui-slider-skin-1 .yui-slider-x .yui-slider-thumb {
        height: 26px;
        width: 15px;
    }
    .yui-slider-skin-1 .yui-slider-x .yui-slider-thumb-image {
        left: 0;
        top: -10px;
    }
    .yui-slider-skin-1 .yui-slider-x .yui-slider-thumb-shadow {
        left: 0;
        opacity: 0.15;
        top: -50px;
    }

    .yui-slider-skin-1 .yui-slider-x .yui-slider-rail-cap-left {
        background-position: 0 -20px;
        height: 20px;
        left: -2px;
        width: 5px;
    }
    .yui-slider-skin-1 .yui-slider-x .yui-slider-rail-cap-right {
        background-position: 0 -40px;
        height: 20px;
        right: -2px;
        width: 5px;
    }

    /* Vertical Slider */
    .yui-slider-skin-1 .yui-slider-y .yui-slider-rail {
        position: relative;
        height: 200px; /* Example.  This will be supplied via js */
        width: 20px;
    }

    .yui-slider-skin-1 .yui-slider-y .yui-slider-rail,
    .yui-slider-skin-1 .yui-slider-y .yui-slider-rail-cap-top,
    .yui-slider-skin-1 .yui-slider-y .yui-slider-rail-cap-bottom {
        background-image: url(skin_research/round1/images/rail_white_00_v_3px_thick-1.png);
    }

    .yui-slider-skin-1 .yui-slider-y .yui-slider-rail-cap-top {
        background-position: -20px 0;
        width: 20px;
        top: -2px;
        height: 5px;
    }
    .yui-slider-skin-1 .yui-slider-y .yui-slider-rail-cap-bottom {
        background-position: -40px 0;
        width: 20px;
        bottom: -2px;
        height: 5px;
    }

    .yui-slider-skin-1 .yui-slider-y .yui-slider-thumb {
        width: 26px;
        height: 15px;
    }
    .yui-slider-skin-1 .yui-slider-y .yui-slider-thumb-image {
        left: -10px;
        top: 0;
    }
    .yui-slider-skin-1 .yui-slider-y .yui-slider-thumb-shadow {
        left: -50px;
        opacity: 0.15;
        top: 0;
    }
    </style>
</head>
<body class="yui-skin-sam">

<p>This is a horizontal Slider: 
<span class="yui-slider yui-slider-skin-1">
    <span class="yui-slider-content yui-slider-x">
        <span id="x-rail" class="yui-slider-rail">
            <span class="yui-slider-rail-cap-left"></span>
            <span class="yui-slider-rail-cap-right"></span>
            <span id="x" class="yui-slider-thumb" tabindex="-1">
                <img src="skin_research/round1/images/thumb_white_00_h_rect_pointer-1.png" alt="Slider thumb shadow" class="yui-slider-thumb-shadow">
                <img src="skin_research/round1/images/thumb_white_00_h_rect_pointer-1.png" alt="Slider thumb" class="yui-slider-thumb-image">
            </span>
        </span>
    </span>
</span>

and this is a vertical Slider:
<span class="yui-slider yui-slider-skin-1">
    <span class="yui-slider-content yui-slider-y">
        <span id="y-rail" class="yui-slider-rail">
            <span class="yui-slider-rail-cap-top"></span>
            <span class="yui-slider-rail-cap-bottom"></span>
            <span id="y" class="yui-slider-thumb" tabindex="-1">
                <img src="skin_research/round1/images/thumb_white_00_v_rect_pointer-1.png" alt="Slider thumb shadow" class="yui-slider-thumb-shadow">
                <img src="skin_research/round1/images/thumb_white_00_v_rect_pointer-1.png" alt="Slider thumb" class="yui-slider-thumb-image">
            </span>
        </span>
    </span>
</span>
and this is more content.</p>
<div id="report"></div>


<script src="/yui3/build/yui/yui.js"></script>
<script src="/yui3/build/dd-value/dd-value-debug.js"></script>
<!--script src="http://yui.yahooapis.com/3.0.0/build/yui/yui.js"></script-->
<script>
YUI({
    filter: 'raw'
}).use( 'dd', 'dd-value', 'console', function ( Y ) {

    var x = Y.one( '#x' ).plug( Y.Plugin.Drag );
    x.dd.plug( Y.Plugin.DDConstrained, {
            constrain2node: '#x-rail'
        } )
        .plug( Y.Plugin.DDValue, {
            //value: 35,
            after: {
                valueChange: function ( e ) {
                    Y.one( '#report' ).setContent( e.newVal + '' );
                    // Without the following, IE6,7 jumps the thumb off the rail
                    // for the duration of the drag if there is no content in
                    // #report.  On the next attempt to move (when the new
                    // content is in place), it jumps back to the rail.
                    x.dd.con.resetCache();
                }
            }
        } );

    var y = Y.one( '#y' ).plug( Y.Plugin.Drag );
    y.dd.plug( Y.Plugin.DDConstrained, {
            constrain2node: '#y-rail',
            stickY: true
        } )
        .plug( Y.Plugin.DDValue, {
            after: {
                valueChange: function ( e ) {
                    Y.one( '#report' ).setContent( e.newVal + '' );
                    // I didn't see the same issue here, but eh, whatever.
                    x.dd.con.resetCache();
                }
            }
        } );

});
</script>
</body>
</html>
