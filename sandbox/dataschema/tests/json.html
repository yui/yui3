<!doctype html>
<html>
<head>
    <title>Test Page</title>
</head>
<body class="yui-skin-sam">
<div class="markup">

</div>

<script src="/yui3/build/yui/yui.js"></script>
<script src="/yui3/build/dataschema/dataschema-class.js"></script>
<!--script src="http://yui.yahooapis.com/3.0.0/build/yui/yui.js"></script-->
<script>
YUI({
    filter: 'raw'
}).use('node','dataschema-class', 'dataschema-json', function (Y) {

Y.JSON.useNativeStringify = false;

var schema = new Y.DataSchema({
    type: 'json',
    schema: {
        resultListLocator: 'recs',
        resultFields: [ { key: 'foo' }, { key: 'bar' } ]
    }
});

var data = '{"recs":[{"foo":1,"bar":"1:1"},{"foo":2,"bar":"2:1"}]}';

var results = schema.apply(data);

Y.one('.markup').setContent('<pre>' + Y.JSON.stringify(results,null,4) + '</pre>');

});
</script>
</body>
</html>
